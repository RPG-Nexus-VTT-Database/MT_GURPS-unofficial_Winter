<net.rptools.maptool.util.PersistenceUtil_-PersistedCampaign>
  <campaign>
    <id>
      <baGUID>wKgAxInCgpzoJAAAgIAAgA==</baGUID>
    </id>
    <zones>
      <entry>
        <net.rptools.maptool.model.GUID>
          <baGUID>wKgAxJLCgpz3JAAAgIAAgA==</baGUID>
        </net.rptools.maptool.model.GUID>
        <net.rptools.maptool.model.Zone>
          <creationTime>1278231102098</creationTime>
          <id reference="../../net.rptools.maptool.model.GUID"/>
          <grid class="net.rptools.maptool.model.HexGridVertical">
            <offsetX>-23</offsetX>
            <offsetY>-28</offsetY>
            <size>50</size>
            <zone reference="../.."/>
            <cellShape>
              <curves>
                <sun.awt.geom.Order0>
                  <direction>1</direction>
                  <x>14.0</x>
                  <y>0.0</y>
                </sun.awt.geom.Order0>
                <sun.awt.geom.Order1>
                  <direction>1</direction>
                  <x0>14.0</x0>
                  <y0>0.0</y0>
                  <x1>0.0</x1>
                  <y1>25.0</y1>
                  <xmin>0.0</xmin>
                  <xmax>14.0</xmax>
                </sun.awt.geom.Order1>
                <sun.awt.geom.Order1>
                  <direction>1</direction>
                  <x0>0.0</x0>
                  <y0>25.0</y0>
                  <x1>14.0</x1>
                  <y1>50.0</y1>
                  <xmin>0.0</xmin>
                  <xmax>14.0</xmax>
                </sun.awt.geom.Order1>
                <sun.awt.geom.Order1>
                  <direction>-1</direction>
                  <x0>57.0</x0>
                  <y0>25.0</y0>
                  <x1>43.0</x1>
                  <y1>50.0</y1>
                  <xmin>43.0</xmin>
                  <xmax>57.0</xmax>
                </sun.awt.geom.Order1>
                <sun.awt.geom.Order1>
                  <direction>-1</direction>
                  <x0>43.0</x0>
                  <y0>0.0</y0>
                  <x1>57.0</x1>
                  <y1>25.0</y1>
                  <xmin>43.0</xmin>
                  <xmax>57.0</xmax>
                </sun.awt.geom.Order1>
              </curves>
              <cachedBounds class="java.awt.geom.Rectangle2D$Double">
                <x>0.0</x>
                <y>0.0</y>
                <width>57.0</width>
                <height>50.0</height>
              </cachedBounds>
            </cellShape>
            <hexRatio>0.8659475639010743</hexRatio>
            <edgeProjection>14.43894582225306</edgeProjection>
            <minorRadius>25.0</minorRadius>
            <edgeLength>28.870108355493908</edgeLength>
            <scaledEdgeProjection>14.43894582225306</scaledEdgeProjection>
            <scaledMinorRadius>25.0</scaledMinorRadius>
            <scaledEdgeLength>28.870108355493908</scaledEdgeLength>
            <lastScale>1.0</lastScale>
            <cellOffset>
              <width>-28</width>
              <height>-25</height>
            </cellOffset>
          </grid>
          <gridColor>-16777216</gridColor>
          <imageScaleX>1.0</imageScaleX>
          <imageScaleY>1.0</imageScaleY>
          <tokenVisionDistance>100</tokenVisionDistance>
          <unitsPerCell>1</unitsPerCell>
          <drawables class="linked-list"/>
          <gmDrawables class="linked-list"/>
          <objectDrawables class="linked-list"/>
          <backgroundDrawables class="linked-list"/>
          <labels class="linked-hash-map"/>
          <tokenMap>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAvz0fyJB7IwAAgIgAPQ==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.Token>
                <id>
                  <baGUID>wKgAvz0fyJB7IwAAgIgAPQ==</baGUID>
                </id>
                <beingImpersonated>false</beingImpersonated>
                <exposedAreaGUID>
                  <baGUID>wKgAv0obyJB6IwAAgIgACg==</baGUID>
                </exposedAreaGUID>
                <imageAssetMap>
                  <entry>
                    <null/>
                    <net.rptools.lib.MD5Key>
                      <id>f6d6ccc992cb11abad134c39dd45fafb</id>
                    </net.rptools.lib.MD5Key>
                  </entry>
                </imageAssetMap>
                <x>-124</x>
                <y>-128</y>
                <z>2</z>
                <anchorX>-2</anchorX>
                <anchorY>-14</anchorY>
                <sizeScale>2.200000000000001</sizeScale>
                <lastX>6</lastX>
                <lastY>-103</lastY>
                <lastPath>
                  <cellList class="linked-list">
                    <net.rptools.maptool.client.walker.astar.AStarCellPoint>
                      <x>0</x>
                      <y>-2</y>
                      <hScore>0.0</hScore>
                      <gScore>0.0</gScore>
                    </net.rptools.maptool.client.walker.astar.AStarCellPoint>
                    <net.rptools.maptool.client.walker.astar.AStarCellPoint>
                      <x>-1</x>
                      <y>-3</y>
                      <parent>
                        <x>0</x>
                        <y>-2</y>
                        <hScore>0.0</hScore>
                        <gScore>0.0</gScore>
                      </parent>
                      <hScore>87.0</hScore>
                      <gScore>49.73932046178355</gScore>
                    </net.rptools.maptool.client.walker.astar.AStarCellPoint>
                    <net.rptools.maptool.client.walker.astar.AStarCellPoint>
                      <x>-2</x>
                      <y>-2</y>
                      <parent>
                        <x>-1</x>
                        <y>-3</y>
                        <parent reference="../../../net.rptools.maptool.client.walker.astar.AStarCellPoint[2]/parent"/>
                        <hScore>87.0</hScore>
                        <gScore>49.73932046178355</gScore>
                      </parent>
                      <hScore>49.73932046178355</hScore>
                      <gScore>87.0</gScore>
                    </net.rptools.maptool.client.walker.astar.AStarCellPoint>
                    <net.rptools.maptool.model.CellPoint>
                      <x>-3</x>
                      <y>-3</y>
                    </net.rptools.maptool.model.CellPoint>
                  </cellList>
                  <waypointList class="linked-list">
                    <net.rptools.maptool.client.walker.astar.AStarCellPoint>
                      <x>0</x>
                      <y>-2</y>
                      <hScore>0.0</hScore>
                      <gScore>0.0</gScore>
                    </net.rptools.maptool.client.walker.astar.AStarCellPoint>
                    <net.rptools.maptool.model.CellPoint>
                      <x>-3</x>
                      <y>-3</y>
                    </net.rptools.maptool.model.CellPoint>
                  </waypointList>
                </lastPath>
                <snapToScale>true</snapToScale>
                <width>224</width>
                <height>277</height>
                <scaleX>1.0</scaleX>
                <scaleY>1.0</scaleY>
                <sizeMap>
                  <entry>
                    <java-class>net.rptools.maptool.model.HexGridVertical</java-class>
                    <net.rptools.maptool.model.GUID>
                      <baGUID>fwABAQllXDgBAAAAOAABAQ==</baGUID>
                    </net.rptools.maptool.model.GUID>
                  </entry>
                  <entry>
                    <java-class>net.rptools.maptool.model.SquareGrid</java-class>
                    <net.rptools.maptool.model.GUID>
                      <baGUID>fwABAc9lFSoFAAAAKgABAQ==</baGUID>
                    </net.rptools.maptool.model.GUID>
                  </entry>
                </sizeMap>
                <snapToGrid>true</snapToGrid>
                <isVisible>true</isVisible>
                <visibleOnlyToOwner>false</visibleOnlyToOwner>
                <name>Hero</name>
                <ownerType>0</ownerType>
                <tokenShape>TOP_DOWN</tokenShape>
                <tokenType>NPC</tokenType>
                <layer>TOKEN</layer>
                <propertyType>PC</propertyType>
                <facing>-60</facing>
                <isFlippedX>false</isFlippedX>
                <isFlippedY>false</isFlippedY>
                <portraitImage>
                  <id>64eb0d0e6d7068d7121f3693ce2f92d5</id>
                </portraitImage>
                <sightType>Normal</sightType>
                <hasSight>true</hasSight>
                <state>
                  <entry>
                    <string>in_agony</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>severe_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoDIncreased</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoADetermined</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Other2</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Other3</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>heart_attack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>infected</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Ready</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Other4</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>left_leg_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>poisoned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>physically_stunned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Disabled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoAFeint</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>nauseated</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>coughing_sneezing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dead</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dying</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>in_coma</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>in_ecstasy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Aim</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>exhausted</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>tiring</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Other</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Prone</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Hidden</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>grappled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>prone</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>hallucinating</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>climbing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>retching</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>injured</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>sitting</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoADouble</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>acid_immersed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>halfmove</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Move</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>acid_splashed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>maimed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>body_part_burning</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>right_arm_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dazed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>collapsing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>MoveAndAttack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>mentally_stunned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock1</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>moderate_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>tipsy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>drunk</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>terrible_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>full_body_burning</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Dead</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>kneeling</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Incapacitated</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>diseased</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>crouching</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Feint</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>fresh</string>
                    <boolean>true</boolean>
                  </entry>
                  <entry>
                    <string>Attack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock6</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>DefensiveAttack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock8</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock3</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>choking</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock2</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock4</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoAStrong</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Concentrate</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Evaluate</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>seizure</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>left_arm_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>swallowed_acid</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>paralyzed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>drowsy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoALong</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>bleeding</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>euphoric</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoDDouble</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>hidden</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>unconscious</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>healthy</string>
                    <boolean>true</boolean>
                  </entry>
                  <entry>
                    <string>Wait</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>DoNothing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>face_up</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>right_leg_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>standing</string>
                    <boolean>true</boolean>
                  </entry>
                  <entry>
                    <string>ChangePosture</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>CommittedAttack</string>
                    <boolean>false</boolean>
                  </entry>
                </state>
                <propertyMapCI>
                  <store>
                    <entry>
                      <string>skills</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>skills</key>
                        <value class="string">[{&quot;level&quot;:11,&quot;name&quot;:&quot;boxing&quot;,&quot;attribute&quot;:&quot;DX&quot;,&quot;notes&quot;:&quot;&quot;},{&quot;level&quot;:8,&quot;name&quot;:&quot;stealth&quot;,&quot;attribute&quot;:&quot;DX&quot;,&quot;notes&quot;:&quot;&quot;},{&quot;level&quot;:5,&quot;name&quot;:&quot;observation&quot;,&quot;attribute&quot;:&quot;Per&quot;,&quot;notes&quot;:&quot;&quot;}]</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dodgemax</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>dodgeMax</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>parrybonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>parryBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>itemscarried</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>itemsCarried</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>basiclift</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>basicLift</key>
                        <value class="string">28</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>wisdom</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Wisdom</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>spells</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>spells</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>description</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Description</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>movement</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Movement</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>pronounpossessive</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>pronounPossessive</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>gunslinger</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>gunslinger</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- conditions ----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- conditions ----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>heroicarcher</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>heroicArcher</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- misc -----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- misc -----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>st</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>ST</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>basicmove</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>basicMove</key>
                        <value class="string">6</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>intelligence</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Intelligence</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>fp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>FP</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>itemsreadied</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>itemsReadied</key>
                        <value class="string">[3,5,10]</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- attack ----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- attack ----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>htdeathbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HTDeathBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- defense ----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- defense ----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>conditions</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>conditions</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>posturedb</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>postureDB</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>shielddb</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>shieldDB</key>
                        <value class="string">2</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>htuncbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HTUncBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- basic ads, disads, skills, spells ----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- basic ads, disads, skills, spells ----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>will</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Will</key>
                        <value class="string">11</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>sizemod</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>sizeMod</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>maxfp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>maxFP</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>colorhp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>colorHP</key>
                        <value class="string">green</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>constitution</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Constitution</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>posture</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>posture</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>hp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HP</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dx</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>DX</key>
                        <value class="string">13</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>ht</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HT</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>miscdbtemp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>miscDBTemp</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>encumbrance</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>encumbrance</key>
                        <value class="string">2</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dexterity</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Dexterity</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>painthreshold</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>painThreshold</key>
                        <value class="string">normal</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>injurytolerance</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>injuryTolerance</key>
                        <value class="string">normal</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>id</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>ID</key>
                        <value class="string">boo</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dodgebonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>dodgeBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>drnatural</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>DRNatural</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>bodytype</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>bodyType</key>
                        <value class="string">humanoid</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>htbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HTBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>currmove</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>currMove</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>fright</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Fright</key>
                        <value class="string">11</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dr</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>DR</key>
                        <value class="string">{&quot;eye&quot;:0,&quot;skull&quot;:8,&quot;face&quot;:0,&quot;neck&quot;:6,&quot;right arm&quot;:6,&quot;left arm&quot;:6,&quot;hand&quot;:6,&quot;torso&quot;:6,&quot;back&quot;:6,&quot;vitals&quot;:6,&quot;groin&quot;:6,&quot;right leg&quot;:6,&quot;left leg&quot;:6,&quot;foot&quot;:6}</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>iq</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>IQ</key>
                        <value class="string">10</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>defense</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Defense</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>strength</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Strength</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>elevation</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>elevation</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>lastsuccessfulattack</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>lastSuccessfulAttack</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>blockbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>blockBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dodge</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>dodge</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>shock</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>shock</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>basicspeed</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>basicSpeed</key>
                        <value class="string">6.25</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>currmaneuver</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>currManeuver</key>
                        <value class="string">{&quot;ID&quot;:&quot;&quot;,&quot;name&quot;:&quot;Do Nothing&quot;,&quot;descr&quot;:&quot;take no action&quot;,&quot;movement&quot;:&quot;none&quot;,&quot;offSkillBonus&quot;:0,&quot;offSkillLimit&quot;:0,&quot;damageBonus&quot;:0,&quot;defAllowed&quot;:&quot;dpb&quot;,&quot;defBonus&quot;:0}</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>per</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Per</key>
                        <value class="string">10</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>charisma</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Charisma</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>inventory</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>inventory</key>
                        <value class="string">[{&quot;right arm&quot;:6,&quot;torso&quot;:6,&quot;face&quot;:0,&quot;weight&quot;:61,&quot;neck&quot;:6,&quot;foot&quot;:6,&quot;armor&quot;:&quot;save&quot;,&quot;back&quot;:6,&quot;right leg&quot;:6,&quot;hand&quot;:6,&quot;vitals&quot;:6,&quot;left leg&quot;:6,&quot;skull&quot;:6,&quot;name&quot;:&quot;plate armor&quot;,&quot;ID&quot;:3,&quot;quantity&quot;:1,&quot;groin&quot;:6,&quot;notes&quot;:&quot;medium plate armor, LT 100, 110&quot;,&quot;left arm&quot;:6,&quot;eye&quot;:0},{&quot;weight&quot;:13,&quot;m1AD&quot;:1,&quot;m1maxReach&quot;:1,&quot;HP&quot;:19,&quot;m1skill&quot;:14,&quot;m1minReach&quot;:1,&quot;m1damage&quot;:&quot;1d6-1&quot;,&quot;m1descr&quot;:&quot;bash&quot;,&quot;m1damageType&quot;:&quot;cr&quot;,&quot;name&quot;:&quot;medium shield&quot;,&quot;DR&quot;:4,&quot;ID&quot;:10,&quot;quantity&quot;:1,&quot;shieldDB&quot;:2,&quot;shield&quot;:&quot;save&quot;,&quot;notes&quot;:&quot;a medium heater shield from LT, 116&quot;},{&quot;m1numHands&quot;:1,&quot;r2maxRange&quot;:&quot;&quot;,&quot;r1descr&quot;:&quot;&quot;,&quot;r1RoF&quot;:&quot;&quot;,&quot;m2parryType&quot;:&quot;normal&quot;,&quot;m1descr&quot;:&quot;slash&quot;,&quot;m2damageType&quot;:&quot;imp&quot;,&quot;m2maxReach&quot;:1,&quot;r1shots&quot;:&quot;&quot;,&quot;r1halfRange&quot;:&quot;&quot;,&quot;r2AD&quot;:1,&quot;m1damageType&quot;:&quot;cut&quot;,&quot;ID&quot;:5,&quot;r1AD&quot;:1,&quot;quantity&quot;:1,&quot;r2shots&quot;:&quot;&quot;,&quot;r2descr&quot;:&quot;&quot;,&quot;r1skill&quot;:&quot;&quot;,&quot;r1malf&quot;:&quot;&quot;,&quot;r1maxRange&quot;:&quot;&quot;,&quot;r2ST&quot;:&quot;&quot;,&quot;r2damage&quot;:&quot;&quot;,&quot;r1damageType&quot;:&quot;imp&quot;,&quot;parryBonus&quot;:0,&quot;r1acc&quot;:&quot;&quot;,&quot;r1ST&quot;:&quot;&quot;,&quot;r1bulk&quot;:&quot;&quot;,&quot;m2descr&quot;:&quot;thrust&quot;,&quot;r1damage&quot;:&quot;&quot;,&quot;weight&quot;:3,&quot;m1AD&quot;:1,&quot;r2RoF&quot;:&quot;&quot;,&quot;m1maxReach&quot;:1,&quot;r2halfRange&quot;:&quot;&quot;,&quot;m1skill&quot;:14,&quot;m1damage&quot;:&quot;1d6+3&quot;,&quot;m1parryType&quot;:&quot;normal&quot;,&quot;r2damageType&quot;:&quot;imp&quot;,&quot;name&quot;:&quot;broadsword&quot;,&quot;m2damage&quot;:&quot;1d6+1&quot;,&quot;r2skill&quot;:&quot;&quot;,&quot;m2skill&quot;:14,&quot;r2acc&quot;:&quot;&quot;,&quot;m2minReach&quot;:1,&quot;m1minReach&quot;:1,&quot;weapon&quot;:&quot;save&quot;,&quot;r2bulk&quot;:&quot;&quot;,&quot;notes&quot;:&quot;thrusting broadsword, LT 65&quot;,&quot;m2AD&quot;:1,&quot;r2malf&quot;:&quot;&quot;},{&quot;m1numHands&quot;:1,&quot;r2maxRange&quot;:&quot;&quot;,&quot;r1descr&quot;:&quot;&quot;,&quot;r1RoF&quot;:&quot;&quot;,&quot;m2parryType&quot;:&quot;normal&quot;,&quot;m1descr&quot;:&quot;fist&quot;,&quot;m2damageType&quot;:&quot;&quot;,&quot;m2maxReach&quot;:0,&quot;r1shots&quot;:&quot;&quot;,&quot;r1halfRange&quot;:&quot;&quot;,&quot;r2AD&quot;:1,&quot;m1damageType&quot;:&quot;cr&quot;,&quot;ID&quot;:1,&quot;r1AD&quot;:1,&quot;quantity&quot;:1,&quot;r2shots&quot;:&quot;&quot;,&quot;r2descr&quot;:&quot;&quot;,&quot;r1skill&quot;:&quot;&quot;,&quot;r1malf&quot;:&quot;&quot;,&quot;r1maxRange&quot;:&quot;&quot;,&quot;r2ST&quot;:&quot;&quot;,&quot;r2damage&quot;:&quot;&quot;,&quot;r1damageType&quot;:&quot;&quot;,&quot;parryBonus&quot;:0,&quot;r1acc&quot;:&quot;&quot;,&quot;r1ST&quot;:&quot;&quot;,&quot;r1bulk&quot;:&quot;&quot;,&quot;m2descr&quot;:&quot;&quot;,&quot;r1damage&quot;:&quot;&quot;,&quot;weight&quot;:0,&quot;m1AD&quot;:1,&quot;r2RoF&quot;:&quot;&quot;,&quot;m1maxReach&quot;:0,&quot;r2halfRange&quot;:&quot;&quot;,&quot;m1skill&quot;:11,&quot;m1damage&quot;:&quot;1d6-2&quot;,&quot;m1parryType&quot;:&quot;normal&quot;,&quot;r2damageType&quot;:&quot;&quot;,&quot;name&quot;:&quot;punch&quot;,&quot;m2damage&quot;:&quot;&quot;,&quot;r2skill&quot;:&quot;&quot;,&quot;m2skill&quot;:&quot;&quot;,&quot;r2acc&quot;:&quot;&quot;,&quot;m2minReach&quot;:0,&quot;m1minReach&quot;:0,&quot;weapon&quot;:&quot;save&quot;,&quot;r2bulk&quot;:&quot;&quot;,&quot;notes&quot;:&quot;&quot;,&quot;m2AD&quot;:1,&quot;r2malf&quot;:&quot;&quot;},{&quot;m1numHands&quot;:1,&quot;r2maxRange&quot;:&quot;&quot;,&quot;r1descr&quot;:&quot;&quot;,&quot;r1RoF&quot;:&quot;&quot;,&quot;m2parryType&quot;:&quot;none&quot;,&quot;m1descr&quot;:&quot;boot&quot;,&quot;m2damageType&quot;:&quot;&quot;,&quot;m2maxReach&quot;:0,&quot;r1shots&quot;:&quot;&quot;,&quot;r1halfRange&quot;:&quot;&quot;,&quot;r2AD&quot;:1,&quot;m1damageType&quot;:&quot;cr&quot;,&quot;ID&quot;:2,&quot;r1AD&quot;:1,&quot;quantity&quot;:1,&quot;r2shots&quot;:&quot;&quot;,&quot;r2descr&quot;:&quot;&quot;,&quot;r1skill&quot;:&quot;&quot;,&quot;r1malf&quot;:&quot;&quot;,&quot;r1maxRange&quot;:&quot;&quot;,&quot;r2ST&quot;:&quot;&quot;,&quot;r2damage&quot;:&quot;&quot;,&quot;r1damageType&quot;:&quot;&quot;,&quot;parryBonus&quot;:0,&quot;r1acc&quot;:&quot;&quot;,&quot;r1ST&quot;:&quot;&quot;,&quot;r1bulk&quot;:&quot;&quot;,&quot;m2descr&quot;:&quot;&quot;,&quot;r1damage&quot;:&quot;&quot;,&quot;weight&quot;:0,&quot;m1AD&quot;:1,&quot;r2RoF&quot;:&quot;&quot;,&quot;m1maxReach&quot;:1,&quot;r2halfRange&quot;:&quot;&quot;,&quot;m1skill&quot;:11,&quot;m1damage&quot;:&quot;1d6&quot;,&quot;m1parryType&quot;:&quot;none&quot;,&quot;r2damageType&quot;:&quot;&quot;,&quot;name&quot;:&quot;kick&quot;,&quot;m2damage&quot;:&quot;&quot;,&quot;r2skill&quot;:&quot;&quot;,&quot;m2skill&quot;:&quot;&quot;,&quot;r2acc&quot;:&quot;&quot;,&quot;m2minReach&quot;:0,&quot;m1minReach&quot;:1,&quot;weapon&quot;:&quot;save&quot;,&quot;r2bulk&quot;:&quot;&quot;,&quot;notes&quot;:&quot;&quot;,&quot;m2AD&quot;:1,&quot;r2malf&quot;:&quot;&quot;}]</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>colorfp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>colorFP</key>
                        <value class="string">green</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>ac</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>AC</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>maxhp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>maxHP</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>miscdbperm</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>miscDBPerm</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                  </store>
                </propertyMapCI>
                <macroPropertiesMap/>
                <speechMap/>
              </net.rptools.maptool.model.Token>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAvy5on5HEKQAAgIgALg==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.Token>
                <id>
                  <baGUID>wKgAvy5on5HEKQAAgIgALg==</baGUID>
                </id>
                <beingImpersonated>false</beingImpersonated>
                <exposedAreaGUID>
                  <baGUID>wKgAvzJen5HDKQAAgIgAMg==</baGUID>
                </exposedAreaGUID>
                <imageAssetMap>
                  <entry>
                    <null/>
                    <net.rptools.lib.MD5Key>
                      <id>02c5ca86be709c235720e45f4e050b3d</id>
                    </net.rptools.lib.MD5Key>
                  </entry>
                </imageAssetMap>
                <x>49</x>
                <y>-128</y>
                <z>3</z>
                <anchorX>-5</anchorX>
                <anchorY>2</anchorY>
                <sizeScale>2.7000000000000015</sizeScale>
                <lastX>49</lastX>
                <lastY>-128</lastY>
                <lastPath>
                  <cellList class="linked-list">
                    <net.rptools.maptool.model.CellPoint>
                      <x>1</x>
                      <y>-3</y>
                    </net.rptools.maptool.model.CellPoint>
                  </cellList>
                  <waypointList class="linked-list">
                    <net.rptools.maptool.model.CellPoint>
                      <x>1</x>
                      <y>-3</y>
                    </net.rptools.maptool.model.CellPoint>
                  </waypointList>
                </lastPath>
                <snapToScale>true</snapToScale>
                <width>331</width>
                <height>292</height>
                <scaleX>1.0</scaleX>
                <scaleY>1.0</scaleY>
                <sizeMap>
                  <entry>
                    <java-class>net.rptools.maptool.model.HexGridVertical</java-class>
                    <net.rptools.maptool.model.GUID reference="../../../../../entry/net.rptools.maptool.model.Token/sizeMap/entry/net.rptools.maptool.model.GUID"/>
                  </entry>
                  <entry>
                    <java-class>net.rptools.maptool.model.SquareGrid</java-class>
                    <net.rptools.maptool.model.GUID>
                      <baGUID>fwABAc9lFSoFAAAAKgABAQ==</baGUID>
                    </net.rptools.maptool.model.GUID>
                  </entry>
                </sizeMap>
                <snapToGrid>true</snapToGrid>
                <isVisible>true</isVisible>
                <visibleOnlyToOwner>false</visibleOnlyToOwner>
                <name>Troll</name>
                <ownerType>0</ownerType>
                <tokenShape>TOP_DOWN</tokenShape>
                <tokenType>NPC</tokenType>
                <layer>TOKEN</layer>
                <propertyType>NPC</propertyType>
                <facing>-90</facing>
                <isFlippedX>false</isFlippedX>
                <isFlippedY>false</isFlippedY>
                <portraitImage>
                  <id>743a4fc3865914a8d9b62c8f22f012bd</id>
                </portraitImage>
                <sightType>night(+10)acute(+5)</sightType>
                <hasSight>true</hasSight>
                <notes></notes>
                <gmNotes>Based on the troll on Fantasy, p. 111, with lower ST and increased Will and DX.</gmNotes>
                <state>
                  <entry>
                    <string>in_agony</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>severe_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoDIncreased</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoADetermined</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Other2</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Other3</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>heart_attack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>infected</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Ready</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Other4</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>left_leg_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>poisoned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>physically_stunned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Disabled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoAFeint</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>nauseated</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>coughing_sneezing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dead</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dying</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>in_coma</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>in_ecstasy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Aim</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>exhausted</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>tiring</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Other</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Prone</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Hidden</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>grappled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>prone</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>hallucinating</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>climbing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>retching</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>injured</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>sitting</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoADouble</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>acid_immersed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>halfmove</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Move</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>acid_splashed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>maimed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>body_part_burning</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>right_arm_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dazed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>collapsing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>MoveAndAttack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>mentally_stunned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock1</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>moderate_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>tipsy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>drunk</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>terrible_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>full_body_burning</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Dead</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>kneeling</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Incapacitated</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>diseased</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>crouching</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Feint</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>fresh</string>
                    <boolean>true</boolean>
                  </entry>
                  <entry>
                    <string>Attack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock6</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>DefensiveAttack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock8</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock3</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>choking</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock2</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock4</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoAStrong</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Concentrate</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Evaluate</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>seizure</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>left_arm_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>swallowed_acid</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>paralyzed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>drowsy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoALong</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>bleeding</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>euphoric</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoDDouble</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>hidden</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>unconscious</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>healthy</string>
                    <boolean>true</boolean>
                  </entry>
                  <entry>
                    <string>Wait</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>DoNothing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>face_up</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>right_leg_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>standing</string>
                    <boolean>true</boolean>
                  </entry>
                  <entry>
                    <string>ChangePosture</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>CommittedAttack</string>
                    <boolean>false</boolean>
                  </entry>
                </state>
                <propertyMapCI>
                  <store>
                    <entry>
                      <string>skills</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>skills</key>
                        <value class="string">[{&quot;level&quot;:13,&quot;name&quot;:&quot;axe&quot;,&quot;attribute&quot;:&quot;DX&quot;,&quot;notes&quot;:&quot;&quot;},{&quot;level&quot;:13,&quot;name&quot;:&quot;brawling&quot;,&quot;attribute&quot;:&quot;DX&quot;,&quot;notes&quot;:&quot;&quot;},{&quot;level&quot;:12,&quot;name&quot;:&quot;stealth&quot;,&quot;attribute&quot;:&quot;DX&quot;,&quot;notes&quot;:&quot;&quot;},{&quot;level&quot;:7,&quot;name&quot;:&quot;observation&quot;,&quot;attribute&quot;:&quot;Per&quot;,&quot;notes&quot;:&quot;&quot;}]</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dodgemax</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>dodgeMax</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>parrybonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>parryBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>itemscarried</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>itemsCarried</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>basiclift</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>basicLift</key>
                        <value class="string">51</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>wisdom</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Wisdom</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>spells</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>spells</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>description</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Description</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>movement</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Movement</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>pronounpossessive</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>pronounPossessive</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>gunslinger</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>gunslinger</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- conditions ----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- conditions ----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>heroicarcher</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>heroicArcher</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- misc -----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- misc -----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>st</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>ST</key>
                        <value class="string">16</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>basicmove</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>basicMove</key>
                        <value class="string">6</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>intelligence</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Intelligence</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>fp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>FP</key>
                        <value class="string">14</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>itemsreadied</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>itemsReadied</key>
                        <value class="string">[6,7,8,9]</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>htdeathbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HTDeathBonus</key>
                        <value class="string">1</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- attack ----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- attack ----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- defense ----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- defense ----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>conditions</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>conditions</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>posturedb</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>postureDB</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>shielddb</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>shieldDB</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>htuncbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HTUncBonus</key>
                        <value class="string">1</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>---------- basic ads, disads, skills, spells ----------</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>---------- basic ads, disads, skills, spells ----------</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>will</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Will</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>sizemod</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>sizeMod</key>
                        <value class="string">1</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>maxfp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>maxFP</key>
                        <value class="string">14</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>colorhp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>colorHP</key>
                        <value class="string">green</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>constitution</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Constitution</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>posture</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>posture</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>hp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HP</key>
                        <value class="string">16</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dx</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>DX</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>ht</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HT</key>
                        <value class="string">14</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>miscdbtemp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>miscDBTemp</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>encumbrance</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>encumbrance</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dexterity</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Dexterity</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>painthreshold</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>painThreshold</key>
                        <value class="string">high</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>injurytolerance</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>injuryTolerance</key>
                        <value class="string">normal</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>id</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>ID</key>
                        <value class="string">boo</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dodgebonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>dodgeBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>drnatural</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>DRNatural</key>
                        <value class="string">{&quot;torso&quot;:1,&quot;face&quot;:1,&quot;right arm&quot;:1,&quot;neck&quot;:1,&quot;foot&quot;:1,&quot;back&quot;:1,&quot;right leg&quot;:1,&quot;vitals&quot;:1,&quot;hand&quot;:1,&quot;skull&quot;:3,&quot;left leg&quot;:1,&quot;groin&quot;:1,&quot;left arm&quot;:1,&quot;eye&quot;:0}</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>bodytype</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>bodyType</key>
                        <value class="string">humanoid</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>htbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HTBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>currmove</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>currMove</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>fright</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Fright</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dr</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>DR</key>
                        <value class="string">{&quot;eye&quot;:0,&quot;skull&quot;:3,&quot;face&quot;:1,&quot;neck&quot;:1,&quot;right arm&quot;:3,&quot;left arm&quot;:3,&quot;hand&quot;:1,&quot;torso&quot;:1,&quot;back&quot;:1,&quot;vitals&quot;:1,&quot;groin&quot;:3,&quot;right leg&quot;:3,&quot;left leg&quot;:3,&quot;foot&quot;:1}</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>iq</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>IQ</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>defense</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Defense</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>strength</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Strength</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>elevation</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>elevation</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>lastsuccessfulattack</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>lastSuccessfulAttack</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>blockbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>blockBonus</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dodge</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>dodge</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>shock</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>shock</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>basicspeed</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>basicSpeed</key>
                        <value class="string">6.5</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>currmaneuver</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>currManeuver</key>
                        <value class="string">{&quot;ID&quot;:&quot;&quot;,&quot;name&quot;:&quot;Do Nothing&quot;,&quot;descr&quot;:&quot;take no action&quot;,&quot;movement&quot;:&quot;none&quot;,&quot;offSkillBonus&quot;:0,&quot;offSkillLimit&quot;:0,&quot;damageBonus&quot;:0,&quot;defAllowed&quot;:&quot;dpb&quot;,&quot;defBonus&quot;:0}</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>per</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Per</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>charisma</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Charisma</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>inventory</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>inventory</key>
                        <value class="string">[{&quot;m1numHands&quot;:1,&quot;r2maxRange&quot;:&quot;&quot;,&quot;r1descr&quot;:&quot;&quot;,&quot;r1RoF&quot;:&quot;&quot;,&quot;m2parryType&quot;:&quot;normal&quot;,&quot;m1descr&quot;:&quot;claws&quot;,&quot;m2damageType&quot;:&quot;&quot;,&quot;m2maxReach&quot;:1,&quot;r1shots&quot;:&quot;&quot;,&quot;r1halfRange&quot;:&quot;&quot;,&quot;r2AD&quot;:1,&quot;m1damageType&quot;:&quot;cr&quot;,&quot;ID&quot;:1,&quot;r1AD&quot;:1,&quot;quantity&quot;:1,&quot;r2shots&quot;:&quot;&quot;,&quot;r2descr&quot;:&quot;&quot;,&quot;r1skill&quot;:&quot;&quot;,&quot;r1malf&quot;:&quot;&quot;,&quot;r1maxRange&quot;:&quot;&quot;,&quot;r2ST&quot;:&quot;&quot;,&quot;r2damage&quot;:&quot;&quot;,&quot;r1damageType&quot;:&quot;&quot;,&quot;parryBonus&quot;:0,&quot;r1acc&quot;:&quot;&quot;,&quot;r1ST&quot;:&quot;&quot;,&quot;r1bulk&quot;:&quot;&quot;,&quot;m2descr&quot;:&quot;&quot;,&quot;r1damage&quot;:&quot;&quot;,&quot;weight&quot;:0,&quot;m1AD&quot;:1,&quot;r2RoF&quot;:&quot;&quot;,&quot;m1maxReach&quot;:0,&quot;r2halfRange&quot;:&quot;&quot;,&quot;m1skill&quot;:13,&quot;m1damage&quot;:&quot;1d6&quot;,&quot;m1parryType&quot;:&quot;normal&quot;,&quot;r2damageType&quot;:&quot;&quot;,&quot;name&quot;:&quot;punch&quot;,&quot;m2damage&quot;:&quot;&quot;,&quot;r2skill&quot;:&quot;&quot;,&quot;m2skill&quot;:&quot;&quot;,&quot;r2acc&quot;:&quot;&quot;,&quot;m2minReach&quot;:1,&quot;m1minReach&quot;:0,&quot;weapon&quot;:&quot;save&quot;,&quot;r2bulk&quot;:&quot;&quot;,&quot;notes&quot;:&quot;&quot;,&quot;m2AD&quot;:1,&quot;r2malf&quot;:&quot;&quot;},{&quot;m1numHands&quot;:1,&quot;r2maxRange&quot;:&quot;&quot;,&quot;r1descr&quot;:&quot;&quot;,&quot;r1RoF&quot;:&quot;&quot;,&quot;m2parryType&quot;:&quot;normal&quot;,&quot;m1descr&quot;:&quot;claws&quot;,&quot;m2damageType&quot;:&quot;&quot;,&quot;m2maxReach&quot;:1,&quot;r1shots&quot;:&quot;&quot;,&quot;r1halfRange&quot;:&quot;&quot;,&quot;r2AD&quot;:1,&quot;m1damageType&quot;:&quot;cr&quot;,&quot;ID&quot;:2,&quot;r1AD&quot;:1,&quot;quantity&quot;:1,&quot;r2shots&quot;:&quot;&quot;,&quot;r2descr&quot;:&quot;&quot;,&quot;r1skill&quot;:&quot;&quot;,&quot;r1malf&quot;:&quot;&quot;,&quot;r1maxRange&quot;:&quot;&quot;,&quot;r2ST&quot;:&quot;&quot;,&quot;r2damage&quot;:&quot;&quot;,&quot;r1damageType&quot;:&quot;&quot;,&quot;parryBonus&quot;:0,&quot;r1acc&quot;:&quot;&quot;,&quot;r1ST&quot;:&quot;&quot;,&quot;r1bulk&quot;:&quot;&quot;,&quot;m2descr&quot;:&quot;&quot;,&quot;r1damage&quot;:&quot;&quot;,&quot;weight&quot;:0,&quot;m1AD&quot;:1,&quot;r2RoF&quot;:&quot;&quot;,&quot;m1maxReach&quot;:1,&quot;r2halfRange&quot;:&quot;&quot;,&quot;m1skill&quot;:11,&quot;m1damage&quot;:&quot;1d6+2&quot;,&quot;m1parryType&quot;:&quot;none&quot;,&quot;r2damageType&quot;:&quot;&quot;,&quot;name&quot;:&quot;kick&quot;,&quot;m2damage&quot;:&quot;&quot;,&quot;r2skill&quot;:&quot;&quot;,&quot;m2skill&quot;:&quot;&quot;,&quot;r2acc&quot;:&quot;&quot;,&quot;m2minReach&quot;:1,&quot;m1minReach&quot;:0,&quot;weapon&quot;:&quot;save&quot;,&quot;r2bulk&quot;:&quot;&quot;,&quot;notes&quot;:&quot;&quot;,&quot;m2AD&quot;:1,&quot;r2malf&quot;:&quot;&quot;},{&quot;m1numHands&quot;:1,&quot;r2maxRange&quot;:&quot;&quot;,&quot;r1descr&quot;:&quot;&quot;,&quot;r1RoF&quot;:&quot;&quot;,&quot;m2parryType&quot;:&quot;normal&quot;,&quot;m1descr&quot;:&quot;swing&quot;,&quot;m2damageType&quot;:&quot;imp&quot;,&quot;m2maxReach&quot;:1,&quot;r1shots&quot;:&quot;&quot;,&quot;r1halfRange&quot;:&quot;&quot;,&quot;r2AD&quot;:1,&quot;m1damageType&quot;:&quot;cut&quot;,&quot;ID&quot;:6,&quot;r1AD&quot;:1,&quot;quantity&quot;:2,&quot;r2shots&quot;:&quot;&quot;,&quot;r2descr&quot;:&quot;&quot;,&quot;r1skill&quot;:&quot;&quot;,&quot;r1malf&quot;:&quot;&quot;,&quot;r1maxRange&quot;:&quot;&quot;,&quot;r2ST&quot;:&quot;&quot;,&quot;r2damage&quot;:&quot;&quot;,&quot;r1damageType&quot;:&quot;imp&quot;,&quot;parryBonus&quot;:0,&quot;r1acc&quot;:&quot;&quot;,&quot;r1ST&quot;:&quot;&quot;,&quot;r1bulk&quot;:&quot;&quot;,&quot;m2descr&quot;:&quot;&quot;,&quot;r1damage&quot;:&quot;&quot;,&quot;weight&quot;:3,&quot;m1AD&quot;:1,&quot;r2RoF&quot;:&quot;&quot;,&quot;m1maxReach&quot;:1,&quot;r2halfRange&quot;:&quot;&quot;,&quot;m1skill&quot;:13,&quot;m1damage&quot;:&quot;2d6+4&quot;,&quot;m1parryType&quot;:&quot;unbalanced&quot;,&quot;r2damageType&quot;:&quot;imp&quot;,&quot;name&quot;:&quot;axe&quot;,&quot;m2damage&quot;:&quot;&quot;,&quot;r2skill&quot;:&quot;&quot;,&quot;m2skill&quot;:&quot;&quot;,&quot;r2acc&quot;:&quot;&quot;,&quot;m2minReach&quot;:1,&quot;m1minReach&quot;:1,&quot;weapon&quot;:&quot;save&quot;,&quot;r2bulk&quot;:&quot;&quot;,&quot;notes&quot;:&quot;&quot;,&quot;m2AD&quot;:1,&quot;r2malf&quot;:&quot;&quot;},{&quot;right arm&quot;:&quot;&quot;,&quot;torso&quot;:&quot;&quot;,&quot;face&quot;:&quot;&quot;,&quot;weight&quot;:0.6,&quot;neck&quot;:&quot;&quot;,&quot;foot&quot;:&quot;&quot;,&quot;armor&quot;:&quot;save&quot;,&quot;back&quot;:&quot;&quot;,&quot;right leg&quot;:&quot;&quot;,&quot;hand&quot;:&quot;&quot;,&quot;vitals&quot;:&quot;&quot;,&quot;left leg&quot;:&quot;&quot;,&quot;skull&quot;:&quot;&quot;,&quot;name&quot;:&quot;leather loincloth&quot;,&quot;ID&quot;:7,&quot;quantity&quot;:1,&quot;groin&quot;:2,&quot;notes&quot;:&quot;&quot;,&quot;left arm&quot;:&quot;&quot;,&quot;eye&quot;:&quot;&quot;},{&quot;right arm&quot;:2,&quot;torso&quot;:&quot;&quot;,&quot;face&quot;:&quot;&quot;,&quot;weight&quot;:3,&quot;neck&quot;:&quot;&quot;,&quot;foot&quot;:&quot;&quot;,&quot;armor&quot;:&quot;save&quot;,&quot;back&quot;:&quot;&quot;,&quot;right leg&quot;:&quot;&quot;,&quot;hand&quot;:&quot;&quot;,&quot;vitals&quot;:&quot;&quot;,&quot;left leg&quot;:&quot;&quot;,&quot;skull&quot;:&quot;&quot;,&quot;name&quot;:&quot;leather bracers&quot;,&quot;ID&quot;:8,&quot;quantity&quot;:1,&quot;groin&quot;:&quot;&quot;,&quot;notes&quot;:&quot;&quot;,&quot;left arm&quot;:2,&quot;eye&quot;:&quot;&quot;},{&quot;right arm&quot;:&quot;&quot;,&quot;torso&quot;:&quot;&quot;,&quot;face&quot;:&quot;&quot;,&quot;weight&quot;:6,&quot;neck&quot;:&quot;&quot;,&quot;foot&quot;:&quot;&quot;,&quot;armor&quot;:&quot;save&quot;,&quot;back&quot;:&quot;&quot;,&quot;right leg&quot;:2,&quot;hand&quot;:&quot;&quot;,&quot;vitals&quot;:&quot;&quot;,&quot;left leg&quot;:2,&quot;skull&quot;:&quot;&quot;,&quot;name&quot;:&quot;leather greaves&quot;,&quot;ID&quot;:9,&quot;quantity&quot;:1,&quot;groin&quot;:&quot;&quot;,&quot;notes&quot;:&quot;&quot;,&quot;left arm&quot;:&quot;&quot;,&quot;eye&quot;:&quot;&quot;}]</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>colorfp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>colorFP</key>
                        <value class="string">green</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>ac</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>AC</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>maxhp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>maxHP</key>
                        <value class="string">16</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>miscdbperm</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>miscDBPerm</key>
                        <value class="string">1</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                  </store>
                </propertyMapCI>
                <macroPropertiesMap/>
                <speechMap/>
              </net.rptools.maptool.model.Token>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAv2ChxpBeIwAAgIAAIA==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.Token>
                <id>
                  <baGUID>wKgAv2ChxpBeIwAAgIAAIA==</baGUID>
                </id>
                <beingImpersonated>false</beingImpersonated>
                <exposedAreaGUID>
                  <baGUID>wKgAv6SS7zAkAAAAAKgApA==</baGUID>
                </exposedAreaGUID>
                <imageAssetMap>
                  <entry>
                    <null/>
                    <net.rptools.lib.MD5Key>
                      <id>7b695a053b8f55de4ddd02307b934af4</id>
                    </net.rptools.lib.MD5Key>
                  </entry>
                </imageAssetMap>
                <x>-297</x>
                <y>-128</y>
                <z>1</z>
                <anchorX>0</anchorX>
                <anchorY>0</anchorY>
                <sizeScale>2.300000000000001</sizeScale>
                <lastX>-211</lastX>
                <lastY>-128</lastY>
                <lastPath>
                  <cellList class="linked-list">
                    <net.rptools.maptool.client.walker.astar.AStarCellPoint>
                      <x>-5</x>
                      <y>-3</y>
                      <hScore>0.0</hScore>
                      <gScore>0.0</gScore>
                    </net.rptools.maptool.client.walker.astar.AStarCellPoint>
                    <net.rptools.maptool.client.walker.astar.AStarCellPoint>
                      <x>-6</x>
                      <y>-3</y>
                      <parent>
                        <x>-5</x>
                        <y>-3</y>
                        <hScore>0.0</hScore>
                        <gScore>0.0</gScore>
                      </parent>
                      <hScore>49.73932046178355</hScore>
                      <gScore>49.73932046178355</gScore>
                    </net.rptools.maptool.client.walker.astar.AStarCellPoint>
                    <net.rptools.maptool.model.CellPoint>
                      <x>-7</x>
                      <y>-3</y>
                    </net.rptools.maptool.model.CellPoint>
                  </cellList>
                  <waypointList class="linked-list">
                    <net.rptools.maptool.client.walker.astar.AStarCellPoint>
                      <x>-5</x>
                      <y>-3</y>
                      <hScore>0.0</hScore>
                      <gScore>0.0</gScore>
                    </net.rptools.maptool.client.walker.astar.AStarCellPoint>
                    <net.rptools.maptool.model.CellPoint>
                      <x>-7</x>
                      <y>-3</y>
                    </net.rptools.maptool.model.CellPoint>
                  </waypointList>
                </lastPath>
                <snapToScale>false</snapToScale>
                <width>64</width>
                <height>64</height>
                <scaleX>1.0</scaleX>
                <scaleY>1.0</scaleY>
                <sizeMap>
                  <entry>
                    <java-class>net.rptools.maptool.model.HexGridVertical</java-class>
                    <net.rptools.maptool.model.GUID>
                      <baGUID>fwABAQllXDgBAAAAOAABAQ==</baGUID>
                    </net.rptools.maptool.model.GUID>
                  </entry>
                  <entry>
                    <java-class>net.rptools.maptool.model.HexGridHorizontal</java-class>
                    <net.rptools.maptool.model.GUID>
                      <baGUID>fwABAQllXDgBAAAAOAABAQ==</baGUID>
                    </net.rptools.maptool.model.GUID>
                  </entry>
                </sizeMap>
                <snapToGrid>true</snapToGrid>
                <isVisible>false</isVisible>
                <visibleOnlyToOwner>false</visibleOnlyToOwner>
                <name>Lib:GURPS</name>
                <ownerType>0</ownerType>
                <tokenShape>CIRCLE</tokenShape>
                <tokenType>NPC</tokenType>
                <layer>TOKEN</layer>
                <propertyType>libGurps</propertyType>
                <isFlippedX>false</isFlippedX>
                <isFlippedY>false</isFlippedY>
                <sightType>Normal</sightType>
                <hasSight>false</hasSight>
                <notes>Keep this token on one of the maps of the campaign file!  It contains the macros that make this framework run.

The material presented here is my original creation, intended for use with the GURPS system from Steve Jackson Games. This material is not official and is not endorsed by Steve Jackson Games.

GURPS is a trademark of Steve Jackson Games, and its rules and art are copyrighted by Steve Jackson Games. All rights are reserved by Steve Jackson Games. This game aid is the original creation of Winter and is released for free distribution, and not for resale, under the permissions granted in the Steve Jackson Games Online Policy (http://www.sjgames.com/general/online_policy.html).</notes>
                <state>
                  <entry>
                    <string>severe_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Drowsy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Dying</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Collapsing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>heart_attack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>coughingsneezing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Exhausted</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>poisoned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>face-up</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Injured</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Sitting</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dying</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>HeartAttack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>in_ecstasy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>CripLeftLeg</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Aim</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>exhausted</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Grappled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>tiring</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Unconscious</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Daze</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Hidden</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>grappled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>prone</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>climbing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Halfmove</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>retching</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>sitting</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>acid_immersed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>halfmove</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Nauseated</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>acid_splashed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Move</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Fresh</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Tipsy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>body_part_burning</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>right_arm_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Kneeling</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>mentally_stunned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>moderate_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>tipsy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AcidImmersed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>drunk</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>terrible_pain</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>full_body_burning</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Tiring</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Dead</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>diseased</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>PainSevere</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>CripLeftArm</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Crouching</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Ecstacy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Attack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>DefensiveAttack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Coughsneeze</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>CripRightLeg</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>FaceUp</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoAStrong</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Concentrate</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Evaluate</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>StunnedMental</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>seizure</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>coma</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>swallowed_acid</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>BurningFullBody</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>paralyzed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Coma</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>drowsy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>bleeding</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoDDouble</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>StunnedPhysical</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>healthy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Wait</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Standing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>standing</string>
                    <boolean>true</boolean>
                  </entry>
                  <entry>
                    <string>CommittedAttack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>in_agony</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AcidSwallowed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Diseased</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoDIncreased</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoADetermined</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>infected</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Ready</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>left_leg_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Climbing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>physically_stunned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoAFeint</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>coughing_sneezing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>nauseated</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dead</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Maimed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>in_coma</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Prone</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>hallucinating</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>injured</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoADouble</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Bleeding</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>maimed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Infected</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>dazed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>MoveAndAttack</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>collapsing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Siezure</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock1</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Agony</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Healthy</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>kneeling</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Hallucinating</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>agony</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Retching</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>crouching</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>stunned_physically</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Feint</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>stunned_mentally</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>fresh</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock6</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Euphoria</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock8</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock3</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>choking</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock2</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>PainModerate</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>shock4</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>BurningBodyPart</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AcidSplashed</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Shock2</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Shock3</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Poisoned</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Shock4</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>PainTerrible</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Shock6</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>left_arm_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Shock8</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Paralysis</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>AoALong</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>euphoric</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>hidden</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Shock1</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Choking</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>unconscious</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>CripRightArm</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>Drunk</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>DoNothing</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>face_up</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>right_leg_crippled</string>
                    <boolean>false</boolean>
                  </entry>
                  <entry>
                    <string>ChangePosture</string>
                    <boolean>false</boolean>
                  </entry>
                </state>
                <propertyMapCI>
                  <store>
                    <entry>
                      <string></string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key></key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>skills</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>skills</key>
                        <value class="string">[{&quot;level&quot;:8,&quot;name&quot;:&quot;brawling&quot;,&quot;attribute&quot;:&quot;DX&quot;,&quot;notes&quot;:&quot;&quot;},{&quot;level&quot;:10,&quot;name&quot;:&quot;stealth&quot;,&quot;attribute&quot;:&quot;IQ&quot;,&quot;notes&quot;:&quot;&quot;},{&quot;level&quot;:10,&quot;name&quot;:&quot;observation&quot;,&quot;attribute&quot;:&quot;Per&quot;,&quot;notes&quot;:&quot;&quot;}]</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>hp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HP</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>parrybonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>parryBonus</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dx</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>DX</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>ht</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>HT</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>skillvalues</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>SkillValues</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>nextitemid</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>nextItemID</key>
                        <value class="string">12</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>skillnames</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>skillNames</key>
                        <value class="string">Broadsword</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>damage resistance</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Damage Resistance</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dodgebonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>dodgeBonus</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>defence</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Defence</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>traits</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Traits</key>
                        <value class="string">skillNames=Broadsword ; skillLevels=10 ; skillBases=DX ; skillRelLevels=0 ; </value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>st</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>ST</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>basicmove</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>basicMove</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>move</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Move</key>
                        <value class="string">5</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>fright</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Fright</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>fp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>FP</key>
                        <value class="string">10</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>campaignskills</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>campaignSkills</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>dr</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>DR</key>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>iq</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>IQ</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>advantages</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Advantages</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>disadvantages</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Disadvantages</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>elevation</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Elevation</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>damage</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Damage</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>blockbonus</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>blockBonus</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>basicspeed</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>basicSpeed</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>currmaneuver</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>currManeuver</key>
                        <value class="string">{&quot;ID&quot;:&quot;&quot;,&quot;name&quot;:&quot;Committed Attack: Strong&quot;,&quot;descr&quot;:&quot;attack strongly: +1 damage, no parry/block with hand used, -2 def&quot;,&quot;movement&quot;:&quot;step&quot;,&quot;offSkillBonus&quot;:0,&quot;offSkillLimit&quot;:0,&quot;damageBonus&quot;:1,&quot;defAllowed&quot;:&quot;dpb&quot;,&quot;defBonus&quot;:-2}</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>posturedb</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>postureDB</key>
                        <value class="string">0</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>1</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>1</key>
                        <value class="string">1</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>0</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>0</key>
                        <value class="string">[0,0,{&quot;&quot;:&quot;&quot;}]</value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>per</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Per</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>will</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Will</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>maxhp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>maxHP</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>attack</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>Attack</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>maxfp</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>maxFP</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                    <entry>
                      <string>miscdbperm</string>
                      <net.rptools.CaseInsensitiveHashMap_-KeyValue>
                        <key>miscDBPerm</key>
                        <value class="string"></value>
                        <outer-class reference="../../../.."/>
                      </net.rptools.CaseInsensitiveHashMap_-KeyValue>
                    </entry>
                  </store>
                </propertyMapCI>
                <macroPropertiesMap>
                  <entry>
                    <int>3</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>3</index>
                      <colorKey>yellow</colorKey>
                      <hotKey>None</hotKey>
                      <command>[r:currToken=getStrProp(macro.args,&quot;tokenID&quot;)]
[h, if(currToken!=&quot;&quot;):switchToken(currToken)]
[h:tokenName=getName(currentToken())]

[frame(tokenName): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;csGrayCSS@[r: getMacroLocation()]&quot;&gt;
&lt;!--   &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;csBrownCSS@[r: getMacroLocation()]&quot;&gt; --&gt;
&lt;/head&gt;

&lt;body&gt;
   [h: currTab = getStrProp(macro.args, &quot;tab&quot;)] 
   [h,if(currTab==&quot;&quot;): currTab=&quot;Main&quot;] 
   [h: tabList = &quot;Main,Inventory,Ad/Disad,Skills,Spells&quot;] 
   &lt;table cellspacing=&quot;1&quot; cellpadding=&quot;0&quot;&gt; 
   &lt;tr&gt; 
   [foreach(tabTitle, tabList,&quot;&quot;), code: {
      [h,if (tabTitle == currTab): class=&quot;currentTab&quot; ; class=&quot;tab&quot;] 
      [h: callback = &quot;CharSheet@&quot;+getMacroLocation()] 
      &lt;td class=&quot;[r: class]&quot;&gt; [r:macroLink(&quot;&amp;nbsp;&quot; + TabTitle + &quot;&amp;nbsp;&quot;, callback, &quot;none&quot;, &quot;tab=&quot;+tabTitle, currentToken())]&lt;/td&gt; 
   }] 
   &lt;/tr&gt; 
   &lt;/table&gt; 
   [macro(&quot;cs&quot;+currTab+&quot;@this&quot;): &quot;&quot;]
&lt;/body&gt;

&lt;/html&gt; 
}]
</command>
                      <label>CharSheet</label>
                      <group>CharSheet</group>
                      <sortby>1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>4</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>4</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>body { background-color:#fcfcfc }

span.gray { color:#BDBDBD; }
span.green {   color: #116611;  }
span.yellow {  color: #C5A51B;  }
span.orange {   color: #FF8C00;  }
span.red {   color: red;  }

a { 
   text-decoration: none;
   color: #111199;
}

a.del {   color: #661111; }
a.ltblue {   color: #6666CC; }
a.green {   color: #116611;  }
a.yellow {  color: #C5A51B;  }
a.orange {   color: #FF8C00;  }
a.red {   color: red;  }

a:hover  { 
   text-decoration: underline;
}

.tab a { 
   background-color: #3333AA; 
   color: #eeeeee;
   padding: 1px 1px 1px 1px;
}
.currentTab a { 
   background-color: #5555CC; 
   color: white;
   padding: 1px 1px 1px 1px;
}
.button a { 
   background-color: #3333AA; 
   color: #eeeeee;
   padding: 1px 1px 1px 1px;
} 

table {
   width:165px;
   cell-padding: 0px 0px 0px 0px;
   cell-spacing: 0px 0px 0px 0px;
   border-spacing: 0px 0px 0px 0px;
}

table.narrow {
   width:80px;
   padding: 0px 0px 0px 0px;
}

.oddRow { background-color: #f0f0f0 } 
.evenRow { background-color: #f6f6f6 } 
.darkRow { background-color: #dfdfdf }

th {
  text-align: left;
}
th.hdr {
  background-color: #b0b0b0;
  color: white;
}
td {
  border-width:0px
  text-align: center;
}
td.light {
    color: gray;
}

img {
  border : none;
}

input[type=&quot;radio&quot;]  {
   background-color:#000000;
}
</command>
                      <label>csGrayCSS</label>
                      <group>CharSheet</group>
                      <sortby>zCSS</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>5</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>5</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: skillroll=&quot;SkillRoll@this&quot;]
[h: editMacro=&quot;&quot;]
[macro(&quot;calcWt@this&quot;):&quot;&quot;]
[h:totalWeightCarried =macro.return]
[h:encLevels=json.append(&quot;&quot;,&quot;none&quot;, &quot;light&quot;, &quot;medium&quot;, &quot;heavy&quot;, &quot;extra-heavy&quot;)]
[h:currManeuver=getProperty(&quot;currManeuver&quot;)]

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;6&quot;&gt;[r:macroLink(&quot;Attributes&quot;, &quot;attributesDialog@this&quot;, &quot;none&quot;, &quot;&quot;,currentToken())]&lt;/th&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;2&quot; align=&quot;right&quot;&gt;[r:macroLink(&quot;Find&quot;, &quot;findToken@this&quot;, &quot;none&quot;, currentToken(),currentToken())]&lt;/th&gt;
&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;[r:macroLink(&quot;ST&quot;, skillroll, &quot;all&quot;, &quot;name=ST;level=&quot; + getProperty(&quot;ST&quot;) + &quot;;modifier=ask&quot;,currentToken())]&lt;/th&gt;
   &lt;td&gt;[r: getProperty(&quot;ST&quot;)]&lt;/td&gt;
   &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
   &lt;td&gt;Basic Lift&lt;/td&gt;
   &lt;td align=&quot;right&quot;&gt;[r:basicLift]&lt;/td&gt;
   &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
   &lt;th&gt;[r:macroLink(&quot;HP&quot;,&quot;HP@this&quot;, &quot;all&quot;, &quot;&quot;,currentToken())]&lt;/th&gt;
   &lt;td align=&quot;right&quot;&gt;&lt;span class=&quot;[r:getProperty(&quot;colorHP&quot;)]&quot;&gt;[r: getProperty(&quot;HP&quot;)]&lt;/span&gt;&lt;span class=&quot;gray&quot;&gt;/[r: getProperty(&quot;maxHP&quot;)]&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;[r:macroLink(&quot;DX&quot;, skillroll, &quot;all&quot;, &quot;name=DX;level=&quot; + getProperty(&quot;DX&quot;) + &quot;;modifier=ask&quot;,currentToken())]&lt;/th&gt;
   &lt;td&gt;[r: getProperty(&quot;DX&quot;)]&lt;/td&gt;
   &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
   &lt;th&gt;[r:macroLink(&quot;Will&quot;, skillroll, &quot;all&quot;, &quot;name=Will;level=&quot; + getProperty(&quot;Will&quot;) + &quot;;modifier=ask&quot;,currentToken())]&lt;/th&gt;
   &lt;td align=&quot;right&quot;&gt;[r: getProperty(&quot;Will&quot;)]&lt;/td&gt;
   &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
   &lt;th&gt;[r:macroLink(&quot;FP&quot;,&quot;FP@this&quot;, &quot;all&quot;, &quot;&quot;,currentToken())]&lt;/th&gt;
   &lt;td align=&quot;right&quot;&gt;&lt;span class=&quot;[r:getProperty(&quot;colorFP&quot;)]&quot;&gt;[r: getProperty(&quot;FP&quot;)]&lt;/span&gt;&lt;span class=&quot;gray&quot;&gt;/[r: getProperty(&quot;maxFP&quot;)]&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;[r:macroLink(&quot;IQ&quot;, skillroll, &quot;all&quot;, &quot;name=IQ;level=&quot; + getProperty(&quot;IQ&quot;) + &quot;;modifier=ask&quot;,currentToken())]&lt;/th&gt;
   &lt;td&gt;[r: getProperty(&quot;IQ&quot;)]&lt;/td&gt;
   &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
   &lt;th&gt;[r:macroLink(&quot;Per&quot;, skillroll, &quot;all&quot;, &quot;name=Per;level=&quot; + getProperty(&quot;Per&quot;) + &quot;;modifier=ask&quot;,currentToken())]&lt;/th&gt;
   &lt;td align=&quot;right&quot;&gt;[r: getProperty(&quot;Per&quot;)]&lt;/td&gt;
   &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
   &lt;td&gt;Speed&lt;/td&gt;
   &lt;td align=&quot;right&quot;&gt;[r:basicSpeed]&lt;/td&gt;&lt;/tr&gt;

&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;[r:macroLink(&quot;HT&quot;, skillroll, &quot;all&quot;, &quot;name=HT;level=&quot; + getProperty(&quot;HT&quot;) + &quot;;modifier=ask&quot;,currentToken())]&lt;/th&gt;
   &lt;td&gt;[r: getProperty(&quot;HT&quot;)]&lt;/td&gt;
   &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
   &lt;th&gt;[r:macroLink(&quot;Fright&quot;, skillroll, &quot;all&quot;, &quot;name=Fright;level=&quot; + getProperty(&quot;Fright&quot;) + &quot;;modifier=ask&quot;,currentToken())]&lt;/th&gt;
   &lt;td align=&quot;right&quot;&gt;[r: getProperty(&quot;Fright&quot;)]&lt;/td&gt;
   &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
   &lt;td&gt;Move&lt;/td&gt;
   &lt;td align=&quot;right&quot;&gt;[r:getProperty(&quot;currMove&quot;)]&lt;span class=&quot;gray&quot;&gt;/[r:getProperty(&quot;basicMove&quot;)]&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;table class=&quot;&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th class=&quot;hdr&quot;&gt;Enc&lt;/th&gt;
   &lt;th class=&quot;hdr&quot;&gt;load&lt;/th&gt;
   &lt;th class=&quot;hdr&quot;&gt;move&lt;/th&gt;
   &lt;th class=&quot;hdr&quot;&gt;dodge&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td&gt;[r:json.get(encLevels,getProperty(&quot;encumbrance&quot;))]: [r:getProperty(&quot;encumbrance&quot;)]&lt;/td&gt;
     &lt;td&gt;[r:totalWeightCarried] lbs.&lt;/td&gt;
     &lt;td&gt;[r:currMove]&lt;/td&gt;
     &lt;td&gt;[r:dodge]&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;table class=&quot;&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th class=&quot;hdr&quot; width=&quot;70%&quot;&gt;[r:macroLink(&quot;Current Maneuver&quot;, &quot;maneuverDialog@this&quot;, &quot;none&quot;, &quot;&quot;,currentToken())]&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; width=&quot;18%&quot; align=&quot;center&quot;&gt;move&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; width=&quot;12%&quot;&gt;defs&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
[if( json.isEmpty(currManeuver) ),r,code:{
  &lt;td colspan=&quot;1&quot;&gt;&lt;span style=color:red&gt;pick a maneuver&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
};{
  &lt;th valign=&quot;top&quot;&gt;[r:json.get(currManeuver,&quot;name&quot;)]&lt;/th&gt;
  &lt;td valign=&quot;top&quot; align=&quot;center&quot;&gt;[r:json.get(currManeuver,&quot;movement&quot;)]&lt;/td&gt;
  &lt;td valign=&quot;top&quot;&gt;[r:json.get(currManeuver,&quot;defAllowed&quot;)]&lt;/td&gt;&lt;/tr&gt;
  &lt;tr class=&quot;oddRow&quot;&gt;
  &lt;td class=&quot;light&quot; colspan=&quot;3&quot;  valign=&quot;top&quot;&gt;[r:json.get(currManeuver,&quot;descr&quot;)]&lt;/td&gt;&lt;/tr&gt;
     }]
&lt;/table&gt;

&lt;table class=&quot;&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th class=&quot;hdr&quot; width=&quot;69%&quot;&gt;[r:macroLink(&quot;Condition&quot;, &quot;clearConditions@this&quot;, &quot;&quot;, &quot;&quot;,currentToken())]&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; width=&quot;20%&quot;&gt;[r:macroLink(&quot;posture&quot;, &quot;posture@&quot;+getMacroLocation(), &quot;&quot;, &quot;&quot;,currentToken())]&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; width=&quot;11%&quot;&gt;[r:macroLink(&quot;shock&quot;, &quot;shock@&quot;+getMacroLocation(), &quot;&quot;, &quot;&quot;,currentToken())]&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;td colspan=&quot;1&quot;  valign=&quot;top&quot;&gt;
      [h:stateOutput=json.toList(getProperty(&quot;conditions&quot;),&quot;, &quot;)]
      [r,if(stateOutput==&quot;&quot;):stateOutput=&quot;&lt;span style=color:gray&gt;use Conditions buttons&quot;;stateOutput]
   &lt;/td&gt;
   &lt;td colspan=&quot;1&quot;  valign=&quot;top&quot;&gt;[r:getProperty(&quot;posture&quot;)]&lt;/td&gt;
   &lt;td colspan=&quot;1&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;
      [if(shock!=0),r,code:{ &lt;span style=color:red&gt;[r:shock]&lt;/span&gt; };{ [r:shock] }]
   &lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;!-- Convert the readied items&apos; ID numbers into their current indexes in the inventory list.  --&gt; 
[h:itemsReadiedByIndex=&quot;&quot;]
[foreach(readiedID, itemsReadied,&quot;&quot;), h,code: { 
  [h:matchingIndex=-1]
  [counter=0]
  [while (matchingIndex==-1,&quot;&quot; ), h, code: {
    [h: currInventoryItem= json.get (inventory,counter)]
    [if (json.get(currInventoryItem,&quot;ID&quot;) == readiedID), h: matchingIndex= counter]
    [h: counter=counter+1]
  }]
  [h:itemsReadiedByIndex=json.append(itemsReadiedByIndex,matchingIndex)]
}]

[macro(&quot;csReadiedTable@this&quot;):itemsReadiedByIndex]

[if( json.isEmpty(currManeuver) ),code:{};{
  [macro(&quot;csDefTable@this&quot;):itemsReadiedByIndex]
}]

[macro(&quot;csDRTable@this&quot;):&quot;&quot;]

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
&lt;td width=&quot;*&quot;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&quot;tab&quot; width=&quot;50&quot; align=&quot;right&quot;&gt;[r:macroLink(&quot;&amp;nbsp;End Turn&amp;nbsp;&quot;, &quot;endTurn@this&quot;, &quot;none&quot;, &quot;&quot;,currentToken())]&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</command>
                      <label>csMain</label>
                      <group>CharSheet</group>
                      <sortby>1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>6</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>6</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:args=json.fromStrProp(macro.args)]
[h:type=json.get(args,&quot;type&quot;)]

[h:skillList=getProperty(&quot;skills&quot;)]
[h: skillroll=&quot;SkillRoll@this&quot;]
[h: editMacro=&quot;skillDialog@this&quot;]

&lt;table id=&quot;equipment&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th class=&quot;hdr&quot;&gt;Skill [r:type]&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;center&quot;&gt;base&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;center&quot;&gt;lvl&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;right&quot; colspan=&quot;3&quot;&gt;&amp;nbsp;&lt;/th&gt;&lt;/tr&gt;

[h:class=&quot;oddRow&quot;]
[foreach(skill, skillList,&quot;&quot;), code: {
  [h:count=roll.count]
  [h:args= &quot;name=&quot; + json.get(skill,&quot;name&quot;) + &quot;;baseAttribute=&quot; + json.get(skill,&quot;attribute&quot;) + &quot;;level=&quot; + json.get(skill,&quot;level&quot;) + &quot;;modifier=ask&quot;,currentToken())]
  [h:moveUpArgs=&quot;property=skills;indexObjMoved=&quot;+count]
 &lt;tr class=[r:class]&gt;
   &lt;td width=&quot;*&quot; valign=&quot;top&quot;&gt;[ r:macroLink( json.get(skill,&quot;name&quot;) , skillroll , &quot;all&quot; , args , currentToken() ) ]&lt;/td&gt;
   &lt;td width=&quot;15&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(skill,&quot;attribute&quot;)]&lt;/td&gt;
   &lt;td width=&quot;15&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(skill,&quot;level&quot;)]&lt;/td&gt;
   &lt;td width=&quot;10&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(&quot;e&quot;, editMacro, &quot;none&quot;,count,currentToken())]&lt;/td&gt;
   &lt;td width=&quot;10&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;
   [if (count==0), r, code : { 
      &lt;br&gt; 
   } ; {
      &lt;a href=&quot;[r:macroLinkText(&quot;moveUpInArray@this&quot;,&quot;none&quot;,moveUpArgs,currentToken())]&quot; style=&quot;color:gray&quot;&gt;^&lt;/a&gt;
   }]
   &lt;/td&gt;
   &lt;td width=&quot;10&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:macroLinkText(&quot;deleteSkill@this&quot;, &quot;none&quot;,count,currentToken())]&quot; class=&quot;del&quot;&gt;x&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
   [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
}]
&lt;/table&gt;
[r:macroLink(&quot;+skill&quot;, &quot;skillDialog@this&quot;, &quot;self&quot;, &quot;&quot;, currentToken())]



  
</command>
                      <label>csSkills</label>
                      <group>CharSheet</group>
                      <sortby>4</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>true</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>11</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>11</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: indexChosen=macro.args]
[h: indexChosenID=json.get(json.get(inventory,indexChosen),&quot;ID&quot;)]
[if(json.contains(itemsReadied, indexChosenID) || json.contains(itemsCarried, indexChosenID) ), r, code: {
   [s:&quot;You cannot delete from your inventory an item which is currently readied or carried.&quot;]
};{
  [h: inventory=json.remove(inventory,indexChosen)]
  [macro(&quot;calcDR@&quot;+ getMacroLocation()):&quot;&quot;]
  [macro(&quot;calcEnc@&quot;+ getMacroLocation()):&quot;&quot;]
  [MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Inventory&quot;]
}]</command>
                      <label>deleteItem</label>
                      <group>Equipment</group>
                      <sortby>all</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>13</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>13</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- If dialog is called with an arg of &quot;new&quot; or an empty arg, set up default values for a new item, and set form to add the item.
       Else, get the item&apos;s information from the args, and set the form to edit the existing item. --&gt;
[if(json.isEmpty(macro.args) || macro.args==&quot;new&quot;),code,h:{
[h:itemIndexChosen=&quot;&quot;]
[h:itemChosen=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;shield&quot;,&quot;quantity&quot;,1,&quot;weight&quot;,3,&quot;notes&quot;,&quot;&quot;,&quot;shieldDB&quot;,1,&quot;DR&quot;,0,&quot;HP&quot;,0,
&quot;m1descr&quot;,&quot;bash&quot;,&quot;m1skill&quot;,10,&quot;m1minreach&quot;,&quot;1&quot;,&quot;m1maxreach&quot;,&quot;1&quot;,&quot;m1damage&quot;,&quot;1d6-3&quot;,&quot;m1damageType&quot;,&quot;cr&quot;,&quot;m1AD&quot;,1,
&quot;hardened&quot;,&quot;n&quot;,&quot;dodgeBonus&quot;,0,&quot;blockBonus&quot;,0,&quot;parryBonus&quot;,0)]
[h:formAction=macroLinkText(&apos;addItem@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
};{
[h:itemIndexChosen=macro.args]
[h:itemChosen=json.get(inventory,itemIndexChosen)]
[h:formAction=macroLinkText(&apos;editItem@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
} ]

[dialog(&quot;addShield&quot;, &quot;width=400; height=400; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Add/Edit Shield&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;shield&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;ID&quot; value=&quot;[r:json.get(itemChosen,&quot;ID&quot;)]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;itemIndexChosen&quot; value=&quot;[r:itemIndexChosen]&quot;&gt;

&lt;h1&gt;Description of Shield&lt;/h1&gt;
Describe the shield.  Weight and quantity must be zero or greater.
&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;quantity&lt;/th&gt;
&lt;th&gt;weight&lt;/th&gt;
&lt;th&gt;notes&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;[r:json.get(itemChosen,&quot;name&quot;)]&quot; size=&quot;15&quot; maxlength=&quot;20&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;quantity&quot; value=&quot;[r:json.get(itemChosen,&quot;quantity&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;weight&quot; value=&quot;[r:json.get(itemChosen,&quot;weight&quot;)]&quot; size=&quot;4&quot; maxlength=&quot;5&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;notes&quot; value=&quot;[r:json.get(itemChosen,&quot;notes&quot;)]&quot; size=&quot;40&quot; maxlength=&quot;50&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;h1&gt;Shield Statistics&lt;/h1&gt;
&lt;table&gt;
&lt;tr&gt; 
&lt;th&gt;Defense Bonus&lt;/th&gt;
&lt;th&gt;Damage Resistance&lt;/th&gt;
&lt;th&gt;HP&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;shieldDB&quot; value=&quot;[r:json.get(itemChosen,&quot;shieldDB&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;DR&quot; value=&quot;[r:json.get(itemChosen,&quot;DR&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;HP&quot; value=&quot;[r:json.get(itemChosen,&quot;HP&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;h1&gt;Melee Combat&lt;/h1&gt;
&lt;table&gt;
&lt;tr&gt; 
&lt;th&gt;description/use&lt;/th&gt;
&lt;th&gt;skill&lt;/th&gt;
&lt;th&gt;reach&lt;/th&gt;
&lt;th&gt;damage&lt;/th&gt;
&lt;th&gt;damage type&lt;/th&gt;
&lt;th&gt;armor divisor&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m1descr&quot; value=&quot;[r:json.get(itemChosen,&quot;m1descr&quot;)]&quot; size=&quot;10&quot; maxlength=&quot;20&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m1skill&quot; value=&quot;[r:json.get(itemChosen,&quot;m1skill&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;hidden&quot; name=&quot;m1maxReach&quot; value=&quot;1&quot;&gt;
         &lt;input type=&quot;hidden&quot; name=&quot;m1minReach&quot; value=&quot;1&quot;&gt; &amp;nbsp; 1&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m1damage&quot; value=&quot;[r:json.get(itemChosen,&quot;m1damage&quot;)]&quot; size=&quot;6&quot; maxlength=&quot;8&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;select name=&quot;m1damageType&quot;&gt;[macro(&quot;selectDamageType@this&quot;):json.get(itemChosen,&quot;m1damageType&quot;)]&lt;/select&gt;&lt;/td&gt;
&lt;td&gt;&lt;select name=&quot;m1AD&quot;&gt;[macro(&quot;selectAD@this&quot;):json.get(itemChosen,&quot;m1AD&quot;)]&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>shieldDialog</label>
                      <group>Equipment</group>
                      <sortby></sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>15</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>15</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>body { background-color:#f0f0ef }

h1 {
     font-size : 120%;
}

h2 {
     font-size : 110%;
}

a { 
   text-decoration: none;
   color: #111199;
}

a:hover  { 
   text-decoration: underline;
}

tr {
   width:100%;
   padding: 0px 0px 0px 0px;
}

.oddRow { background-color: #eeeeee } 
.evenRow { background-color: #f6f6f6 } 

th.hdr {
  background-color: #888888;
  color: white;
}
th {
  text-align: left;
  vertical-align: bottom;
}
td {
  border-width:0px;
  text-align: left;
  vertical-align: top;
}
td.light {
    color: gray;
}</command>
                      <label>DialogCSS</label>
                      <group>CharSheet</group>
                      <sortby>zCSS</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>18</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>18</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- If dialog is called with an arg of &quot;new&quot; or an empty arg, set up default values for a new item, and set form to add the item.
       Else, get the item&apos;s information from the args, and set the form to edit the existing item. --&gt;
[if(json.isEmpty(macro.args) || macro.args==&quot;new&quot;),code,h:{
[h:itemIndexChosen=&quot;&quot;]
[h:itemChosen=&quot;{}&quot;]
[h:itemID=0]
[h:name=&quot;weapon name&quot;]
[h:weight=1]
[h:quantity=1]
[h:notes=&quot;&quot;]
[h:parryBonus=0]
[h:m1parryType=&quot;normal&quot;]
[h:m2parryType=&quot;normal&quot;]
[h:m1numHands=1]
[h:m2numHands=1]
[h:m1minReach=1]
[h:m1maxReach=1]
[h:m2minReach=1]
[h:m2maxReach=1]
[h:m1damage=&quot;1d6+2&quot;]
[h:m1damageType=&quot;cut&quot;]
[h:m2damageType=&quot;imp&quot;]
[h:r1damageType=&quot;imp&quot;]
[h:r2damageType=&quot;imp&quot;]
[h:m1AD=1]
[h:m2AD=1]
[h:r1AD=1]
[h:r2AD=1]
[h:formAction=macroLinkText(&apos;addItem@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
};{
[h:itemIndexChosen=macro.args]
[h:itemChosen=json.get(inventory,itemIndexChosen)]
[h:name=json.get(itemChosen,&quot;name&quot;)]
[h:itemID=json.get(itemChosen,&quot;ID&quot;)]
[h:weight=json.get(itemChosen,&quot;weight&quot;)]
[h:quantity=json.get(itemChosen,&quot;quantity&quot;)]
[h:notes=json.get(itemChosen,&quot;notes&quot;)]
[h:parryBonus=json.get(itemChosen,&quot;parryBonus&quot;)]
[h:m1parryType=json.get(itemChosen,&quot;m1parryType&quot;)]
[h:m2parryType=json.get(itemChosen,&quot;m2parryType&quot;)]
[h:m1numHands=json.get(itemChosen,&quot;m1numHands&quot;)]
[h:m2numHands=json.get(itemChosen,&quot;m2numHands&quot;)]
[h:m1minReach=json.get(itemChosen,&quot;m1minReach&quot;)]
[h:m1maxReach=json.get(itemChosen,&quot;m1maxReach&quot;)]
[h:m2minReach=json.get(itemChosen,&quot;m2minReach&quot;)]
[h:m2maxReach=json.get(itemChosen,&quot;m2maxReach&quot;)]
[h:m1damage=json.get(itemChosen, &quot;m1damage&quot;)]
[h:m1damageType=json.get(itemChosen, &quot;m1damageType&quot;)]
[h:m2damageType=json.get(itemChosen, &quot;m2damageType&quot;)]
[h:r1damageType=json.get(itemChosen, &quot;r1damageType&quot;)]
[h:r2damageType=json.get(itemChosen, &quot;r2damageType&quot;)]
[h:m1AD=json.get(itemChosen,&quot;m1AD&quot;)]
[h:m2AD=json.get(itemChosen,&quot;m2AD&quot;)]
[h:r1AD=json.get(itemChosen,&quot;r1AD&quot;)]
[h:r2AD=json.get(itemChosen,&quot;r2AD&quot;)]
[h:formAction=macroLinkText(&apos;editItem@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
} ]
[if( json.get(itemChosen,&quot;m1unreadyAfter&quot;)==&quot;y&quot; ),h: m1unreadyAfterChecked=&quot;checked&quot;;m1unreadyAfterChecked=&quot;&quot;]
[if( json.get(itemChosen,&quot;m2unreadyAfter&quot;)==&quot;y&quot; ),h: m2unreadyAfterChecked=&quot;checked&quot;;m2unreadyAfterChecked=&quot;&quot;]

[dialog(&quot;addWeapon&quot;, &quot;width=640; height=420; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Add/Edit a Weapon&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;weapon&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;ID&quot; value=&quot;[r:itemID]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;itemIndexChosen&quot; value=&quot;[r:itemIndexChosen]&quot;&gt;

&lt;h1&gt;Description of Weapon&lt;/h1&gt;
Describe the weapon.  Weight, quantity, and parry bonus must be zero or greater.  &lt;br&gt;
Express damage in &quot;2d6+3&quot; form.  A carrier attack which does no damage should have damage set to &lt;b&gt;0d6&lt;/b&gt;.
&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;quantity&lt;/th&gt;
&lt;th&gt;weight&lt;/th&gt;
&lt;th&gt;notes&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;[r:name]&quot; size=&quot;15&quot; maxlength=&quot;20&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;quantity&quot; value=&quot;[r:quantity]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;weight&quot; value=&quot;[r:weight]&quot; size=&quot;4&quot; maxlength=&quot;5&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;notes&quot; value=&quot;[r:notes]&quot; size=&quot;40&quot; maxlength=&quot;50&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;h1&gt;Melee Combat&lt;/h1&gt;
&lt;table&gt;
&lt;tr&gt; 
&lt;th valign=&quot;bottom&quot;&gt;description/use&lt;/th&gt;
&lt;th valign=&quot;bottom&quot;&gt;skill&lt;/th&gt;
&lt;th align=&quot;center&quot; valign=&quot;bottom&quot;&gt;parry bonus&lt;/th&gt;
&lt;th align=&quot;center&quot; valign=&quot;bottom&quot;&gt;parry type&lt;/th&gt;
&lt;th align=&quot;center&quot; valign=&quot;bottom&quot;&gt;hands needed (†)&lt;/th&gt;
&lt;th align=&quot;center&quot; valign=&quot;bottom&quot;&gt;unreadied&lt;br&gt;by use (‡)&lt;/th&gt;
&lt;th valign=&quot;bottom&quot;&gt;min reach&lt;/th&gt;
&lt;th valign=&quot;bottom&quot;&gt;max reach&lt;/th&gt;
&lt;th valign=&quot;bottom&quot;&gt;damage&lt;/th&gt;
&lt;th valign=&quot;bottom&quot;&gt;damage type&lt;/th&gt;
&lt;th valign=&quot;bottom&quot;&gt;AD&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m1descr&quot; value=&quot;[r:json.get(itemChosen,&quot;m1descr&quot;)]&quot; size=&quot;10&quot; maxlength=&quot;20&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m1skill&quot; value=&quot;[r:json.get(itemChosen,&quot;m1skill&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;parryBonus&quot; value=&quot;[r:parryBonus]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;select name=&quot;m1parryType&quot;&gt;
     [h: parryTypes=&quot;normal,fencing,unbalanced,none&quot;]
     [r, foreach (type, parryTypes, &quot;&quot;), code:{
           [h, if (type==m1parryType): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
           &lt;option value=&quot;[r:type]&quot; [r:isSelected]&gt;[r:type] 
     } ]&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;select name=&quot;m1numHands&quot;&gt;
     [h: numHands=&quot;1,2&quot;]
     [r, foreach (num, numHands, &quot;&quot;), code:{
           [h, if (num==m1numHands): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
           &lt;option value=&quot;[r:num]&quot; [r:isSelected]&gt;[r:num] 
     } ]&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;m1unreadyAfter&quot; value=&quot;y&quot; [r:m1unreadyAfterChecked]&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;select name=&quot;m1minReach&quot;&gt;
     [h: reaches=&quot;0,1,2,3,4,5&quot;]
     [r, foreach (reach, reaches, &quot;&quot;), code:{
           [h, if (reach==m1minReach): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
           &lt;option value=&quot;[r:reach]&quot; [r:isSelected]&gt;[r:reach] 
     } ]&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;select name=&quot;m1maxReach&quot;&gt;
     [r, foreach (reach, reaches, &quot;&quot;), code:{
           [h, if (reach==m1maxReach): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
           &lt;option value=&quot;[r:reach]&quot; [r:isSelected]&gt;[r:reach]
     } ]&lt;/select&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m1damage&quot; value=&quot;[r:m1damage]&quot; size=&quot;6&quot; maxlength=&quot;8&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;select name=&quot;m1damageType&quot;&gt;[macro(&quot;selectDamageType@this&quot;):m1damageType]&lt;/select&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m1AD&quot; value=&quot;[r:m1AD]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m2descr&quot; value=&quot;[r:json.get(itemChosen,&quot;m2descr&quot;)]&quot; size=&quot;10&quot; maxlength=&quot;20&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m2skill&quot; value=&quot;[r:json.get(itemChosen,&quot;m2skill&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;select name=&quot;m2parryType&quot;&gt;
     [r, foreach (type, parryTypes, &quot;&quot;), code:{
           [h, if (type==m2parryType): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
           &lt;option value=&quot;[r:type]&quot; [r:isSelected]&gt;[r:type] 
     } ]&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;select name=&quot;m1numHands&quot;&gt;
     [r, foreach (num, numHands, &quot;&quot;), code:{
           [h, if (num==m2numHands): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
           &lt;option value=&quot;[r:num]&quot; [r:isSelected]&gt;[r:num] 
     } ]&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;m2unreadyAfter&quot; value=&quot;y&quot; [r:m2unreadyAfterChecked]&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;select name=&quot;m2minReach&quot;&gt;
     [r, foreach (reach, reaches, &quot;&quot;), code:{
           [h, if (reach==m2minReach): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
           &lt;option value=&quot;[r:reach]&quot; [r:isSelected]&gt;[r:reach]
     } ]&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;select name=&quot;m2maxReach&quot;&gt;
     [r, foreach (reach, reaches, &quot;&quot;), code:{
           [h, if (reach==m2maxReach): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
           &lt;option value=&quot;[r:reach]&quot; [r:isSelected]&gt;[r:reach]
     } ]&lt;/select&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m2damage&quot; value=&quot;[r:json.get(itemChosen,&quot;m2damage&quot;)]&quot; size=&quot;6&quot; maxlength=&quot;8&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;select name=&quot;m2damageType&quot;&gt;[macro(&quot;selectDamageType@this&quot;):m2damageType]&lt;/select&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;m2AD&quot; value=&quot;[r:m2AD]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;h1&gt;Ranged Combat&lt;/h1&gt;
&lt;table&gt;
&lt;tr&gt; 
&lt;th&gt;description/use&lt;/th&gt;
&lt;th&gt;skill&lt;/th&gt;
&lt;th&gt;acc&lt;/th&gt;
&lt;th&gt;half/max range&lt;/th&gt;
&lt;th&gt;RoF&lt;/th&gt;
&lt;th&gt;shots&lt;/th&gt;
&lt;th&gt;ST&lt;/th&gt;
&lt;th&gt;malf&lt;/th&gt;
&lt;th&gt;bulk&lt;/th&gt;
&lt;th&gt;damage&lt;/th&gt;
&lt;th&gt;damage type&lt;/th&gt;
&lt;th&gt;AD&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1descr&quot; value=&quot;[r:json.get(itemChosen,&quot;r1descr&quot;)]&quot; size=&quot;10&quot; maxlength=&quot;20&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1skill&quot; value=&quot;[r:json.get(itemChosen,&quot;r1skill&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1acc&quot; value=&quot;[r:json.get(itemChosen,&quot;r1acc&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1halfRange&quot; value=&quot;[r:json.get(itemChosen,&quot;r1halfRange&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;4&quot;&gt;/
         &lt;input type=&quot;text&quot; name=&quot;r1maxRange&quot; value=&quot;[r:json.get(itemChosen,&quot;r1maxRange&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;4&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1RoF&quot; value=&quot;[r:json.get(itemChosen,&quot;r1RoF&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1shots&quot; value=&quot;[r:json.get(itemChosen,&quot;r1shots&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;4&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1ST&quot; value=&quot;[r:json.get(itemChosen,&quot;r1ST&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1malf&quot; value=&quot;[r:json.get(itemChosen,&quot;r1malf&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1bulk&quot; value=&quot;[r:json.get(itemChosen,&quot;r1bulk&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1damage&quot; value=&quot;[r:json.get(itemChosen,&quot;r1damage&quot;)]&quot; size=&quot;6&quot; maxlength=&quot;8&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;select name=&quot;r1damageType&quot;&gt;[macro(&quot;selectDamageType@this&quot;):r1damageType]&lt;/select&gt; &lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r1AD&quot; value=&quot;[r:r1AD]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2descr&quot; value=&quot;[r:json.get(itemChosen,&quot;r2descr&quot;)]&quot; size=&quot;10&quot; maxlength=&quot;20&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2skill&quot; value=&quot;[r:json.get(itemChosen,&quot;r2skill&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2acc&quot; value=&quot;[r:json.get(itemChosen,&quot;r2acc&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2halfRange&quot; value=&quot;[r:json.get(itemChosen,&quot;r2halfRange&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;4&quot;&gt;/
         &lt;input type=&quot;text&quot; name=&quot;r2maxRange&quot; value=&quot;[r:json.get(itemChosen,&quot;r2maxRange&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;4&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2RoF&quot; value=&quot;[r:json.get(itemChosen,&quot;r2RoF&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2shots&quot; value=&quot;[r:json.get(itemChosen,&quot;r2shots&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;4&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2ST&quot; value=&quot;[r:json.get(itemChosen,&quot;r2ST&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2malf&quot; value=&quot;[r:json.get(itemChosen,&quot;r2malf&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2bulk&quot; value=&quot;[r:json.get(itemChosen,&quot;r2bulk&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2damage&quot; value=&quot;[r:json.get(itemChosen,&quot;r2damage&quot;)]&quot; size=&quot;6&quot; maxlength=&quot;8&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;select name=&quot;r2damageType&quot;&gt;[macro(&quot;selectDamageType@this&quot;):r2damageType]&lt;/select&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;r2AD&quot; value=&quot;[r:r2AD]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt; 
&lt;/table&gt;
&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>weaponDialog</label>
                      <group>Equipment</group>
                      <sortby></sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>21</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>21</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up old inventory of items and incoming new item.  --&gt;
[h:oldInventory=getProperty(&quot;inventory&quot;)]
[h:newItem=json.fromStrProp(macro.args)]

&lt;!--  Remove the itemIndexChosen from the newItem, as it&apos;s needed only to identify the item
 we&apos;re working with in this macro, and should not be saved with the changed item. --&gt;
[h:newItem=json.remove(newItem,&quot;itemIndexChosen&quot;)]

&lt;!-- Adding ID to new item, and incrementing nextItemID for the next item added.  --&gt;
[h:itemID=getLibProperty(&quot;nextItemID&quot;,&quot;Lib:GURPS&quot;)]
[h:setLibProperty(&quot;nextItemID&quot;,itemID+1,&quot;Lib:GURPS&quot;)]

[h:itemIDObj=json.set(&quot;{}&quot;,&quot;ID&quot;,itemID)]
[h:newItem=json.merge(newItem, itemIDObj)]

&lt;!-- Adding indexed new item to the old inventory, and storing in token property. Recalculate encumbrance, if necessary.--&gt;
[h:inventory=json.append(oldInventory, newItem)]

[macro(&quot;calcEnc@&quot;+ getMacroLocation()):&quot;&quot;]

[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Inventory&quot;]</command>
                      <label>addItem</label>
                      <group>Equipment</group>
                      <sortby>all</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>20</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>20</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- If dialog is called with an arg of &quot;new&quot; or an empty arg, set up default values for a new item, and set form to add the item.
       Else, get the item&apos;s information from the args, and set the form to edit the existing item. --&gt;
[if(json.isEmpty(macro.args) || macro.args==&quot;new&quot;),code,h:{
[h:itemID=0]
[h:itemChosen=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;item&quot;,&quot;quantity&quot;,1,&quot;weight&quot;,1,&quot;notes&quot;,&quot;&quot;,&quot;dodgeBonus&quot;,0,&quot;blockBonus&quot;,0,&quot;parryBonus&quot;,0)]
[h:itemIndexChosen=&quot;&quot;]
[h:formAction=macroLinkText(&apos;addItem@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
};{
[h:itemIndexChosen=macro.args]
[h:itemChosen=json.get(inventory,itemIndexChosen)]
[h:formAction=macroLinkText(&apos;editItem@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
} ]
&lt;!-- Set up dialog box --&gt; 
[dialog(&quot;miscItem&quot;, &quot;width=400; height=200; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@[r:getMacroLocation()]&quot;&gt;
&lt;title&gt;Add/Edit a Miscellaneous Item&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;miscItem&quot; action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;ID&quot; value=&quot;[r:json.get(itemChosen,&quot;ID&quot;)]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;itemIndexChosen&quot; value=&quot;[r:itemIndexChosen]&quot;&gt;

&lt;h1&gt;Description of Item&lt;/h1&gt;
Describe the item.  Weight and quantity must be zero or greater.
&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;quantity&lt;/th&gt;
&lt;th&gt;weight&lt;/th&gt;
&lt;th&gt;notes&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;[r:json.get(itemChosen,&quot;name&quot;)]&quot; size=&quot;15&quot; maxlength=&quot;20&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;quantity&quot; value=&quot;[r:json.get(itemChosen,&quot;quantity&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;weight&quot; value=&quot;[r:json.get(itemChosen,&quot;weight&quot;)]&quot; size=&quot;4&quot; maxlength=&quot;5&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;notes&quot; value=&quot;[r:json.get(itemChosen,&quot;notes&quot;)]&quot; size=&quot;40&quot; maxlength=&quot;50&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>miscItemDialog</label>
                      <group>Equipment</group>
                      <sortby></sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>23</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>23</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up incoming edited item.  --&gt;
[h:newItem=json.fromStrProp(macro.args)]
[h:itemIndexChosen=json.get(newItem,&quot;itemIndexChosen&quot;)]

&lt;!--  Remove the itemIndexChosen from the newItem, as it&apos;s needed only to identify the item
 we&apos;re working with in this macro, and should not be saved inside the changed item. --&gt;
[h:newItem=json.remove(newItem,&quot;itemIndexChosen&quot;)]

&lt;!-- Replace old item with changed item in the inventory, store in token property, and recalculate encumbrance and DR as necessary. --&gt;
[h:inventory=json.set(inventory, itemIndexChosen, newItem)]

[macro(&quot;calcEnc@&quot;+ getMacroLocation()):&quot;&quot;]
[if(json.contains(newItem,&quot;armor&quot;)),h, code: {[macro(&quot;calcDR@&quot;+ getMacroLocation()):&quot;&quot;];}]

[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Inventory&quot;]</command>
                      <label>editItem</label>
                      <group>Equipment</group>
                      <sortby>all</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>22</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>22</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[r:itemID=getLibProperty(&quot;nextItemID&quot;,&quot;Lib:GURPS&quot;)] incremented to
[r:setLibProperty(&quot;nextItemID&quot;,itemID+1,&quot;Lib:GURPS&quot;)]
[r:getLibProperty(&quot;nextItemID&quot;,&quot;Lib:GURPS&quot;)]
</command>
                      <label>incrNextItemID</label>
                      <group>Equipment</group>
                      <sortby>z</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>25</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>25</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:typeSelected=macro.args]
[h: types=&quot; ,cr,cut,imp,pi-,pi,pi+,pi++,burn,tight-beam,corr&quot;]

[r, foreach (type, types, &quot;&quot;), code:{
   [h, if (type==typeSelected): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
   &lt;option value=&quot;[r:type]&quot; [r:isSelected]&gt;[r:type]
} ]</command>
                      <label>selectDamageType</label>
                      <group>Equipment</group>
                      <sortby>z</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>gray</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>24</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>24</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- If dialog is called with an arg of &quot;new&quot; or an empty arg, set up default values for a new item, and set form to add the item.
       Else, get the item&apos;s information from the args, and set the form to edit the existing item. --&gt;
[if(json.isEmpty(macro.args) || macro.args==&quot;new&quot;),code,h:{
[h:itemIndexChosen=&quot;&quot;]
[h:itemChosen=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;armor&quot;,&quot;quantity&quot;,1,&quot;weight&quot;,10,&quot;notes&quot;,&quot;&quot;,&quot;eye&quot;,&quot;&quot;,&quot;skull&quot;,&quot;&quot;,&quot;face&quot;,&quot;&quot;,&quot;neck&quot;,&quot;&quot;,
&quot;right arm&quot;,&quot;&quot;,&quot;left arm&quot;,&quot;&quot;,&quot;hand&quot;,&quot;&quot;,&quot;torso&quot;,&quot;&quot;,&quot;back&quot;,&quot;&quot;,&quot;vitals&quot;,&quot;&quot;,&quot;groin&quot;,&quot;&quot;,&quot;right leg&quot;,&quot;&quot;,&quot;left leg&quot;,&quot;&quot;,&quot;foot&quot;,&quot;&quot;,
&quot;hardened&quot;,&quot;n&quot;,&quot;dodgeBonus&quot;,0,&quot;blockBonus&quot;,0,&quot;parryBonus&quot;,0)]
[h:formAction=macroLinkText(&apos;addItem@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
};{
[h:itemIndexChosen=macro.args]
[h:itemChosen=json.get(inventory,itemIndexChosen)]
[h:formAction=macroLinkText(&apos;editItem@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
} ]

[dialog(&quot;addArmor&quot;, &quot;width=400; height=400; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Add/Edit Armor or Clothing&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;armor&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;ID&quot; value=&quot;[r:json.get(itemChosen,&quot;ID&quot;)]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;itemIndexChosen&quot; value=&quot;[r:itemIndexChosen]&quot;&gt;

&lt;h1&gt;Description of Armor or Clothing&lt;/h1&gt;
Describe the armor or clothing.  Weight and quantity must be zero or greater.
&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;quantity&lt;/th&gt;
&lt;th&gt;weight&lt;/th&gt;
&lt;th&gt;notes&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;[r:json.get(itemChosen,&quot;name&quot;)]&quot; size=&quot;20&quot; maxlength=&quot;30&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;quantity&quot; value=&quot;[r:json.get(itemChosen,&quot;quantity&quot;)]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;weight&quot; value=&quot;[r:json.get(itemChosen,&quot;weight&quot;)]&quot; size=&quot;4&quot; maxlength=&quot;5&quot;&gt;&lt;/td&gt;
&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;notes&quot; value=&quot;[r:json.get(itemChosen,&quot;notes&quot;)]&quot; size=&quot;35&quot; maxlength=&quot;50&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;h1&gt;Damage Resistance Granted&lt;/h1&gt;
&lt;table cellspacing=&quot;1&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;eye&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-9&lt;/td&gt;
     &lt;td width=&quot;50&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;eye&quot; value=&quot;[r:json.get(itemChosen,&quot;eye&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;torso, front&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp;0&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;torso&quot; value=&quot;[r:json.get(itemChosen,&quot;torso&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;skull&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-7&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;skull&quot; value=&quot;[r:json.get(itemChosen,&quot;skull&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;torso, back&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp;0&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;back&quot; value=&quot;[r:json.get(itemChosen,&quot;back&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;face&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;face&quot; value=&quot;[r:json.get(itemChosen,&quot;face&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;td&gt;vitals&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;vitals&quot; value=&quot;[r:json.get(itemChosen,&quot;vitals&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;neck&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;neck&quot; value=&quot;[r:json.get(itemChosen,&quot;neck&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;groin&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;groin&quot; value=&quot;[r:json.get(itemChosen,&quot;groin&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;arm, right&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;right arm&quot; value=&quot;[r:json.get(itemChosen,&quot;right arm&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;leg, right&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;right leg&quot; value=&quot;[r:json.get(itemChosen,&quot;right leg&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;arm, left&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;left arm&quot; value=&quot;[r:json.get(itemChosen,&quot;left arm&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;leg, left&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;left leg&quot; value=&quot;[r:json.get(itemChosen,&quot;left leg&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;hand&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;hand&quot; value=&quot;[r:json.get(itemChosen,&quot;hand&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;foot&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;foot&quot; value=&quot;[r:json.get(itemChosen,&quot;foot&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>armorDialog</label>
                      <group>Equipment</group>
                      <sortby></sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>27</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>27</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: skillroll=&quot;SkillRoll@this&quot;]
[h: editMacro=&quot;&quot;]
[h:nbsp=&quot;&amp;nbsp;&quot;]
[h:inventoryArray=getProperty(&quot;inventory&quot;)]

[h:basicLift=getProperty(&quot;basicLift&quot;)]
[macro(&quot;calcWt@this&quot;):&quot;&quot;]
[h:totalWeightCarried =macro.return]
[h:encBLMultipliers=json.append(&quot;&quot;,1,2,3,6,10)]
[h:encLevels=json.append(&quot;&quot;,&quot;none&quot;, &quot;light&quot;, &quot;medium&quot;, &quot;heavy&quot;, &quot;extra-heavy&quot;)]

&lt;!-- Equipment inventory --&gt;
&lt;table id=&quot;equipment&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th class=&quot;hdr&quot;colspan=&quot;2&quot;&gt;[r:totalWeightCarried] lbs. carried&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;right&quot;&gt;#&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;right&quot;&gt;wt.&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;right&quot;&gt;∑wt.&lt;/th&gt;
   &lt;th class=&quot;hdr&quot;&gt;&amp;nbsp;&lt;/th&gt;
   &lt;th class=&quot;hdr&quot;&gt;&amp;nbsp;&lt;/th&gt;&lt;/tr&gt;

[h:class=&quot;oddRow&quot;]
[foreach(item, inventoryArray,&quot;&quot;), code: {
  [h:count=roll.count]
  [if(json.contains(item,&quot;miscItem&quot;)),h: editMacro=&quot;miscItemDialog@this&quot;]
  [if(json.contains(item,&quot;weapon&quot;)),h: editMacro=&quot;weaponDialog@this&quot;]
  [if(json.contains(item,&quot;armor&quot;)),h: editMacro=&quot;armorDialog@this&quot;]
  [if(json.contains(item,&quot;shield&quot;)),h: editMacro=&quot;shieldDialog@this&quot;]
  [h:currID=json.get(item,&quot;ID&quot;)]
  [h:moveUpArgs=&quot;property=inventory;indexObjMoved=&quot;+count]
  [h: readyLinkClass=&quot;green&quot;]
  [h:readyLinkText=&quot;&amp;mdash;&quot;]
  [if(json.contains(itemsReadied,currID)),h: readyLinkText=&quot;R&quot;; &quot;&quot;]
  [if(json.contains(itemsCarried,currID)),h: readyLinkText=&quot;c&quot;; &quot;&quot;]

 &lt;tr class=[r:class]&gt;
   &lt;td width=&quot;115&quot;&gt;[r:macroLink(json.get(item,&quot;name&quot;), editMacro, &quot;none&quot;,count,currentToken())]&lt;/td&gt;
   &lt;td align=&quot;center&quot;&gt;&lt;a href=&quot;[r:macroLinkText(&quot;readyItem@this&quot;,&quot;all&quot;,count,currentToken())]&quot; class=&quot;[r:readyLinkClass]&quot;&gt;[r:readyLinkText]&lt;/a&gt;&lt;/td&gt;
   &lt;td align=&quot;right&quot;&gt;[r:json.get(item,&quot;quantity&quot;)]&lt;/td&gt;
   &lt;td class=&quot;light&quot; align=&quot;right&quot;&gt;[r:json.get(item,&quot;weight&quot;)]&lt;/td&gt;
   &lt;td align=&quot;right&quot;&gt;[r:json.get(item,&quot;weight&quot;)*json.get(item,&quot;quantity&quot;)]&lt;/td&gt;
   &lt;td align=&quot;center&quot;&gt;
   [if (count==0), r, code : { 
      &lt;br&gt; 
   } ; {
      &lt;a href=&quot;[r:macroLinkText(&quot;moveUpInArray@this&quot;,&quot;none&quot;,moveUpArgs,currentToken())]&quot; style=&quot;color:gray&quot;&gt;&amp;nbsp;^&lt;/a&gt;
   }]
   &lt;/td&gt;
   &lt;td align=&quot;right&quot;&gt;&amp;nbsp;&lt;a href=&quot;[r:macroLinkText(&quot;deleteItem@this&quot;, &quot;none&quot;,count,currentToken())]&quot; class=&quot;del&quot;&gt;x&lt;/a&gt; &lt;/td&gt;&lt;/tr&gt;
   [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
}]
&lt;/table&gt;

&lt;!-- Links for adding equipment --&gt;
[r:macroLink(&quot;+weapon&quot;, &quot;weaponDialog@this&quot;, &quot;none&quot;,&quot;&quot;,currentToken())] &amp;nbsp;
[r:macroLink(&quot;+armor&quot;, &quot;armorDialog@this&quot;, &quot;none&quot;,&quot;&quot;,currentToken())] &amp;nbsp;
[r:macroLink(&quot;+shield&quot;, &quot;shieldDialog@this&quot;, &quot;none&quot;,&quot;&quot;,currentToken())] &amp;nbsp;
[r:macroLink(&quot;+misc&quot;, &quot;miscItemDialog@this&quot;, &quot;none&quot;,&quot;new&quot;,currentToken())]
&lt;br&gt;
&lt;!-- Table of Encumbrance Levels --&gt;
&lt;table id=&quot;encumbrance&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
&lt;tr&gt;
   &lt;th class=&quot;hdr&quot; colspan=&quot;2&quot;&gt;Enc Level&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;right&quot;&gt;Max Wt&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;right&quot;&gt;Move&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;right&quot;&gt;Dodge&lt;/th&gt;&lt;/tr&gt;
[h:class=&quot;oddRow&quot;]

[foreach(levelName, encLevels,&quot;&quot;), code: { 
  [h:currLevel=roll.count]
  [h:maxWeightOfEncLevel=floor(basicLift*json.get(encBLMultipliers,currLevel))]
  [if(getProperty(&quot;encumbrance&quot;)==currLevel),h: rowTextStyle=&quot;&quot;; rowTextStyle=&quot;light&quot;]
  &lt;tr class=[r:class]&gt;
     &lt;td class=&quot;[r:rowTextStyle]&quot;&gt;[r:levelName]&lt;/td&gt;
     &lt;td class=&quot;[r:rowTextStyle]&quot;&gt;[r:currLevel]&lt;/td&gt;
     &lt;td class=&quot;[r:rowTextStyle]&quot; align=&quot;right&quot;&gt;[r:maxWeightOfEncLevel]&lt;/td&gt;
     &lt;td class=&quot;[r:rowTextStyle]&quot; align=&quot;right&quot;&gt;[r:floor(basicMove*(1-0.2*currLevel))]&lt;/td&gt;
     &lt;td class=&quot;[r:rowTextStyle]&quot; align=&quot;right&quot;&gt;[r:dodgeMax-currLevel]&lt;/td&gt;&lt;/tr&gt;
   [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
}]
&lt;/table&gt;

&lt;br&gt;

[macro(&quot;csDRTable@this&quot;):&quot;&quot;]</command>
                      <label>csInventory</label>
                      <group>CharSheet</group>
                      <sortby>3</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>26</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>26</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- deprecated as of 1.80b --&gt;

[h:typeSelected=macro.args]
[h: types=&quot;.25,.5,1,2,5,10&quot;]

[r, foreach (type, types, &quot;&quot;), code:{
   [h, if (type==typeSelected): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
   &lt;option value=&quot;[r:type]&quot; [r:isSelected]&gt;[r:type]
} ]</command>
                      <label>selectAD</label>
                      <group>Equipment</group>
                      <sortby>z</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>gray</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>29</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>29</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:totalWeight=0]
[foreach(item, inventory,&quot;&quot;), h, code: { 
  [h:itemID=json.get(item,&quot;ID&quot;)]
  [if ( json.contains(itemsCarried, itemID) || json.contains(itemsReadied, itemID) ), h, code: {
    [h:totalWeight=totalWeight+json.get(item,&quot;weight&quot;)*json.get(item,&quot;quantity&quot;)]
  };{&quot;&quot;}]
}]
[h:macro.return=totalWeight]</command>
                      <label>calcWt</label>
                      <group>Equipment</group>
                      <sortby>calc</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>gray</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>28</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>28</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>body { background-color:#f8f7ef  }

a { 
   text-decoration: none;
   color: #111199;
}

a.del {
   text-decoration: none;
   color: #661111;
}

a:hover  { 
   text-decoration: underline;
}

.page a { 
   background-color: #3333AA; 
   color: #dddddd;
   padding: 1px 1px 1px 1px;
} 
.currentPage a { 
   background-color: #5555CC; 
   color: white;
   padding: 1px 1px 1px 1px;
}


table {
   width:150px;
   padding: 0px 0px 0px 0px;
}

table.narrow {
   width:80px;
   padding: 0px 0px 0px 0px;
}

.oddRow { background-color: #eeccaa } 
.evenRow { background-color: #ffddbb } 

th.hdr {
  background-color: #996633;
  color: white;
}
th {
  text-align: left;
  color:#694017;
}
td {
  border-width:0px
  text-align: left;
  color:#663300;
}

td.light {
    color: gray;
}
</command>
                      <label>csBrownCSS</label>
                      <group>CharSheet</group>
                      <sortby>zCSS</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>31</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>31</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: indexChosen=macro.args]

[h:itemReadied=json.get(getProperty(&quot;inventory&quot;),indexChosen)]
[h:readiedID=json.get(itemReadied,&quot;ID&quot;)]
[if(json.contains(itemReadied,&quot;shieldDB&quot;)),h:
   readiedShieldDB=json.get(itemReadied,&quot;shieldDB&quot;);
   readiedShieldDB=0]
 
&lt;!-- Prepare output text. --&gt;
[h:name=json.get(itemReadied,&quot;name&quot;)]
[if(endsWith(name,&quot;s&quot;) || indexOf(name, &quot;armor&quot;) &gt;= 0), h: 
     msg=&quot;a reliable set of &quot; + json.get(itemReadied,&quot;name&quot;) +&quot;.&quot;;
     msg=&quot;a trusty &quot; + json.get(itemReadied,&quot;name&quot;) +&quot;.&quot;]

 &lt;!-- If the item is ready, make it unready and set it aside without relinquishing ownership.
         If carried, add it to the items readied and remove it from the items carried.   
         If the item is neither carried nor readied, add it to the items carried. 
         In the symbolism of the inventory list,  – to c to R to – to c to R ...    --&gt;

[if(json.contains(itemsReadied, readiedID)),r,code:{
  [h:itemsReadied=json.remove(itemsReadied,json.indexOf(itemsReadied,readiedID))]
  [h: setProperty(&quot;shieldDB&quot;,getProperty(&quot;shieldDB&quot;)-readiedShieldDB)]
  [r:&quot;sets aside &quot; + msg]
};{
  [if(json.contains(itemsCarried, readiedID)),r,code:{
    [h:itemsReadied=json.append(itemsReadied,readiedID)]
    [h:itemsCarried=json.remove(itemsCarried,json.indexOf(itemsCarried,readiedID))]
    [h: setProperty(&quot;shieldDB&quot;,getProperty(&quot;shieldDB&quot;)+readiedShieldDB)]
    [r:&quot;readies &quot; + msg]
  };{
    [h:itemsCarried=json.append(itemsCarried,readiedID)]
    [r:&quot;picks up &quot; + msg]
  }]
}]

[macro(&quot;calcEnc@&quot;+ getMacroLocation()):&quot;&quot;]
[if(json.contains(itemReadied,&quot;armor&quot;)),h, code: {[macro(&quot;calcDR@&quot;+ getMacroLocation()):&quot;&quot;]};{&quot;&quot;}]
[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Inventory&quot;]</command>
                      <label>readyItem</label>
                      <group>Equipment</group>
                      <sortby>all</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>30</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>30</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:basicLift=floor(getProperty(&quot;ST&quot;)*getProperty(&quot;ST&quot;)/5)]
[macro(&quot;calcWt@&quot;+ getMacroLocation()):&quot;&quot;]
[h:totalWeightCarried=macro.return]
[h:encBLMultipliers=json.append(&quot;&quot;,1,2,3,6,10)]
[h:encLevel=-1]

[foreach(multiplier, encBLMultipliers,&quot;&quot;), code: { 
  [h:currLevel=roll.count]
  [h:maxWeightOfEncLevel=floor(basicLift*multiplier)]
  [if(totalWeightCarried&lt;maxWeightOfEncLevel &amp;&amp; encLevel==-1),h: encLevel=currLevel]
}]
[r:setProperty(&quot;encumbrance&quot;, encLevel)]</command>
                      <label>calcEnc</label>
                      <group>Equipment</group>
                      <sortby>calc</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>gray</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>36</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>36</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
&lt;tr&gt;&lt;th class=&quot;hdr&quot; colspan=&quot;6&quot;&gt;DR&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td width=&quot;55&quot;&gt;eye&lt;/td&gt;
     &lt;td class=&quot;light&quot; width=&quot;20&quot;&gt;-9&lt;/td&gt;
     &lt;td align=&quot;left&quot;&gt;[r:json.get(DR,&quot;eye&quot;)]&lt;/td&gt;
     &lt;td width=&quot;55&quot;&gt;torso, front&lt;/td&gt;
     &lt;td class=&quot;light&quot; width=&quot;20&quot;&gt;&amp;nbsp; 0&lt;/td&gt;
     &lt;td align=&quot;left&quot;&gt;[r:json.get(DR,&quot;torso&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;td&gt;skull&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-7&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;skull&quot;)]&lt;/td&gt;
     &lt;td&gt;torso, back&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp; 0&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;back&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td&gt;face&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;face&quot;)]&lt;/td&gt;
     &lt;td&gt;vitals&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;vitals&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;td&gt;neck&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;neck&quot;)]&lt;/td&gt;
    &lt;td&gt;groin&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;groin&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td&gt;arm, right&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;right arm&quot;)]&lt;/td&gt;
     &lt;td&gt;leg, right&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;right leg&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;td&gt;arm, left&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;left arm&quot;)]&lt;/td&gt;
     &lt;td&gt;leg, left&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;left leg&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td&gt;hand&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;hand&quot;)]&lt;/td&gt;
     &lt;td&gt;foot&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;[r:json.get(DR,&quot;foot&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</command>
                      <label>csDRTable</label>
                      <group>CharSheet</group>
                      <sortby>l</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>37</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>37</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:selectTokens(currentToken())]
[h:currManeuver=getProperty(&quot;currManeuver&quot;)]

[h, if(json.isEmpty(currManeuver)): continueMacro=0; continueMacro=1 ]
[h:exitMsg=getName(currentToken())+&quot; has not chosen a maneuver.  &lt;br&gt; On your turn, pick a maneuver, pick a weapon, and attack something.&quot;]
[s,h: assert (continueMacro,exitMsg,0)]  

&lt;!-- Setting up weapon variables from arguments --&gt;
[h:args=json.fromStrProp(macro.args)]
[h:attacker=json.get(args,&quot;attacker&quot;)]
[h:weaponUsedIndex=json.get(args,&quot;currItemIndex&quot;)]
[h:methodUsed=json.get(args,&quot;method&quot;)]
[h:weaponUsed=json.get(inventory,weaponUsedIndex)]
[r:minReach=json.get(weaponUsed,methodUsed+&quot;minReach&quot;)]
[r:maxReach=json.get(weaponUsed,methodUsed+&quot;maxReach&quot;)] 

&lt;!-- Setting up maneuver bonus variables --&gt;
[h:currManeuverName=json.get(currManeuver,&quot;name&quot;)]
[h:manSkillBonus=json.get(currManeuver,&quot;offSkillBonus&quot;)]
[h:manSkillLimit=json.get(currManeuver,&quot;offSkillLimit&quot;)]
[h:rangeBonus=json.get(currManeuver,&quot;rangeBonus&quot;)]
[h:manDamageBonus=json.get(currManeuver,&quot;damageBonus&quot;)]

&lt;!-- Determining penalty from attacker&apos;s posture --&gt;
[h:postureList=getTokenStates(&quot;json&quot;, &quot;Postures&quot;)]
[h:posture=&quot;standing&quot;]
[h:attackerPostureMod=0]
[foreach(p, postureList,&quot;&quot;), h , code: { [h,if(getState(p)):posture=p;&quot;&quot;] } ]
[h, if (posture == &quot;crouching&quot; || posture == &quot;kneeling&quot; || posture == &quot;sitting&quot; ) : attackerPostureMod=-2;&quot;&quot;]
[h, if (posture == &quot;crawling&quot; || posture == &quot;face_up&quot; || posture == &quot;prone&quot; ) : attackerPostureMod=-4;&quot;&quot;]

&lt;!-- Setting up conditions to determine which tokens are possible targets --&gt;
[h:range=json.set(&quot;{}&quot;,&quot;token&quot;,attacker,&quot;from&quot;,minReach,&quot;upto&quot;,maxReach+rangeBonus,&quot;distancePerCell&quot;,0)]
[h:NPCsInRange=json.set(&quot;{}&quot;,&quot;range&quot;,range,&quot;npc&quot;,1,&quot;visible&quot;,1)]
[h:PCsInRange=json.set(&quot;{}&quot;,&quot;range&quot;,range,&quot;pc&quot;,1,&quot;visible&quot;,1)]

&lt;!-- Setting up list of possible targets --&gt;
[if( isPC() ), h, code : {
  [h:targetListFirst=getTokens(&quot;,&quot;,NPCsInRange)]
  [h:targetListSecond=getTokens(&quot;,&quot;,PCsInRange)]
};{
  [h:targetListFirst=getTokens(&quot;,&quot;,PCsInRange)]
  [h:targetListSecond=getTokens(&quot;,&quot;,NPCsInRange)]
}]

[h,if(targetListSecond==&quot;&quot;):
  targetList=targetListFirst ;
  targetList=listAppend(targetListFirst,targetListSecond) ]

[if (listCount(targetList)==1),h:checkedIfOneTarget=&quot;checked&quot;;checkedIfOneTarget=&quot;&quot;]
[if (listCount(targetList)==0),h:msg=&quot;&lt;br&gt;&lt;br&gt;You do not see any tokens within melee distance.  Make sure the token you would like to target is visible on your map and is within your weapon&apos;s reach.  Then try again.&quot;;msg=&quot;&quot;]

&lt;!-- Setting up list of dialog box width and form action--&gt;
[h:START_NEW_ROW=6]
[if (listCount(targetList)&gt;START_NEW_ROW),h:
   dialogSpecs=&quot;width=470; height=620; temporary=0; input=1; noframe=0&quot;;
   dialogSpecs=&quot;width=470; height=550; temporary=0; input=1; noframe=0&quot;]
[h:formAction=macroLinkText(&quot;evalAttack@&quot;+getMacroLocation(),&quot;all&quot;,&quot;&quot;,currentToken())] 

[dialog(&quot;meleeAttack&quot;, dialogSpecs): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Choose Target and Method of Attack&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;attack&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;weaponUsedIndex&quot; value=&quot;[r:weaponUsedIndex]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;methodUsed&quot; value=&quot;[r:methodUsed]&quot;&gt;
&lt;h1&gt;[r:upper(json.get(weaponUsed,&quot;name&quot;),1)] [r:json.get(weaponUsed,methodUsed+&quot;descr&quot;)] at base skill [r:json.get(weaponUsed,methodUsed+&quot;skill&quot;)]&lt;/h1&gt;
[r:msg]

&lt;table width=&quot;100%&quot; cellspacing=&quot;1&quot; cellpadding=&quot;2&quot;&gt;
&lt;tr&gt;
[foreach(possTarget, targetList,&quot;&quot;),code:{
  [token(possTarget),if(getProperty(&quot;HP&quot;)==getProperty(&quot;maxHP&quot;)),h: tokenHealth=&quot;healthy&quot;; tokenHealth=&quot;injured&quot;]
  [token(possTarget),if(getState(&quot;healthy&quot;)==1),h: tokenHealth=&quot;healthy&quot;]
  [token(possTarget),if(getState(&quot;injured&quot;)==1),h: tokenHealth=&quot;injured&quot;]
  [token(possTarget),if(getState(&quot;maimed&quot;)==1),h: tokenHealth=&quot;maimed&quot;]
  [token(possTarget),if(getState(&quot;dying&quot;)==1),h: tokenHealth=&quot;dying&quot;]
&lt;!-- Start a new row of possible targets if you have an even multiple of START_NEW_ROW setting.  Wanted: XmodY.--&gt;
   [if( roll.count/START_NEW_ROW==floor(roll.count/START_NEW_ROW)), r : &quot;&lt;/tr&gt;&lt;tr&gt;&quot;;&quot;&quot;]
  &lt;td valign=&quot;top&quot; align=&quot;center&quot;&gt;
  &lt;img src=&quot;[token(possTarget),r:getTokenImage(50)]&quot;&gt;&lt;br&gt;
  &lt;b&gt;[token(possTarget),r:getName()]&lt;/b&gt;&lt;br&gt;
   [r:tokenHealth]&lt;br&gt;
  &lt;input type=&quot;radio&quot; name=&quot;targetID&quot; value=&quot;[r:possTarget]&quot; [r:checkedIfOneTarget]&gt;&lt;/td&gt;
}]
&lt;/tr&gt;
&lt;/table&gt;

&lt;h1&gt;Select skill modifiers for circumstances and style of attack&lt;/h1&gt;

&lt;b&gt;Maneuver Effects: [r:manSkillBonus]&lt;/b&gt;&lt;input type=&quot;hidden&quot; name=&quot;maneuver&quot; value=&quot;[r:manSkillBonus]&quot;&gt;
&lt;br&gt;&lt;span style=color:gray&gt;[r:currManeuverName] - [r:json.get(currManeuver,&quot;descr&quot;)].&lt;/span&gt;
&lt;br&gt;
[h, if(getProperty(&quot;shock&quot;)==0): textColor=&quot;gray&quot;;textColor=&quot;red&quot;]
&lt;span style=color:[r:textColor]&gt;&lt;b&gt;Shock Penalty: [r:shock]&lt;/b&gt;&lt;/span&gt;&lt;input type=&quot;hidden&quot; name=&quot;shock&quot; value=&quot;[r:shock]&quot;&gt;
&lt;br&gt;
[h, if(posture==&quot;standing&quot;): textColor=&quot;gray&quot;;textColor=&quot;red&quot;]
&lt;span style=color:[r:textColor]&gt;&lt;b&gt;Posture: [r:posture]: [r:attackerPostureMod]&lt;/b&gt;&lt;/span&gt;&lt;input type=&quot;hidden&quot; name=&quot;attackerPostureMod&quot; value=&quot;[r:attackerPostureMod]&quot;&gt;

&lt;br&gt;&lt;br&gt;

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
  &lt;tr class=&quot;oddRow&quot;&gt;
  &lt;th valign=&quot;middle&quot;&gt;Other Modifiers&lt;/th&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-10&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-9&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-8&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-7&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-6&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-5&quot;&gt;&lt;/td&gt; 
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-4&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-3&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-2&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-1&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;0&quot; checked&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;1&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;2&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;3&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;4&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;5&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;6&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;7&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;8&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;9&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;10&quot;&gt;&lt;/td&gt;&lt;/tr&gt;

  &lt;tr class=&quot;oddRow&quot;&gt;
  &lt;th valign=&quot;middle&quot;&gt;&amp;nbsp;&lt;/th&gt;
  &lt;td align=&quot;center&quot;&gt;-10&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;-8&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;-6&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt; 
  &lt;td align=&quot;center&quot;&gt;-4&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;-2&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;0&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;2&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;4&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;6&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;8&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot;&gt;10&lt;/td&gt;&lt;/tr&gt; 

  &lt;tr&gt;
  &lt;td colspan=&quot;22&quot;&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;

  &lt;tr&gt;
  &lt;th valign=&quot;middle&quot; colspan=&quot;3&quot;&gt;Other Large Modifiers&lt;/th&gt;
  &lt;td align=&quot;left&quot; colspan=&quot;19&quot;&gt;&lt;input type=&quot;text&quot;  name=&quot;largeMod&quot; value=&quot;0&quot; size=&quot;2&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;/table&gt;

[macro(&quot;bodyPartTable@&quot;+ getMacroLocation()):&quot;&quot;]

&lt;p align=&quot;center&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;attack!&quot;&gt; &amp;nbsp; &lt;input type=&quot;reset&quot; value=&quot;reset to defaults&quot;&gt;&lt;/p&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;
}]
&lt;!-- passes targetID, weaponUsedIndex, methodUsed, maneuver, shock, attackerPostureMod, miscMod, largeMod, targetedLocObj (region, penalty) --&gt;</command>
                      <label>meleeDialog</label>
                      <group>Actions</group>
                      <sortby>2attack1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>42</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>42</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Set form to change the attributes.
       If dialog is called with an arg of &quot;new&quot;, set up default values for new attributes.
       Else, get the item&apos;s information from the token. --&gt;
[h:formAction=macroLinkText(&apos;editProps@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 

[if( macro.args==&quot;new&quot;),code,h:{
[h:bodyType=&quot;humanoid&quot;]
[h:sizeMod=&quot;0&quot;]
[h:injuryTolerance=&quot;normal&quot;] 
[h:HTBonus=0] [h:HTDeathBonus=0] [h:HTUncBonus=0]
[h:painThreshold=&quot;normal&quot;] 
[h:miscDBPerm=0]
[h:dodgeBonus=0] [h:blockBonus=0] [h:parryBonus=0]
};{
[h:bodyType=getProperty(&quot;bodyType&quot;)]
[h:sizeMod=getProperty(&quot;sizeMod&quot;)]
[h:injuryTolerance=getProperty(&quot;injuryTolerance&quot;)]
[h:HTBonus=getProperty(&quot;HTBonus&quot;)] [h:HTDeathBonus=getProperty(&quot;HTDeathBonus&quot;)] [h:HTUncBonus=getProperty(&quot;HTUncBonus&quot;)]
[h:painThreshold=getProperty(&quot;painThreshold&quot;)]
[h:miscDBPerm=getProperty(&quot;miscDBPerm&quot;)]
[h:dodgeBonus=getProperty(&quot;dodgeBonus&quot;)] [h:blockBonus=getProperty(&quot;blockBonus&quot;)] [h:parryBonus=getProperty(&quot;parryBonus&quot;)]
} ]

&lt;!-- Set up lists of body types and injury tolerances --&gt;
[h:bodyTypes=&quot;humanoid,winged humanoid,fish-tailed humanoid,quadruped,winged quadruped,hexapod,winged hexapod,centauroid,avian,vermiform,octopod,cancroid,ichthyoid,arachnoid&quot;]
[h:injuryTolerances=&quot;normal,unliving,homogenous,diffuse&quot;]
[h:PainThresholds=&quot;high,normal,low&quot;]

&lt;!-- Create dialog box. --&gt;
[dialog(&quot;editAttributes&quot;, &quot;width=400; height=500; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Add/Edit Advantages and Disadvantages for [r:getName()]&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;properties&quot;  action=&quot;[r:formAction]&quot;&gt;

&lt;h1&gt;Advantages and Disadvantages for [r:getName()]&lt;/h1&gt;
&lt;table width=&quot;99%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th&gt;Body Type&lt;/th&gt;
   &lt;td&gt;&lt;select name=&quot;bodyType&quot;&gt;
     [r, foreach (type, bodyTypes, &quot;&quot;), code:{
        [h, if (type==bodyType): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
        &lt;option value=&quot;[r:type]&quot; [r:isSelected]&gt;[r:type]&lt;/option&gt;
     } ]&lt;/select&gt;&lt;/td&gt;
   &lt;th&gt;Size Modifier&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;sizeMod&quot; value=&quot;[r:sizeMod]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
   &lt;/tr&gt;
&lt;tr&gt;
   &lt;th&gt;Injury Tolerance&lt;/th&gt;
   &lt;td align=&quot;left&quot; colspan=&quot;3&quot;&gt;&lt;select name=&quot;injuryTolerance&quot;&gt;
     [r, foreach (type, injuryTolerances, &quot;&quot;), code:{
        [h, if (type==injuryTolerance): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
        &lt;option value=&apos;[r:type]&apos; [r:isSelected]&gt;[r:type]&lt;/option&gt;
     } ]&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
   &lt;th&gt;Pain Threshold&lt;/th&gt;
   &lt;td align=&quot;left&quot; colspan=&quot;3&quot;&gt;&lt;select name=&quot;painThreshold&quot;&gt;
     [r, foreach (type, painThresholds, &quot;&quot;), code:{
        [h, if (type==painThreshold): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
        &lt;option value=&apos;[r:type]&apos; [r:isSelected]&gt;[r:type]&lt;/option&gt;
     } ]&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;br&gt;

&lt;table width=&quot;99%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;&lt;th class=&quot;hdr&quot; colspan=&quot;3&quot;&gt;Health (HT) bonuses from advantages&lt;/th&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;All HT rolls&lt;/th&gt;
   &lt;td&gt;Fit, Very Fit, etc.&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;HTBonus&quot; value=&quot;[r:HTBonus]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;HT rolls against unconsciousness&lt;/th&gt;
   &lt;td&gt;Hard to Subdue, etc.&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;HTUncBonus&quot; value=&quot;[r:HTUncBonus]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;HT rolls against death&lt;/th&gt;
   &lt;td&gt;Hard to Kill, etc.&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;HTDeathBonus&quot; value=&quot;[r:HTDeathBonus]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;table width=&quot;99%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;&lt;th class=&quot;hdr&quot; colspan=&quot;3&quot;&gt;Defense bonuses&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;Defense bonus&lt;/th&gt;
   &lt;td&gt;all types of defenses (e.g., Combat Reflexes)&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;miscDBPerm&quot; value=&quot;[r:miscDBPerm]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;Dodge bonus&lt;/th&gt;
   &lt;td&gt;due to advanatges or always-on powers&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;dodgeBonus&quot; value=&quot;[r:dodgeBonus]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;Block bonus&lt;/th&gt;
   &lt;td&gt;due to advanatges or always-on powers&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;blockBonus&quot; value=&quot;[r:blockBonus]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;Parry bonus&lt;/th&gt;
   &lt;td&gt;due to advanatges or always-on powers&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;parryBonus&quot; value=&quot;[r:parryBonus]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>adDisadDialog</label>
                      <group>CharSheet</group>
                      <sortby>t</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>43</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>43</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:itemsCarried=getProperty(&quot;itemsCarried&quot;)]
[h:DRtotal=getProperty(&quot;DR&quot;)]
[h:locationList=json.fields(DRtotal)]

[foreach(location, locationList), h, code:{
    [h:DRtotal=json.set(DRtotal, location, 0)]
}]

&lt;!-- Convert the readied iterms&apos; ID numbers into their current indexes in the inventory list  --&gt; 
[h:itemsReadiedByIndex=&quot;&quot;]
[foreach(readiedID, itemsReadied,&quot;&quot;), h,code: { 
  [h:matchingIndex=-1]
  [while (matchingIndex==-1,&quot;&quot; ), h, code: {
    [h: currItemCarried = json.get (inventory,roll.count)]
    [if (json.get(currItemCarried,&quot;ID&quot;) == readiedID), h: matchingIndex= roll.count]
  }]
  [h:itemsReadiedByIndex=json.append(itemsReadiedByIndex,matchingIndex)]
}] 

[r:itemsReadiedByIndex] -&gt;

&lt;!-- Create a list containing only armor items --&gt;
[h:armorReadiedByIndex=&quot;&quot;]
[foreach(readiedItemIndex, itemsReadiedByIndex,&quot;&quot;), r,code: { 
  [h:currItem=json.get(inventory,readiedItemIndex)]
  [if(json.contains(currItem,&quot;armor&quot;)),h:armorReadiedByIndex = json.append(armorReadiedByIndex, readiedItemIndex)]
}]

[r:armorReadiedByIndex]

&lt;!-- Loop throught the list of readied armor items, adding up the DRs for each location. --&gt;
[foreach(itemIndex, armorReadiedByIndex,&quot;&quot;), h, code: {
     [foreach(location, locationList), r, code: {
        [h:newDRAtLocation=json.get(DRtotal,location)+json.get(json.get(inventory,itemIndex),location)]
        [h:DRtotal=json.set(DRtotal, location, newDRAtLocation)]
     }]
}]

&lt;!-- Loop throught the locations, adding in the natural DRs for each location. --&gt;
[foreach(location, locationList), r, code: {
     [h:newDRAtLocation=json.get(DRtotal,location)+json.get(DRNatural,location)]
     [h:DRtotal=json.set(DRtotal, location, newDRAtLocation)]
}]

[h:DRtotal=setProperty(&quot;DR&quot;,DRtotal)]
</command>
                      <label>calcDR</label>
                      <group>Equipment</group>
                      <sortby>calc</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>gray</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>41</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>41</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- If dialog is called with an arg of &quot;new&quot; or empty, set up default values for new attributes.
       Else, get the token&apos;s information from the args. --&gt;

[h:args=json.fromStrProp(macro.args)] 
[h:args=json.remove(args,&quot;properties&quot;)]

[foreach (property, args), h, code: {
   [h:newValue=json.get(args,property)]
   [h:setProperty(property, newValue)]
}]

[macro(&quot;calcEnc@&quot;+ getMacroLocation()):&quot;&quot;]
[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Main&quot;]</command>
                      <label>editProps</label>
                      <group>CharSheet</group>
                      <sortby>t1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>47</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>47</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up incoming properties.  --&gt;
[h:args=json.fromStrProp(macro.args)]

&lt;!--  Extract the newManever from the args object, and then remove the maneuverPicker. --&gt;
[h:newManeuver=json.get(args,&quot;maneuverChosen&quot;)]
[h:newManeuver=json.remove(newManeuver,&quot;maneuverPicker&quot;)]

&lt;!-- Storing in token property.--&gt;
[h:currManeuver=newManeuver)]

&lt;!-- If HP is less than or equal to 0, roll against modified HT to avoid collapse. --&gt;
[h:HP=getProperty(&quot;HP&quot;)]
[if( HP&lt;=0 &amp;&amp; json.get(newManeuver,&quot;name&quot;)!=&quot;Do Nothing&quot;), r, code:{
  [if(isNPC()),code:{ 
   [r,g: token.name + &quot; is at &quot; + HP + &quot; HP.  Roll against modified HT to avoid unconsciouness.&quot;]
  };{
   [r,s,g: token.name + &quot; is at &quot; + HP + &quot; HP.  Roll against modified HT to avoid unconsciouness.&quot;]
  }]
};{}]

[h,if( json.get(newManeuver,&quot;name&quot;)==&quot;Change Posture&quot;), code:{
  [switchToken(currentToken())]
  [MACRO(&quot;posture@&quot; + getMacroLocation()): &quot;&quot;]
};{}]

[h,MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Main&quot;]
[h,if( isNPC() ), code:{
  [MACRO(&quot;initFrame@&quot; + getMacroLocation()): &quot;&quot;]
};{}]</command>
                      <label>addManeuver</label>
                      <group>Actions</group>
                      <sortby>1maneuver2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>44</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>44</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:itemsReadiedByIndex=macro.args]
&lt;table id=&quot;equipment&quot; cellspacing=&quot;0&quot; cellpadding=&quot;.5&quot;&gt;
&lt;tr&gt;
   &lt;th class=&quot;hdr&quot; width=&quot;100&quot;&gt;Readied&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; width=&quot;12&quot;  align=&quot;center&quot;&gt;lvl&lt;/th&gt;
   &lt;th class=&quot;hdr&quot;  width=&quot;20&quot; align=&quot;right&quot;&gt;rch&lt;/th&gt;
   &lt;th class=&quot;hdr&quot;  width=&quot;30&quot; align=&quot;right&quot;&gt;damage&amp;nbsp;&lt;/th&gt;&lt;/tr&gt;

&lt;!-- Dispay HTML row for each object, other than armor (?), readied  --&gt; 
[h:class=&quot;oddRow&quot;]
[h:readiedWeaponDisplayed=0]
[foreach(index, itemsReadiedByIndex,&quot;&quot;), code: { 
  [h:currItem=json.get(inventory, index)]
  [h:currItemName=json.get(currItem,&quot;name&quot;)]
  [h:m1skill=json.get(currItem, &quot;m1skill&quot;)]
  [h:r1skill=json.get(currItem, &quot;r1skill&quot;)]
  [h:m2skill=json.get(currItem, &quot;m2skill&quot;)]
  [h:r2skill=json.get(currItem, &quot;r2skill&quot;)]
  [if (json.contains(currItem, &quot;armor&quot;)), h: isNotArmor=0; isNotArmor=1]
  [if ( json.isEmpty(&quot;m1skill&quot;) || m1skill==0 || m1skill==&quot;&quot;), h: hasMelee1=0 ; hasMelee1=1]
  [if ( json.isEmpty(&quot;m2skill&quot;) || m2skill==0 || m2skill==&quot;&quot; ), h: hasMelee2=0 ; hasMelee2=1]
  [if ( json.isEmpty(&quot;r1skill&quot;) || r1skill==0 || r1skill==&quot;&quot; ), h: hasRanged1=0 ; hasRanged1=1]
  [if ( json.isEmpty(&quot;r2skill&quot;) || r2skill==0 || r2skill==&quot;&quot; ), h: hasRanged2=0 ; hasRanged2=1]

  [if(isNotArmor &amp;&amp; hasMelee1), code : {
    [h:readiedWeaponDisplayed=1]
    [h:m1damage=json.get(currItem, &quot;m1damage&quot;)]
    [h:m1damageType=json.get(currItem, &quot;m1damageType&quot;)]
[h:attackPickerLink=macroLinkText(&quot;meleeDialog@&quot;+getMacroLocation(),&quot;none&quot;,&quot;attacker=&quot;+currentToken()+&quot;;currItemIndex=&quot;+index+&quot;;method=m1&quot;,currentToken())]
[h:damageLink=macroLinkText(&quot;rollDamage@&quot;+getMacroLocation(),&quot;all&quot;,&quot;weaponUsedName=&quot;+currItemName+&quot;;damageDice=&quot;+m1damage+&quot;;damageType=&quot;+m1damageType,currentToken())]
    &lt;tr class=[r:class]&gt;
     &lt;td valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:attackPickerLink]&quot;&gt;[r:currItemName]: [r:json.get(currItem,&quot;m1descr&quot;)]&lt;/a&gt;&lt;/td&gt;
     &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(currItem,&quot;m1skill&quot;)]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;[r:json.get(currItem,&quot;m1maxReach&quot;)]&lt;/td&gt;
     &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:damageLink]&quot;&gt;[r:m1damage + &quot; &quot; + m1damageType]&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
     [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
  };{}]

&lt;!-- Setting up incoming properties weaponUsedName, damageDice, damageType --&gt;

[if(isNotArmor &amp;&amp; hasMelee2), code : {
    [h:readiedWeaponDisplayed=1]
    [h:m2damage=json.get(currItem, &quot;m2damage&quot;)]
    [h:m2damageType=json.get(currItem, &quot;m2damageType&quot;)] [h:attackPickerLink=macroLinkText(&quot;meleeDialog@&quot;+getMacroLocation(),&quot;none&quot;,&quot;attacker=&quot;+currentToken()+&quot;;currItemIndex=&quot;+index+&quot;;method=m2&quot;,currentToken())]
[h:damageLink=macroLinkText(&quot;rollDamage@&quot;+getMacroLocation(),&quot;all&quot;,&quot;weaponUsedName=&quot;+currItemName+&quot;;damageDice=&quot;+m2damage+&quot;;damageType=&quot;+m2damageType,currentToken())]
    &lt;tr class=[r:class]&gt;
     &lt;td valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:attackPickerLink]&quot;&gt;[r:currItemName]: [r:json.get(currItem,&quot;m2descr&quot;)]&lt;/a&gt;&lt;/td&gt;
     &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(currItem,&quot;m2skill&quot;)]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;[r:json.get(currItem,&quot;m2maxReach&quot;)]&lt;/td&gt;
     &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:damageLink]&quot;&gt;[r:m2damage + &quot; &quot; + m2damageType]&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
     [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
  };{}]

[if(isNotArmor &amp;&amp; hasRanged1), code : {
   [h:readiedWeaponDisplayed=1]
   [h:r1damage=json.get(currItem, &quot;r1damage&quot;)]
   [h:r1damageType=json.get(currItem, &quot;r1damageType&quot;)] [h:attackPickerLink=macroLinkText(&quot;rangedDialog@&quot;+getMacroLocation(),&quot;none&quot;,&quot;attacker=&quot;+currentToken()+&quot;;currItemIndex=&quot;+index+&quot;;method=r1&quot;,currentToken())]
[h:damageLink=macroLinkText(&quot;rollDamage@&quot;+getMacroLocation(),&quot;all&quot;,&quot;weaponUsedName=&quot;+currItemName+&quot;;damageDice=&quot;+r1damage+&quot;;damageType=&quot;+r1damageType,currentToken())]
   &lt;tr class=[r:class]&gt;
     &lt;td valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:attackPickerLink]&quot;&gt;[r:currItemName]: [r:json.get(currItem,&quot;r1descr&quot;)]&lt;/a&gt;&lt;/td&gt;
     &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(currItem,&quot;r1skill&quot;)]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;[r:json.get(currItem,&quot;r1maxRange&quot;)]&lt;/td&gt;
     &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:damageLink]&quot;&gt;[r:r1damage + &quot; &quot; + r1damageType]&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
     [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
  };{}]

[if(isNotArmor &amp;&amp; hasRanged2), code : {
  [h:readiedWeaponDisplayed=1]
  [h:r2damage=json.get(currItem, &quot;r2damage&quot;)]
  [h:r2damageType=json.get(currItem, &quot;r2damageType&quot;)] [h:attackPickerLink=macroLinkText(&quot;rangedDialog@&quot;+getMacroLocation(),&quot;none&quot;,&quot;attacker=&quot;+currentToken()+&quot;;currItemIndex=&quot;+index+&quot;;method=r2&quot;,currentToken())]
[h:damageLink=macroLinkText(&quot;rollDamage@&quot;+getMacroLocation(),&quot;all&quot;,&quot;weaponUsedName=&quot;+currItemName+&quot;;damageDice=&quot;+r2damage+&quot;;damageType=&quot;+r2damageType,currentToken())]
   &lt;tr class=[r:class]&gt;
     &lt;td valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:attackPickerLink]&quot;&gt;[r:currItemName]: [r:json.get(currItem,&quot;r2descr&quot;)]&lt;/a&gt;&lt;/td&gt;
     &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(currItem,&quot;r2skill&quot;)]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;[r:json.get(currItem,&quot;r2maxRange&quot;)]&lt;/td&gt;
     &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:damageLink]&quot;&gt;[r:r2damage + &quot; &quot; + r2damageType]&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
     [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
  };{}]
}]
[if(readiedWeaponDisplayed==0),r:&apos;&lt;tr&gt;&lt;td class=&quot;light&quot; colspan=&quot;4&quot;&gt;Ready weapons using the Inventory tab.&lt;/td&gt;&lt;/tr&gt;&apos;;&quot;&quot;]
&lt;/table&gt;</command>
                      <label>csReadiedTable</label>
                      <group>CharSheet</group>
                      <sortby>l</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>45</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>45</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Set up Maneuver data --&gt;
[h:DoNothing=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Do Nothing&quot;,&quot;descr&quot;,&quot;take no action&quot;,&quot;movement&quot;,&quot;none&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:MentalStun=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Stunned Mentally&quot;,&quot;descr&quot;,&quot;take no action, -4 def, no retreat, roll vs IQ to end&quot;,&quot;movement&quot;,&quot;none&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,-4)]
[h:PhysicalStun=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Stunned Physically&quot;,&quot;descr&quot;,&quot;take no action, -4 def, no retreat, roll vs HT to end&quot;,&quot;movement&quot;,&quot;none&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,-4)]
[h:ChangePosture=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Change Posture&quot;,&quot;descr&quot;,&quot;stand up, sit down, kneel, etc.&quot;,&quot;movement&quot;,&quot;none&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:Ready=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Ready&quot;,&quot;descr&quot;,&quot;prepare a weapon or other item&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:Concentrate=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Concentrate&quot;,&quot;descr&quot;,&quot;focus on a mental task or spell&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:MoveFull=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Move&quot;,&quot;descr&quot;,&quot;move up your full Move&quot;,&quot;movement&quot;,&quot;full&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:Wait=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Wait&quot;,&quot;descr&quot;,&quot;hold a Attack, Feint, AoA, or Ready until stated conditions are met&quot;,&quot;movement&quot;,&quot;varies&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:Aim=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Aim&quot;,&quot;descr&quot;,&quot;target your foe: Acc, Acc+1, or Acc+2 skill for 1, 2, or 3 sec of Aim&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:Evaluate=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Evaluate&quot;,&quot;descr&quot;,&quot;study foe to get +1skill/sec, up to +3 max&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:Feint=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Feint&quot;,&quot;descr&quot;,&quot;fool your foe: quick contest, margin-of-victory off next defense&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:Attack=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Attack&quot;,&quot;descr&quot;,&quot;attack with a melee or missile weapon&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:MoveAttackMelee=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Move and Attack (melee)&quot;,&quot;descr&quot;,&quot;make a full move with attack: -4 skill with max of 9&quot;,&quot;movement&quot;,&quot;full&quot;,&quot;offSkillBonus&quot;,-4,&quot;offSkillLimit&quot;,9,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;db&quot;,&quot;defBonus&quot;,0)]
[h:MoveAttackMissile=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Move and Attack (missile)&quot;,&quot;descr&quot;,&quot;make a full move with attack: -2 or Bulk penalty to skill&quot;,&quot;movement&quot;,&quot;full&quot;,&quot;offSkillBonus&quot;,-2,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;db&quot;,&quot;defBonus&quot;,0)]
[h:AoDDodge=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoD: Dodge&quot;,&quot;descr&quot;,&quot;focus on dodging attacks: +2 dodge&quot;,&quot;movement&quot;,&quot;half&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0, &quot;dodgeBonus&quot;,2)]
[h:AoDParry=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoD: Parry&quot;,&quot;descr&quot;,&quot;focus on parrying attacks: +2 parry&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0, &quot;parryBonus&quot;,2)]
[h:AoDBlock=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoD: Block&quot;,&quot;descr&quot;,&quot;focus on blocking attacks: +2 block&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0, &quot;blockBonus&quot;,2)]
[h:AoDDouble=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoD: Double&quot;,&quot;descr&quot;,&quot;use two different defenses against one attack&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0)]
[h:DefensiveAttackParry=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Defensive Attack: Parry&quot;,&quot;descr&quot;,&quot;make a cautious probing attack: -2 damage, +1 parry&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,-2,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0, &quot;parryBonus&quot;,1)]
[h:DefensiveAttackBlock=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Defensive Attack: Block&quot;,&quot;descr&quot;,&quot;make a cautious probing attack: -2 damage, +1 block&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,-2,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,0, &quot;blockBonus&quot;,1)]
[h:CommittedAttackDetermined=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Committed Attack: Determined&quot;,&quot;descr&quot;,&quot;attack aggressively: +2 skill, no parry/block with hand used, -2 def&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,2,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,-2)]
[h:CommittedAttackStrong=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;Committed Attack: Strong&quot;,&quot;descr&quot;,&quot;attack strongly: +1 damage, no parry/block with hand used, -2 def&quot;,&quot;movement&quot;,&quot;step&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,1,&quot;defAllowed&quot;,&quot;dpb&quot;,&quot;defBonus&quot;,-2)]
[h:AoADeterminedMelee=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoA: Determined (melee)&quot;,&quot;descr&quot;,&quot;attack with all your skill: +4 skill&quot;,&quot;movement&quot;,&quot;half&quot;,&quot;offSkillBonus&quot;,4,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;none&quot;,&quot;defBonus&quot;,0)]
[h:AoADeterminedMissile=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoA: Determined (missile)&quot;,&quot;descr&quot;,&quot;focus exclusively on the attack: +1 skill&quot;,&quot;movement&quot;,&quot;half&quot;,&quot;offSkillBonus&quot;,1,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;none&quot;,&quot;defBonus&quot;,0)]
[h:AoAStrong=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoA: Strong&quot;,&quot;descr&quot;,&quot;attack with all your force: +2 damage&quot;,&quot;movement&quot;,&quot;half&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,2,&quot;defAllowed&quot;,&quot;none&quot;,&quot;defBonus&quot;,0)]
[h:AoALong=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoA: Long&quot;,&quot;descr&quot;,&quot;lunge forward to make an attack an extra yard away&quot;,&quot;movement&quot;,&quot;half&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;none&quot;,&quot;defBonus&quot;,0,&quot;rangeBonus&quot;,1)]
[h:AoADouble=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoA: Double&quot;,&quot;descr&quot;,&quot;make two attacks: off-hand penalty -4 skill&quot;,&quot;movement&quot;,&quot;half&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,2,&quot;defAllowed&quot;,&quot;none&quot;,&quot;defBonus&quot;,0)]
[h:AoAFeint=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoA: Feint&quot;,&quot;descr&quot;,&quot;Feint, then Attack&quot;,&quot;movement&quot;,&quot;half&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;none&quot;,&quot;defBonus&quot;,0)]
[h:AoASuppression=json.set(&quot;{}&quot;,&quot;ID&quot;,&quot;&quot;,&quot;name&quot;,&quot;AoA: Suppression Fire&quot;,&quot;descr&quot;,&quot;spray area with an automatic weapon&quot;,&quot;movement&quot;,&quot;half&quot;,&quot;offSkillBonus&quot;,0,&quot;offSkillLimit&quot;,0,&quot;damageBonus&quot;,0,&quot;defAllowed&quot;,&quot;none&quot;,&quot;defBonus&quot;,0)]

&lt;!-- Set up display of Maneuvers, with line breaks for ease of reading --&gt;
[h:linebreakObj=json.set(&quot;{}&quot;,&quot;name&quot;,&quot;linebreak&quot;)]
[h:maneuvers=json.append(&quot;&quot;,DoNothing,MentalStun,PhysicalStun,linebreakObj,
ChangePosture,Ready,Concentrate,MoveFull,Wait,linebreakObj,Aim,Evaluate,Feint,linebreakObj,
Attack,MoveAttackMelee,MoveAttackMissile,linebreakObj,
AoDDodge,AoDParry,AoDBlock,AoDDouble,linebreakObj,
DefensiveAttackParry,DefensiveAttackBlock,CommittedAttackDetermined,CommittedAttackStrong,linebreakObj,
AoADeterminedMelee,AoADeterminedMissile,AoAStrong,AoALong,AoADouble,AoAFeint,AoASuppression)]

[h:formAction=macroLinkText(&quot;addManeuver@&quot;+getMacroLocation(),&quot;self&quot;,&quot;&quot;,currentToken())] 
[h: class=&quot;evenRow&quot;]
[h:linebreak=&quot;&lt;td colspan=&apos;5&apos;&gt;&amp;nbsp;&lt;/td&gt;&quot;]

[dialog(&quot;maneuverDialog&quot;, &quot;width=580; height=700; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Choose Maneuver for [r:getName()]&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;Choose maneuver for [r:getName()]&lt;/h1&gt;

&lt;form name=&quot;maneuverPicker&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; width=&quot;100%&quot;&gt;
&lt;tr&gt;
&lt;th width=&quot;15&quot;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;move&lt;/th&gt;
&lt;th&gt;defs&lt;/th&gt;&lt;/tr&gt;

[foreach(maneuver, maneuvers,&quot;&quot;),code:{
  &lt;tr class=[r:class]&gt;
  [if(json.get(maneuver,&quot;name&quot;)==&quot;linebreak&quot;),r:
     linebreak;
     &quot;&lt;td&gt;&lt;input type=&apos;radio&apos; name=&apos;maneuverChosen&apos; value=&apos;&quot;+maneuver+&quot;&apos;&gt;&lt;/td&gt;
      &lt;th&gt;&quot;+json.get(maneuver,&quot;name&quot;)+&quot;&lt;/th&gt;
      &lt;td&gt;&quot;+json.get(maneuver,&quot;descr&quot;)+&quot;&lt;/td&gt;
      &lt;td&gt;&quot;+json.get(maneuver,&quot;movement&quot;)+&quot;&lt;/td&gt;
      &lt;td&gt;&quot;+json.get(maneuver,&quot;defAllowed&quot;)+&quot;&lt;/td&gt;&quot;]
  &lt;/tr&gt;
  [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
}]
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;choose maneuver&quot;&gt; &amp;nbsp; &lt;input type=&quot;reset&quot; value=&quot;reset to defaults&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>maneuverDialog</label>
                      <group>Actions</group>
                      <sortby>1maneuver1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>50</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>50</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;h1&gt;Region of body targeted&lt;/h1&gt;
&lt;span style=color:gray&gt;Only impaling and piercing weapons can target the eyes and vitals.&lt;br&gt;
If the location you aim for is partially behind cover, apply an extra -2 to your roll.&lt;/span&gt;
&lt;table cellspacing=&quot;1&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;eye&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-9&lt;/td&gt;
     &lt;td width=&quot;50&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;eye&quot;,&quot;penalty&quot;,-9)]&apos;&gt;&lt;/td&gt;
     &lt;th&gt;torso, front&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp;0&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;torso&quot;,&quot;penalty&quot;,0)]&apos; checked&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;skull&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-7&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;skull&quot;,&quot;penalty&quot;,-7)]&apos;&gt;&lt;/td&gt;
     &lt;th&gt;torso, rear&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp;0&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;back&quot;,&quot;penalty&quot;,0)]&apos;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;face&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;face&quot;,&quot;penalty&quot;,-5)]&apos;&gt;&lt;/td&gt;
    &lt;th&gt;vitals&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;vitals&quot;,&quot;penalty&quot;,-3)]&apos;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;neck&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;neck&quot;,&quot;penalty&quot;,-5)]&apos;&gt;&lt;/td&gt;
    &lt;th&gt;groin&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;groin&quot;,&quot;penalty&quot;,-3)]&apos;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;arm, right&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;right arm&quot;,&quot;penalty&quot;,-2)]&apos;&gt;&lt;/td&gt;
     &lt;th&gt;leg, right&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;right leg&quot;,&quot;penalty&quot;,-2)]&apos;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;arm, left&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;left arm&quot;,&quot;penalty&quot;,-2)]&apos;&gt;&lt;/td&gt;
     &lt;th&gt;leg, left&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;left leg&quot;,&quot;penalty&quot;,-2)]&apos;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;hand&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;hand&quot;,&quot;penalty&quot;,-4)]&apos;&gt;&lt;/td&gt;
     &lt;th&gt;foot&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;targetedLocObj&quot; value=&apos;[r:json.set(&quot;{}&quot;,&quot;location&quot;,&quot;foot&quot;,&quot;penalty&quot;,-4)]&apos;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</command>
                      <label>bodyPartTable</label>
                      <group>Actions</group>
                      <sortby>2attack2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>48</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>48</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:goto(macro.args)]
[h:selectTokens(macro.args)]</command>
                      <label>findToken</label>
                      <group>CharSheet</group>
                      <sortby>z</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>gray</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>55</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>55</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:itemsReadiedByIndex=macro.args]

[h:currDefAllowed=json.get(currManeuver,&quot;defAllowed&quot;)]
[if(currDefAllowed==&quot;db&quot;),h:noParryMsg=&quot;no parry&quot;;noParryMsg=&quot;&quot;]
[if(currDefAllowed==&quot;none&quot;),h:noDefMsg=&quot;no defences&quot;;noDefMsg=&quot;&quot;]
[h:manDefBonus=json.get(currManeuver,&quot;defBonus&quot;)]
[h:manDodgeBonus=manDefBonus+json.get(currManeuver,&quot;dodgeBonus&quot;)]
[h:manParryBonus=manDefBonus+json.get(currManeuver,&quot;parryBonus&quot;)]
[h:manBlockBonus=manDefBonus+json.get(currManeuver,&quot;blockBonus&quot;)]
[if(manDodgeBonus==0),h:manDodgeMsg=&quot;&quot;;manDodgeMsg=manDodgeBonus]
[if(manParryBonus==0),h:manParryMsg=&quot;&quot;;manParryMsg=manParryBonus]
[if(manBlockBonus==0),h:manBlockMsg=&quot;&quot;;manBlockMsg=manBlockBonus]

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;1&quot;&gt;Defenses&lt;/th&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;2&quot; align=&quot;right&quot;&gt;maneuver&lt;/th&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;1&quot; align=&quot;right&quot;&gt;posture&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
  [if(currDefAllowed==&quot;none&quot;),r,code:{
    &lt;td&gt;Dodge&lt;/td&gt;
  };{
    &lt;td&gt;[r:macroLink(&quot;Dodge&quot;,&quot;defDialog@&quot; + getMacroLocation(), &quot;none&quot;, &quot;type=Dodge;level=&quot; +dodge,currentToken())]&lt;/td&gt;
  }]
     &lt;td&gt;[r:dodge]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;center&quot;&gt;[r:noDefMsg][r:manDodgeMsg]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;center&quot;&gt;[r:getProperty(&quot;postureDB&quot;)]&lt;/td&gt;&lt;/tr&gt;

[h:class=&quot;evenRow&quot;]
[foreach(index, itemsReadiedByIndex,&quot;&quot;), code: { 
  [h:currItem=json.get(inventory, index)]
  [h:currItemName=json.get(currItem,&quot;name&quot;)]
  [h:isWeapon=json.contains(currItem,&quot;weapon&quot;)]
  [h:m1skill=json.get(currItem, &quot;m1skill&quot;)]
  [if ( json.isEmpty(m1skill) || m1skill==0 ), h: hasMelee=0 ; hasMelee=1]
  [if ( json.get(currItem,&quot;m1parryType&quot;) ==&quot;none&quot; ), h: canParry=0 ; canParry=1]
  [h:isShield=json.contains(currItem,&quot;shield&quot;)]

&lt;!-- If a weapon with melee function, display the parry skill.  Ugly long strings due to MapTool&apos;&apos;s nested code block limits.  --&gt;
  [if(isWeapon &amp;&amp; hasMelee &amp;&amp; canParry), code : {
    [h:parry=floor(json.get(currItem,&quot;m1skill&quot;)/2)+3+json.get(currItem,&quot;parryBonus&quot;)+shieldDB+parryBonus+miscDBPerm]
    &lt;tr class=&quot;[r:class]&quot;&gt;
  [if(currDefAllowed==&quot;none&quot;||currDefAllowed==&quot;db&quot;),r:
    &quot;&lt;td&gt;Parry: &quot;+json.get(currItem,&quot;name&quot;)+&quot;&lt;/td&gt;&quot;;
    &apos;&lt;td&gt;&apos;+macroLink(&quot;Parry: &quot;+currItemName, &quot;defDialog@&quot; + getMacroLocation(), &quot;none&quot;, &quot;type=Parry;name=&quot;+currItemName+&quot;;level=&quot;+parry+&quot;;parryType=&quot;+json.get(currItem,&quot;m1parryType&quot;),currentToken())+&apos;&lt;/td&gt;&apos;]
     &lt;td&gt;[r:parry]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;center&quot;&gt;[r:noDefMsg][r:noParryMsg][r:manParryMsg]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;center&quot;&gt;[r:getProperty(&quot;postureDB&quot;)]&lt;/td&gt;&lt;/tr&gt;
     [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;] 
    };{}]

&lt;!-- If a shield or cloak, display the block skill. --&gt;
  [if(isShield), code : {
     [h:block=floor(json.get(currItem,&quot;m1skill&quot;)/2)+3+shieldDB+blockBonus+miscDBPerm]
    &lt;tr class=&quot;[r:class]&quot;&gt;
  [if(currDefAllowed==&quot;none&quot;),r:
    &quot;&lt;td&gt;Block: &quot;+ json.get(currItem,&quot;name&quot;) +&quot;&lt;/td&gt;&quot;;
    &quot;&lt;td&gt;&quot;+macroLink(&quot;Block: &quot;+currItemName, &quot;defDialog@&quot; + getMacroLocation(), &quot;none&quot;, &quot;type=Block;name=&quot; +currItemName+&quot;;level=&quot;+block,currentToken())+&quot;&lt;/td&gt;&quot;]
     &lt;td&gt;[r:block]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;center&quot;&gt;[r:noDefMsg][r:manBlockMsg]&lt;/td&gt;
     &lt;td class=&quot;light&quot; align=&quot;center&quot;&gt;[r:getProperty(&quot;postureDB&quot;)]&lt;/td&gt;&lt;/tr&gt;
     [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
     };{}]
}]
&lt;/table&gt;</command>
                      <label>csDefTable</label>
                      <group>CharSheet</group>
                      <sortby>l</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>59</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>59</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:selectTokens(currentToken())]
[h:currManeuver=getProperty(&quot;currManeuver&quot;)]

[h, if(json.isEmpty(currManeuver)): continueMacro=0; continueMacro=1 ]
[h:exitMsg=getName(currentToken())+&quot; has not chosen a maneuver.  &lt;br&gt; On your turn, pick a maneuver, pick a weapon, and attack something.&quot;]
[s,h: assert (continueMacro,exitMsg,0)]  

&lt;!-- Setting up weapon variables from arguments --&gt;
[h:args=json.fromStrProp(macro.args)]
[h:attacker=json.get(args,&quot;attacker&quot;)]
[h:weaponUsedIndex=json.get(args,&quot;currItemIndex&quot;)]
[h:methodUsed=json.get(args,&quot;method&quot;)]
[h:weaponUsed=json.get(inventory,weaponUsedIndex)]
[h:acc=json.get(weaponUsed,methodUsed+&quot;acc&quot;)]
[h:bulk=json.get(weaponUsed,methodUsed+ &quot;bulk&quot;)]
[h:maxRange=json.get(weaponUsed,methodUsed+&quot;maxRange&quot;)] 

&lt;!-- Setting up maneuver bonus variables --&gt;
[h:currManeuverName=json.get(currManeuver,&quot;name&quot;)]
[h:manSkillBonus=json.get(currManeuver,&quot;offSkillBonus&quot;)]

[if( currManeuverName == &quot;Move and Attack (missile)&quot; &amp;&amp; bulk &lt; -2),h: manSkillBonus=bulk;&quot;&quot;]
[h:manSkillLimit=json.get(currManeuver,&quot;offSkillLimit&quot;)]
[h:manDamageBonus=json.get(currManeuver,&quot;damageBonus&quot;)]

&lt;!-- Setting up conditions to determine which tokens are possible targets --&gt;
[h:range=json.set(&quot;{}&quot;,&quot;token&quot;,attacker,&quot;from&quot;,0,&quot;upto&quot;,maxRange,&quot;distancePerCell&quot;,0)]
[h:NPCsInRange=json.set(&quot;{}&quot;,&quot;range&quot;,range,&quot;npc&quot;,1,&quot;visible&quot;,1)]
[h:PCsInRange=json.set(&quot;{}&quot;,&quot;range&quot;,range,&quot;pc&quot;,1,&quot;visible&quot;,1)]

&lt;!-- Setting up list of possible targets --&gt;
[if( isPC() ), h, code : {
  [h:targetListFirst=getTokens(&quot;,&quot;,NPCsInRange)]
  [h:targetListSecond=getTokens(&quot;,&quot;,PCsInRange)]
};{
  [h:targetListFirst=getTokens(&quot;,&quot;,PCsInRange)]
  [h:targetListSecond=getTokens(&quot;,&quot;,NPCsInRange)]
}]

[h,if(targetListSecond==&quot;&quot;):
  targetList=targetListFirst ;
  targetList=listAppend(targetListFirst,targetListSecond) ]

[if (listCount(targetList)==1),h:checkedIfOneTarget=&quot;checked&quot;;checkedIfOneTarget=&quot;&quot;]
[if (listCount(targetList)==0),h:msg=&quot;&lt;br&gt;&lt;br&gt;You do not see any tokens within range.  Make sure the token you would like to target is visible on your map and is within your weapon&apos;s maximum range.  Then try again.&quot;;msg=&quot;&quot;]

&lt;!-- Setting up list of dialog box width and form action--&gt;
[h:START_NEW_ROW=6]
[if (listCount(targetList)&gt;START_NEW_ROW),h:
   dialogSpecs=&quot;width=470; height=620; temporary=0; input=1; noframe=0&quot;;
   dialogSpecs=&quot;width=470; height=550; temporary=0; input=1; noframe=0&quot;]
[h:formAction=macroLinkText(&quot;evalAttack@&quot;+getMacroLocation(),&quot;all&quot;,&quot;&quot;,currentToken())] 

[dialog(&quot;rangedAttack&quot;, dialogSpecs): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Choose Target and Method of Attack&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;attack&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;weaponUsedIndex&quot; value=&quot;[r:weaponUsedIndex]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;methodUsed&quot; value=&quot;[r:methodUsed]&quot;&gt;

&lt;h1&gt;[r:upper(json.get(weaponUsed,&quot;name&quot;),1)] [r:json.get(weaponUsed,methodUsed+&quot;descr&quot;)] at base skill [r:json.get(weaponUsed,methodUsed+&quot;skill&quot;)]&lt;/h1&gt;
[r:msg]

&lt;table width=&quot;100%&quot; cellspacing=&quot;1&quot; cellpadding=&quot;2&quot;&gt;
&lt;tr&gt;
[foreach(possTarget, targetList,&quot;&quot;),code:{

&lt;!-- Set status decriptor for target.  --&gt;
  [token(possTarget),if(getProperty(&quot;HP&quot;)==getProperty(&quot;maxHP&quot;)),h: tokenHealth=&quot;healthy&quot;; tokenHealth=&quot;injured&quot;]
  [token(possTarget),if(getState(&quot;healthy&quot;)==1),h: tokenHealth=&quot;healthy&quot;]
  [token(possTarget),if(getState(&quot;injured&quot;)==1),h: tokenHealth=&quot;injured&quot;]
  [token(possTarget),if(getState(&quot;maimed&quot;)==1),h: tokenHealth=&quot;maimed&quot;]
  [token(possTarget),if(getState(&quot;dying&quot;)==1),h: tokenHealth=&quot;dying&quot;]

&lt;!-- Get distance penalty for target.  --&gt;
  [h:dist=getDistance(possTarget, 0)]
  [h, if(dist&lt;=1000):mod=-16]
  [h, if(dist&lt;=700):mod=-15]
  [h, if(dist&lt;=500):mod=-14]
  [h, if(dist&lt;=300):mod=-13]
  [h, if(dist&lt;=200):mod=-12]
  [h, if(dist&lt;=150):mod=-11]
  [h, if(dist&lt;=100):mod=-10]
  [h, if(dist&lt;=70):mod=-9]
  [h, if(dist&lt;=50):mod=-8]
  [h, if(dist&lt;=30):mod=-7]
  [h, if(dist&lt;=20):mod=-6]
  [h, if(dist&lt;=15):mod=-5]
  [h, if(dist&lt;=10):mod=-4]
  [h, if(dist&lt;=7):mod=-3]
  [h, if(dist&lt;=5):mod=-2]
  [h, if(dist&lt;=3):mod=-1]
  [h, if(dist&lt;=2):mod=0]
  [h, if(dist==0):mod=json.get(weaponUsed,methodUsed+&quot;bulk&quot;)]

&lt;!-- Start a new row of possible targets if you have an even multiple of START_NEW_ROW setting.  Wanted: XmodY.--&gt;
   [if( roll.count/START_NEW_ROW==floor(roll.count/START_NEW_ROW)), r : &quot;&lt;/tr&gt;&lt;tr&gt;&quot;;&quot;&quot;]
  &lt;td valign=&quot;top&quot; align=&quot;center&quot;&gt;
  &lt;img src=&quot;[token(possTarget),r:getTokenImage(50)]&quot;&gt;&lt;br&gt;
  &lt;b&gt;[token(possTarget),r:getName()]&lt;/b&gt;&lt;br&gt;
   [r:tokenHealth]&lt;br&gt;
   [r: dist] yard(s): [r:mod]&lt;br&gt;
  &lt;input type=&quot;radio&quot; name=&quot;targetID&quot; value=&quot;[r:possTarget]&quot; [r:checkedIfOneTarget]&gt;&lt;/td&gt;
}]
&lt;/tr&gt;
&lt;/table&gt;

&lt;h1&gt;Select skill modifiers for circumstances and style of attack&lt;/h1&gt;

&lt;b&gt;Maneuver Effects: [r:manSkillBonus]&lt;/b&gt;&lt;input type=&quot;hidden&quot; name=&quot;maneuver&quot; value=&quot;[r:manSkillBonus]&quot;&gt;
&lt;br&gt;&lt;span style=color:gray&gt;[r:currManeuverName] - [r:json.get(currManeuver,&quot;descr&quot;)].&lt;/span&gt;
&lt;br&gt;
[h, if(getProperty(&quot;shock&quot;)==0): textColor=&quot;gray&quot;;textColor=&quot;red&quot;]
&lt;span style=color:[r:textColor]&gt;&lt;b&gt;Shock Penalty: [r:shock]&lt;/b&gt;&lt;/span&gt;&lt;input type=&quot;hidden&quot; name=&quot;shock&quot; value=&quot;[r:shock]&quot;&gt;
&lt;br&gt;&lt;br&gt;

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;

  &lt;tr&gt;
  &lt;th valign=&quot;middle&quot;&gt;Other Modifiers&lt;/th&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-10&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-9&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-8&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-7&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-6&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-5&quot;&gt;&lt;/td&gt; 
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-4&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-3&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-2&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-1&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;0&quot; checked&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;1&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;2&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;3&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;4&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;5&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;6&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;7&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;8&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;9&quot;&gt;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;10&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;
  &lt;th valign=&quot;middle&quot;&gt;&amp;nbsp;&lt;/th&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;-10&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;-8&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;-6&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt; 
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;-4&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;-2&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;0&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;2&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;4&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;6&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;8&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;10&lt;/td&gt;&lt;/tr&gt;

  &lt;tr&gt;
  &lt;td colspan=&quot;22&quot;&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;

  &lt;tr&gt;
  &lt;th valign=&quot;middle&quot; colspan=&quot;3&quot;&gt;Other Large Modifiers&lt;/th&gt;
  &lt;td align=&quot;left&quot; colspan=&quot;19&quot;&gt;&lt;input type=&quot;text&quot;  name=&quot;largeMod&quot; value=&quot;0&quot; size=&quot;2&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
&lt;/table&gt;

[macro(&quot;bodyPartTable@&quot;+ getMacroLocation()):&quot;&quot;]


&lt;p align=&quot;center&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;attack!&quot;&gt; &amp;nbsp; &lt;input type=&quot;reset&quot; value=&quot;reset to defaults&quot;&gt;&lt;/p&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;
}]
&lt;!-- passes targetID, weaponUsedIndex, methodUsed, maneuver, miscMod, largeMod, targetedLocObj (region, penalty) --&gt;</command>
                      <label>rangedDialog</label>
                      <group>Actions</group>
                      <sortby>2attack1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>58</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>58</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up weapon variables from arguments --&gt;
[h:args=json.fromStrProp(macro.args)]
[h:defType=json.get(args,&quot;type&quot;)]
[h:defItem=json.get(args,&quot;name&quot;)]
[h:defLevel=json.get(args,&quot;level&quot;)]
[h:parryType=json.get(args,&quot;parryType&quot;)]

&lt;!-- Setting up maneuver bonus variables --&gt;
[h:currManeuverName=json.get(getProperty(&quot;currManeuver&quot;),&quot;name&quot;)]
[h:manDefBonus=json.get(currManeuver,&quot;defBonus&quot;)]
[h:deceptiveAttackPenalty=getProperty(&quot;miscDBTemp&quot;)]

&lt;!-- Determining posture penalty --&gt;
[h:postureMod=getProperty(&quot;postureDB&quot;)]
[h, if(postureMod&gt;=0): textColor=&quot;gray&quot;;textColor=&quot;red&quot;]

[switch(defType), h, code:
case &quot;Dodge&quot;: {
   [h:header = defType + &quot; at base skill &quot; + defLevel]
   [h:manDefTypeBonus=json.get(currManeuver,&quot;dodgeBonus&quot;)]
   [h:retreatBonus=3]
};
case &quot;Parry&quot;: {
   [h:header = defType + &quot; with &quot;+ defItem + &quot; at base skill &quot; + defLevel]
   [h:manDefTypeBonus=json.get(currManeuver,&quot;parryBonus&quot;)]
   [if (parryType==&quot;fencing&quot;), h: retreatBonus=3; retreatBonus=1]
};
case &quot;Block&quot;: {
   [h:header = defType + &quot; with &quot;+ defItem + &quot; at base skill &quot; + defLevel]
   [h:manDefTypeBonus=json.get(currManeuver,&quot;blockBonus&quot;)]
   [h:retreatBonus=1]
};
default: {
   error.
}]
[h:manDefBonusTotal=manDefBonus+manDefTypeBonus]

&lt;!-- Setting up dialog variables --&gt;
[h:formAction=macroLinkText(&quot;evalDef@&quot;+getMacroLocation(),&quot;all&quot;,&quot;&quot;,currentToken())] 
[h:dialogSpecs=&quot;width=350; height=250; temporary=0; input=1; noframe=0&quot;]

[dialog(&quot;defend&quot;, dialogSpecs): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Defend!&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;defend&quot; action=&quot;[r:formAction]&quot;&gt;

&lt;input type=&quot;hidden&quot; name=&quot;defType&quot; value=&quot;[r:defType]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;defItem&quot; value=&quot;[r:defItem]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;defLevel&quot; value=&quot;[r:defLevel]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;manDefBonusTotal&quot; value=&quot;[r:manDefBonusTotal]&quot;&gt;

&lt;h1&gt;[r:header]&lt;/h1&gt;

&lt;table width=&quot;100%&quot; cellspacing=&quot;1&quot; cellpadding=&quot;1&quot;&gt;
  &lt;tr class=&quot;oddRow&quot;&gt;
  &lt;th valign=&quot;top&quot;&gt;Maneuver&amp;nbsp;Effects &lt;/th&gt;
  &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;[r:manDefBonusTotal]&lt;/b&gt;&lt;/td&gt;
  &lt;td&gt;&lt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;left&quot; valign=&quot;top&quot; colspan=&quot;9&quot; class=&quot;light&quot;&gt;[r:currManeuverName] - [r:json.get(currManeuver,&quot;descr&quot;)].&lt;/td&gt;&lt;/tr&gt;

  &lt;tr class=&quot;evenRow&quot;&gt;
  &lt;th valign=&quot;top&quot;&gt;Posture&lt;/th&gt;
  &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;&lt;span style=color:[r:textColor]&gt;&lt;b&gt;[r:postureMod]&lt;/b&gt;&lt;/span&gt;&lt;input type=&quot;hidden&quot; name=&quot;postureMod&quot; value=&quot;[r:postureMod]&quot;&gt;&lt;/b&gt;&lt;/td&gt;
  &lt;td&gt;&lt;&amp;nbsp;&lt;/td&gt;
  &lt;td align=&quot;left&quot; valign=&quot;top&quot; colspan=&quot;9&quot; class=&quot;light&quot;&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;

  &lt;tr class=&quot;oddRow&quot;&gt;
  &lt;th valign=&quot;middle&quot;&gt;Retreat&lt;/th&gt;
  &lt;td align=&quot;right&quot; valign=&quot;middle&quot; colspan=&quot;1&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;retreat&quot; value=&quot;1&quot;&gt;
  &lt;td align=&quot;left&quot; valign=&quot;middle&quot; colspan=&quot;10&quot; class=&quot;light&quot;&gt;add the proper retreat bonus for your [r:defType] below&lt;/td&gt;&lt;/tr&gt;

  &lt;tr class=&quot;evenRow&quot;&gt;
  &lt;th valign=&quot;middle&quot;&gt;Other&amp;nbsp;Modifiers&lt;/th&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-5&quot;&gt;&lt;br&gt;-5&lt;/td&gt; 
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-4&quot;&gt;&lt;br&gt;-4&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-3&quot;&gt;&lt;br&gt;-3&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-2&quot;&gt;&lt;br&gt;-2&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;-1&quot;&gt;&lt;br&gt;-1&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;0&quot; checked&gt;&lt;br&gt;0&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;1&quot;&gt;&lt;br&gt;1&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;2&quot;&gt;&lt;br&gt;2&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;3&quot;&gt;&lt;br&gt;3&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;4&quot;&gt;&lt;br&gt;4&lt;/td&gt;
  &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;miscMod&quot; value=&quot;5&quot;&gt;&lt;br&gt;5&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;defend!&quot;&gt; &amp;nbsp; &lt;input type=&quot;reset&quot; value=&quot;reset to defaults&quot;&gt;&lt;/p&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;
}]

&lt;!-- passes variables - defType, defItem, defLevel, manDefBonusTotal, postureMod, retreat, miscMod --&gt;</command>
                      <label>defDialog</label>
                      <group>Actions</group>
                      <sortby>3defences1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>56</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>56</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- receives variables - defType, defItem, defLevel, manDefBonusTotal, posture, retreat, miscMod --&gt;
&lt;!-- Setting up weapon variables from arguments --&gt;
[h:args=json.fromStrProp(macro.args)]
[h:defType=json.get(args,&quot;defType&quot;)]
[h:defItem=json.get(args,&quot;defItem&quot;)]
[h:defLevel=json.get(args,&quot;defLevel&quot;)]
[h:manDefBonusTotal=json.get(args,&quot;manDefBonusTotal&quot;)]
[h:postureMod=json.get(args,&quot;postureMod&quot;)]
[h:retreat=json.get(args,&quot;retreat&quot;)]
[h:miscMod=json.get(args,&quot;miscMod&quot;)]

&lt;!-- Determining effective skill, rolling, and calculating margin of success or failure.--&gt;
[h:defEffSkill=defLevel+manDefBonusTotal+postureMod+miscMod]
[h:roll=3d6]

&lt;!-- Setting up output --&gt;
[h, if ( retreat == 1 ): retreatPhrase= &quot;falls back, and&quot; ; retreatPhrase= &quot;&quot;]
[switch(defType), h, code:
case &quot;Dodge&quot;: {
   [h:verbPhrase = &quot;dodge&quot;]
   [h:verbPhraseConj = &quot;dodged&quot;]
};
case &quot;Parry&quot;: {
   [h:verbPhrase = &quot;parry&quot;]
   [h:verbPhraseConj = &quot;parried&quot;]
};
case &quot;Block&quot;: {
   [h:verbPhrase = &quot;block&quot;]
   [h:verbPhraseConj = &quot;blocked&quot;]
};
default: {
   error.
}]

[h:miscDBTemp=0]

&lt;!--Output results --&gt;
[r:retreatPhrase] tries to [r:verbPhrase][r,s,g: &quot; with effective skill &quot; + defEffSkill +&quot;, and rolls a &quot; + roll].</command>
                      <label>evalDef</label>
                      <group>Actions</group>
                      <sortby>3defences2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>63</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>63</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: args = macro.args]
[if(json.isEmpty(args)),h,code: {
   [h:dialogSetup=&quot;delta | 0 | change in FP&quot;]
   [h:dialog=input(dialogSetup)]
   [h:abort(dialog)]
   [h:nameIfneeded=&quot;&quot;]
};{
   [h:delta=json.get(args,&quot;drain&quot;)]
   [switchToken(json.get(args,&quot;targetID&quot;))]
   [h:nameIfneeded=token.name +&quot; &quot;]
}]

[h: FP=FP+delta]
[h, if(FP&gt;maxFP):FP=maxFP;&quot;&quot;]
[h, if(FP&lt;-1*maxFP):FP=-1*maxFP]

[h, if(FP==maxFP), code:{ 
  [h:state.fresh=1]
  [h:setProperty(&quot;colorFP&quot;,&quot;green&quot;)]
};{
  [h:state.fresh=0]
}]

[h, if(FP&gt;=(maxFP/3) &amp;&amp; FP &lt; maxFP), code:{ 
  [h:state.tiring=1]
  [h:setProperty(&quot;colorFP&quot;,&quot;yellow&quot;)]
};{
  [h:state.tiring=0]
}]

[h, if(FP&gt;0 &amp;&amp; FP&lt;(maxFP/3)), code:{ 
  [h:state.exhausted=1]
  [h:setProperty(&quot;colorFP&quot;,&quot;orange&quot;)]
};{
  [h:state.exhausted=0]
}]

[h, if(FP &lt;= 0), code:{ 
  [h:state.collapsing=1]
  [h:setProperty(&quot;colorFP&quot;,&quot;red&quot;)]
};{
  [h:state.collapsing=0]
}]

[h, if(FP &lt; maxFP/3 || HP &lt; maxHP/3):state.halfmove=1;state.halfmove=0]
[h, if(FP == -1*maxFP): state.unconscious=1;state.unconscious=0]

&lt;!-- Generate and display output. --&gt;
[h:output=nameIfNeeded]
[h, if(delta&gt;0): output=output+&quot;regains &quot;; output=output+&quot;receives &quot;]
[h:output=output + delta + &quot; fatigue, and now has &quot; + FP + &quot; FP&quot;]

[h,if(state.halfmove==1): output=output + &quot;: at half move&quot;;&quot;&quot;]
[h, if(state.unconscious==1): output=output + &quot; and unconscious from exhaustion&quot;;&quot;&quot;]

[if(isNPC()),code:{
   [r,g:output + &quot;.&quot;]
};{
   [r,s,g:output + &quot;.&quot;]
}]

[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@this&quot;):&quot;&quot;]
};{}]</command>
                      <label>FP</label>
                      <group>Actions</group>
                      <sortby>s</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>62</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>62</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: args = macro.args]
[if(json.isEmpty(args)),h,code: {
   [h:dialogSetup=&quot;delta | 0 | change in HP&quot;]
   [h:dialog=input(dialogSetup)]
   [h:abort(dialog)]
   [h:nameIfneeded=&quot;&quot;]
};{
   [h:delta=json.get(args,&quot;injury&quot;)]
   [switchToken(json.get(args,&quot;targetID&quot;))]
   [h:targetName=getName(json.get(args,&quot;targetID&quot;))]
   [h:targetNameLower=lower(targetName)]
   [if( matches( targetName, targetNameLower) ),h: article=&quot;The&quot; ; article =&quot;&quot;]
   [h:nameIfneeded=article + &quot; &quot; + token.name +&quot; &quot;]
}]

[h:oldHP=getProperty(&quot;HP&quot;)]
[h:maxHP=getProperty(&quot;maxHP&quot;)]

[h: HP=oldHP+delta]
[h, if(HP&gt;maxHP):HP=maxHP]
[h, if(HP&lt;-10*maxHP):HP=-10*maxHP]

[h: deathRollMsg=&quot;&quot;]
[h,if(HP&gt;(-1*HP)), code:{
  [h:multiplierList=&quot;&quot;]
};{
  [h:multiplierList=&quot;-1,-2,-3,-4&quot;]
}]

[h:modHT=getProperty(&quot;HTBonus&quot;)+ getProperty(&quot;HTDeathBonus&quot;)]
[h, foreach (multiplier, multiplierList), code:{
  [h:HPlevel=multiplier * maxHP]
  [h, if( oldHP &gt; HPlevel &amp;&amp;  HP &lt;= HPlevel ), code : {
    [h: deathRollMsg=deathRollMsg+ &quot;&lt;br&gt;&quot;+token.name + &quot; passes &quot; + multiplier*maxHP + &quot; HP.  Roll against modified HT to avoid dying.&quot;]
  };{}]
}]

[h, if(HP==maxHP), code:{ 
  [h:state.healthy=1]
  [h:setProperty(&quot;colorHP&quot;,&quot;green&quot;)]
};{
  [h:state.healthy=0]
}]

[h, if(HP&gt;=(maxHP/3) &amp;&amp; HP &lt; maxHP), code:{ 
  [h:state.injured=1]
  [h:setProperty(&quot;colorHP&quot;,&quot;yellow&quot;)]
};{
  [h:state.injured=0]
}]

[h, if(HP&gt;0 &amp;&amp; HP&lt;(maxHP/3)), code:{ 
  [h:state.maimed=1]
  [h:setProperty(&quot;colorHP&quot;,&quot;orange&quot;)]
};{
  [h:state.maimed=0]
}]

[h, if(HP &lt;= 0), code:{ 
  [h:state.dying=1]
  [h:setProperty(&quot;colorHP&quot;,&quot;red&quot;)]
};{
  [h:state.dying=0]
}]

[h, if(HP &lt;= -1*maxHP*5): state.dead = 1;state.dead = 0]
[h, if(FP &lt; maxFP/3 || HP &lt; maxHP/3):state.halfmove =1;state.halfmove=0]

&lt;!-- Generate and display output. --&gt;
[h:output=nameIfNeeded]
[h, if(delta&gt;0): output=output+&quot;regains &quot;; output=output+&quot;receives &quot;]
[h:output=output + delta + &quot; HP, and now has &quot; + HP + &quot; HP&quot;]

[h,if(state.halfmove==1): output=output + &quot;: at half move&quot;;&quot;&quot;]
[h, if(state.dead==1): output=output + &quot; and has died from &lt;i&gt;fearful&lt;/i&gt; wounds.&quot;; output=output+&quot;.  &quot;]

[if(isNPC()),code:{ 
    [r,g:output]
    [r,g:deathRollMsg]
};{
    [r:output]
    [r,g,s:deathRollMsg]
} ]

[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@this&quot;):&quot;&quot;]
};{}]</command>
                      <label>HP</label>
                      <group>Actions</group>
                      <sortby>s</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>68</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>68</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[H:PostureList = &quot;standing,crouching,kneeling,sitting,face_up,prone&quot;]
[H:CurrentPosture=-1]
[H,C(listCount(PostureList)):CurrentPosture = if(eval(&quot;state.&quot; + listGet(PostureList,roll.count)) == 1, roll.count, CurrentPosture)]
[H: fail = input(&quot;NewPosture | &quot; + PostureList + &quot; | Choose New Posture | LIST | SELECT=&quot; + CurrentPosture)]
[H:abort(fail)]

[H,C(listCount(PostureList)): eval(&quot;state.&quot; + listGet(PostureList,roll.count) + &quot;=0&quot;)]
[h:newPosture=listGet(PostureList, NewPosture)]
[H: eval(&quot;state.&quot; + newPosture + &apos;=1&apos;)]

[h:setProperty(&quot;posture&quot;,newPosture)]
[h, if ( newPosture == &quot;standing&quot; || newPosture == &quot;crouching&quot; ) : setProperty(&quot;postureDB&quot;,0);&quot;&quot;]
[h, if ( newPosture == &quot;kneeling&quot; || newPosture == &quot;sitting&quot; ) : setProperty(&quot;postureDB&quot;,-2);&quot;&quot;]
[h, if ( newPosture == &quot;crawling&quot; || newPosture == &quot;face_up&quot; || newPosture == &quot;prone&quot; ) : setProperty(&quot;postureDB&quot;,-3);&quot;&quot;]

[r: getName() + &quot; is now &quot; + newPosture ].

[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@this&quot;):&quot;&quot;]
};{}]</command>
                      <label>posture</label>
                      <group>Actions</group>
                      <sortby>1maneuver3</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>69</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>69</index>
                      <colorKey>pink</colorKey>
                      <hotKey>None</hotKey>
                      <command>[H:shockList = &quot;0,-1,-2,-3,-4,-6,-8&quot;]  
[H: fail = input(&quot;newShockIndex |&quot;+ shockList + &quot; | Choose new shock level | LIST | SELECT=0&quot;)] 
[H:abort(fail)] 
[h:setProperty(&quot;shock&quot;,listGet(shockList,newShockIndex))]
Your shock penalty is now {getProperty(&quot;shock&quot;)}.
[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@this&quot;):&quot;&quot;]
};{}]</command>
                      <label>shock</label>
                      <group>Actions</group>
                      <sortby>t</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>70</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>70</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Set form to change the skill.
       If dialog is called with an arg of &quot;new&quot;, set up default values for new skill.
       Else, get the skill&apos;s information from the token. --&gt;

[if( macro.args==&quot;new&quot; || macro.args==&quot;&quot;),code,h:{
[h:skillIndexChosen=&quot;&quot;]
[h:name=&quot;&quot;]
[h:attribute=&quot;IQ&quot;] 
[h:level=0]
[h:notes=&quot;&quot;]
[h:formAction=macroLinkText(&apos;addSkill@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
};{
[h:skillIndexChosen=macro.args]
[h:skillChosen=json.get(skills,skillIndexChosen)]
[h:name=json.get(skillChosen,&quot;name&quot;)]
[h:attribute=json.get(skillChosen,&quot;attribute&quot;)] 
[h:level=json.get(skillChosen,&quot;level&quot;)]
[h:notes=json.get(skillChosen,&quot;notes&quot;)]
[h:formAction=macroLinkText(&apos;editSkill@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
} ]
[h:attributes=&quot;ST,DX,IQ,HT,Will,Per&quot;]

&lt;!-- Create dialog box. --&gt;
[dialog(&quot;editAttributes&quot;, &quot;width=500; height=150; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Add/Edit Skill for [r:getName()]&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;properties&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;skillIndexChosen&quot; value=&quot;[r:skillIndexChosen]&quot;&gt;

&lt;h1&gt;Skill Details for [r:getName()]&lt;/h1&gt;
&lt;table width=&quot;99%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th&gt;name&lt;/th&gt;
   &lt;th&gt;attribute&lt;/th&gt;
   &lt;th&gt;level&lt;/th&gt;
   &lt;th&gt;notes&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;[r:name]&quot; size=&quot;15&quot; maxlength=&quot;60&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&lt;select name=&quot;attribute&quot;&gt;
     [r, foreach (attrib, attributes, &quot;&quot;), code:{
        [h, if (attrib==attribute): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
        &lt;option value=&apos;[r:attrib]&apos; [r:isSelected]&gt;[r:attrib]&lt;/option&gt;
     } ]&lt;/select&gt;&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;level&quot; value=&quot;[r:level]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;notes&quot; value=&quot;[r:notes]&quot; size=&quot;30&quot; maxlength=&quot;50&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>skillDialog</label>
                      <group>CharSheet</group>
                      <sortby>v1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>71</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>71</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>the spell sheet is under development...</command>
                      <label>csSpells</label>
                      <group>CharSheet</group>
                      <sortby>4</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>true</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>64</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>64</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Set form to change the attributes.
       If dialog is called with an arg of &quot;new&quot;, set up default values for new attributes.
       Else, get the item&apos;s information from the token. --&gt;
[h:formAction=macroLinkText(&apos;editProps@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
[if( macro.args==&quot;new&quot;),code,h:{
[h:ST=10] [h:DX=10] [h:IQ=10] [h:HT=10]
[h:Will=10] [h:Fright=10] [h:Per=10]
[h:maxHP=10] [h:maxFP=10]
[h:basicSpeed=5] [h:basicMove=5] [h:basicLift=20]
};{
[h:ST=getProperty(&quot;ST&quot;)] [h:DX=getProperty(&quot;DX&quot;)] [h:IQ=getProperty(&quot;IQ&quot;)] [h:HT=getProperty(&quot;HT&quot;)]
[h:Will=getProperty(&quot;Will&quot;)] [h:Fright=getProperty(&quot;Fright&quot;)] [h:Per=getProperty(&quot;Per&quot;)]
[h:maxHP=getProperty(&quot;maxHP&quot;)] [h:maxFP=getProperty(&quot;maxFP&quot;)]
[h:basicSpeed=getProperty(&quot;basicSpeed&quot;)] [h:basicMove=getProperty(&quot;basicMove&quot;)] [h:basicLift=getProperty(&quot;basicLift&quot;)]
} ]

[dialog(&quot;editAttributes&quot;, &quot;width=260; height=300; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Add/Edit Attributes for [r:getName()]&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;properties&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;ID&quot; value=&quot;boo&quot;&gt;

&lt;h1&gt;Basic Attributes for [r:getName()]&lt;/h1&gt;
&lt;table width=&quot;250&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;&lt;th class=&quot;hdr&quot; colspan=&quot;4&quot;&gt;Attributes&lt;/th&gt;
        &lt;th class=&quot;hdr&quot; colspan=&quot;1&quot;&gt;Defaults&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;ST&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;ST&quot; value=&quot;[r:ST]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;th&gt;max HP&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;maxHP&quot; value=&quot;[r:maxHP]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;td class=&quot;light&quot;&gt;[r:ST]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;DX&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;DX&quot; value=&quot;[r:DX]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;th&gt;Speed&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;basicSpeed&quot; value=&quot;[r:basicSpeed]&quot; size=&quot;3&quot; maxlength=&quot;4&quot;&gt;&lt;/td&gt;
   &lt;td class=&quot;light&quot;&gt;[r:(DX+HT)/4]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;IQ&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;IQ&quot; value=&quot;[r:IQ]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;th&gt;Move&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;basicMove&quot; value=&quot;[r:basicMove]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;td class=&quot;light&quot;&gt;[r:floor((DX+HT)/4)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;HT&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;HT&quot; value=&quot;[r:HT]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;th&gt;max FP&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;maxFP&quot; value=&quot;[r:maxFP]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;td class=&quot;light&quot;&gt;[r:HT]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;Will&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;Will&quot; value=&quot;[r:Will]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;th&gt;Basic Lift&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;basicLift&quot; value=&quot;[r:basicLift]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;td class=&quot;light&quot;&gt;[r:floor((ST*ST)/5)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;Fright&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;Fright&quot; value=&quot;[r:Fright]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&amp;nbsp;&lt;/td&gt;
   &lt;td&gt;&amp;nbsp;&lt;/td&gt;
   &lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;Per&lt;/th&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;Per&quot; value=&quot;[r:Per]&quot; size=&quot;3&quot; maxlength=&quot;3&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&amp;nbsp;&lt;/td&gt;
   &lt;td&gt;&amp;nbsp;&lt;/td&gt;
   &lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>attributesDialog</label>
                      <group>CharSheet</group>
                      <sortby>s</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>65</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>65</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: skillroll=&quot;SkillRoll@this&quot;]
[h: editMacro=&quot;&quot;]

[h:bodyType=getProperty(&quot;bodyType&quot;)]
[h:sizeMod=getProperty(&quot;sizeMod&quot;)]
[h:injuryTolerance=getProperty(&quot;injuryTolerance&quot;)]
[h:painThreshold=getProperty(&quot;painThreshold&quot;)]
[h:HTBonus=getProperty(&quot;HTBonus&quot;)] [h:HTDeathBonus=getProperty(&quot;HTDeathBonus&quot;)] [h:HTUncBonus=getProperty(&quot;HTUncBonus&quot;)]
[h:miscDBPerm=getProperty(&quot;miscDBPerm&quot;)]
[h:dodgeBonus=getProperty(&quot;dodgeBonus&quot;)] [h:blockBonus=getProperty(&quot;blockBonus&quot;)] [h:parryBonus=getProperty(&quot;parryBonus&quot;)]

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;3&quot;&gt;[r:macroLink(&quot;Advantages and Disadvantages&quot;, &quot;adDisadDialog@this&quot;, &quot;none&quot;,&quot;&quot;,currentToken())]&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;Body Type&lt;/th&gt;
   &lt;td&gt;[r:bodyType]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;Size Modifier&lt;/th&gt;
   &lt;td&gt;[r:sizeMod]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;Injury Tolerance&lt;/th&gt;
   &lt;td&gt;[r:injuryTolerance]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;Pain Threshold&lt;/th&gt;
   &lt;td&gt;[r:painThreshold]&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;3&quot;&gt;[r:macroLink(&quot;Health (HT) bonuses from advantages&quot;, &quot;adDisadDialog@this&quot;, &quot;none&quot;,&quot;&quot;,currentToken())]&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th valign=&quot;top&quot;&gt;All HT rolls&lt;/th&gt;
   &lt;td valign=&quot;top&quot;&gt;Fit, Very Fit, etc.&lt;/td&gt;
   &lt;td valign=&quot;top&quot;&gt;[r:HTBonus]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th valign=&quot;top&quot;&gt;HT vs. unconsciousness&lt;/th&gt;
   &lt;td valign=&quot;top&quot;&gt;Hard to Subdue, etc.&lt;/td&gt;
   &lt;td valign=&quot;top&quot;&gt;[r:HTUncBonus]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th valign=&quot;top&quot;&gt;HT vs. death&lt;/th&gt;
   &lt;td valign=&quot;top&quot;&gt;Hard to Kill, etc.&lt;/td&gt;
   &lt;td&gt;[r:HTDeathBonus]&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;3&quot;&gt;[r:macroLink(&quot;Defense bonuses&quot;, &quot;adDisadDialog@this&quot;, &quot;none&quot;,&quot;&quot;,currentToken())]&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;Defense bonus&lt;/th&gt;
   &lt;td&gt;[r:miscDBPerm]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;Dodge bonus&lt;/th&gt;
   &lt;td&gt;[r:dodgeBonus]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;th&gt;Block bonus&lt;/th&gt;
   &lt;td&gt;[r:blockBonus]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
   &lt;th&gt;Parry bonus&lt;/th&gt;
   &lt;td&gt;[r:parryBonus]&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
&lt;th class=&quot;hdr&quot; colspan=&quot;6&quot;&gt;[r:macroLink(&quot;Natural DR&quot;, &quot;DRNaturalDialog@this&quot;, &quot;none&quot;,&quot;&quot;,currentToken())]&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td&gt;eye&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-9&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;eye&quot;)]&lt;/td&gt;
     &lt;td&gt;torso, front&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp; 0&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;torso&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;td&gt;skull&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-7&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;skull&quot;)]&lt;/td&gt;
     &lt;td&gt;torso, back&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp; 0&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;back&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td&gt;face&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;face&quot;)]&lt;/td&gt;
     &lt;td&gt;vitals&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;vitals&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;td&gt;neck&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;neck&quot;)]&lt;/td&gt;
    &lt;td&gt;groin&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;groin&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td&gt;arm, right&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;right arm&quot;)]&lt;/td&gt;
     &lt;td&gt;leg, right&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;right leg&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;td&gt;arm, left&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;left arm&quot;)]&lt;/td&gt;
     &lt;td&gt;leg, left&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;left leg&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;td&gt;hand&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;hand&quot;)]&lt;/td&gt;
     &lt;td&gt;foot&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;[r:json.get(DRNatural,&quot;foot&quot;)]&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
</command>
                      <label>csAd/Disad</label>
                      <group>CharSheet</group>
                      <sortby>4</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>76</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>76</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up incoming properties targetID, weaponUsedIndex, methodUsed, maneuver, shock, attackerPostureMod, miscMod, largeMod, targetedLocObj (region, penalty) --&gt;
[h:args=json.fromStrProp(macro.args)]

[h:targetID=json.get(args,&quot;targetID&quot;)]
[h:weaponUsed=json.get(inventory,json.get(args,&quot;weaponUsedIndex&quot;))]
[h:methodUsed=json.get(args,&quot;methodUsed&quot;)]
[h:methodDescr=json.get(weaponUsed,methodUsed+&quot;descr&quot;)]

[h:baseSkill=json.get(weaponUsed,methodUsed+&quot;skill&quot;)]
[h:maneuverBonus=json.get(args,&quot;maneuver&quot;)]
[h:shock=json.get(args,&quot;shock&quot;)]
[h:miscMod=json.get(args,&quot;miscMod&quot;)]
[h:largeMod=json.get(args,&quot;largeMod&quot;)]

[h:targetedLocObj=json.get(args,&quot;targetedLocObj&quot;)]
[h:targetedLocation=json.get(targetedLocObj,&quot;location&quot;)]
[h:targetingPenalty=json.get(targetedLocObj,&quot;penalty&quot;)]

&lt;!-- Detemine if the attack is melee or ranged.  --&gt;
[if(methodUsed==&quot;m1&quot; || methodUsed==&quot;m2&quot;),h: melee=1 ; melee=0]
[if(methodUsed==&quot;r1&quot; || methodUsed==&quot;r2&quot;),h: ranged=1 ; ranged=0]

&lt;!-- Calculate eff skill.  Different mods if melee or ranged.  --&gt;
[h:weaponUsedEffSkill=baseSkill+targetingPenalty+maneuverBonus+shock+miscMod+largeMod]
[if(melee), h, code:{
  [h:weaponUsedEffSkill=weaponUsedEffSkill+json.get(args,&quot;attackerPostureMod&quot;)]
};{}]
[if(ranged), h, code:{
  [h:dist=getDistance(targetID, 0)]
  [h, if(dist&lt;=1000):mod=-16]
  [h, if(dist&lt;=700):mod=-15]
  [h, if(dist&lt;=500):mod=-14]
  [h, if(dist&lt;=300):mod=-13]
  [h, if(dist&lt;=200):mod=-12]
  [h, if(dist&lt;=150):mod=-11]
  [h, if(dist&lt;=100):mod=-10]
  [h, if(dist&lt;=70):mod=-9]
  [h, if(dist&lt;=50):mod=-8]
  [h, if(dist&lt;=30):mod=-7]
  [h, if(dist&lt;=20):mod=-6]
  [h, if(dist&lt;=15):mod=-5]
  [h, if(dist&lt;=10):mod=-4]
  [h, if(dist&lt;=7):mod=-3]
  [h, if(dist&lt;=5):mod=-2]
  [h, if(dist&lt;=3):mod=-1]
  [h, if(dist&lt;=2):mod=0]
  [h, if(dist==0):mod=json.get(weaponUsed,methodUsed+&quot;bulk&quot;)]
  [h:weaponUsedEffSkill=weaponUsedEffSkill+mod]
};{}]

&lt;!-- Roll --&gt;
[h:roll=3d6]

&lt;!--Output results --&gt;
attacks [r:getName(targetID)] in the [r:targetedLocation] with a [r:methodDescr][r,g,s: &quot; at effective skill &quot; + weaponUsedEffSkill + &quot; and rolls a &quot;+ roll]. 

&lt;!--  Generate the detailed output for self and GM.  --&gt;
[h:detailedOutput=&quot;&lt;br&gt; Base skill &quot;+ baseSkill + &quot; with &quot; + targetingPenalty + &quot; for &quot; + targetedLocation ]
[h: detailedOutput=detailedOutput + &quot;, &quot; + maneuverBonus + &quot; for maneuver, &quot; + shock + &quot; shock, &quot;]
[if(melee), h, code:{
   [h: detailedOutput=detailedOutput + json.get(args,&quot;attackerPostureMod&quot;) + &quot; attacker&apos;s posture, &quot;]
}]
[if(ranged), h, code:{
   [h: detailedOutput=detailedOutput + mod + &quot; range/bulk, &quot;]
}]
[h:detailedOutput = detailedOutput + json.get(args,&quot;miscMod&quot;) + &quot; miscMod, and &quot; + json.get(args,&quot;largeMod&quot;) + &quot; largeMod.&quot;]
&lt;span style=color:gray&gt;[r,s,g:detailedOutput]&lt;/span&gt;</command>
                      <label>evalAttack</label>
                      <group>Actions</group>
                      <sortby>2attack3</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>78</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>78</index>
                      <colorKey>yellow</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:args=json.fromStrProp(macro.args)]
[h: skillName = json.get(args, &quot;name&quot;)]
[h: skillLevel = json.get(args, &quot;level&quot;)]
[h: skillCheckReason = json.get(args, &quot;reason&quot;)]
[h, if (json.contains(args, &quot;baseAttribute&quot;)): skillBaseAttribute = json.get(args, &quot;baseAttribute&quot;); skillBaseAttribute = &quot;&quot;]
[h: skillMod = json.get(args, &quot;modifier&quot;)]

[if(skillMod == &quot;ask&quot; || skillMod == &quot;&quot;),h,code: {
   [h:dialogSetup=&quot;skillMod | 0 | &quot;+skillName + &quot; modifier&quot;]
   [h:dialog=input(dialogSetup)]
   [h:abort(dialog)]
   };{}]
 
[h, if (skillName == &quot;DX&quot; || skillName == &quot;IQ&quot; || skillBaseAttribute == &quot;DX&quot; || skillBaseAttribute == &quot;IQ&quot;) : skillMod = skillMod+getProperty(&quot;shock&quot;); &quot;&quot;]

[h:effSkill=skillLevel+skillMod]
[h:roll=3d6]
[h: margin= effSkill - roll]

&lt;!--Determine results --&gt;
[h:effSkill=skillLevel+skillMod]
[h:resultMsg=&quot;rolls a &quot; + roll + &quot; against a base &quot;+ skillName +&quot; of &quot;+ skillLevel +&quot; with a modifier of &quot;+ skillMod + &quot;.&quot;]
[h, if( skillCheckReason ==&quot;&quot;): &quot;&quot;;resultMsg=&quot;check against &quot; + skillCheckReason +&quot;: &quot;+ resultMsg]

&lt;!--Output results.  All NPC results are sent to the GM.  For stealth, search, observation, and Per, results are sent to the GM, and an announcement is sent to the player. --&gt;

[if(isNPC() || skillName == &quot;stealth&quot; || skillName == &quot;search&quot; || skillName == &quot;observation&quot; || skillName == &quot;Per&quot;),code:{
   [gm:resultMsg]
};{
   [if( skillName == &quot;stealth&quot; || skillName == &quot;search&quot; || skillName == &quot;observation&quot; || skillName == &quot;Per&quot;),code:{
     [r,self: &quot;A &quot; + skillName + &quot; check sent to GM.&quot;]
     [r,gm:resultMsg]
   };{
     [r:resultMsg]
   }]
}]</command>
                      <label>SkillRoll</label>
                      <group>Actions</group>
                      <sortby></sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>72</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>72</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:oldSkills=getProperty(&quot;skills&quot;)]
[h:newSkill=json.fromStrProp(macro.args)]

&lt;!--  Remove the skillIndexChosen from the new skill, as it&apos;s needed only to identify the skill
        we&apos;re working with in this macro, and should not be saved with the changed skill. --&gt;
[h:newSkill=json.remove(newSkill,&quot;skillIndexChosen&quot;)]
[h:newSkill=json.remove(newSkill,&quot;properties&quot;)]

&lt;!-- Adding indexed new skill to the old inventory, and storing in token property.--&gt;
[h:newSkills=json.append(oldSkills, newSkill)]
[h:setProperty(&quot;skills&quot;, newSkills)]

[h,if(getName()!=&quot;Lib:GURPS&quot;), code:{
  [MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Skills&quot;]
};{
  [MACRO(&quot;prefs@&quot; + getMacroLocation()):&quot;&quot;]
}]</command>
                      <label>addSkill</label>
                      <group>CharSheet</group>
                      <sortby>v2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>73</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>73</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:oldSkills=getProperty(&quot;skills&quot;)]
[h:newSkill=json.fromStrProp(macro.args)]
[h:skillIndexChosen=json.get(newSkill,&quot;skillIndexChosen&quot;)]

&lt;!--  Remove the skillIndexChosen from the changed skill, as it&apos;s needed only to identify the skill
        we&apos;re working with in this macro, and should not be saved with the changed skill. --&gt;
[h:newSkill=json.remove(newSkill,&quot;skillIndexChosen&quot;)]
[h:newSkill=json.remove(newSkill,&quot;properties&quot;)]

&lt;!-- Replace old skill with changed skill in the inventory, and store in token property.--&gt;
[h:newSkills=json.set(oldSkills, skillIndexChosen, newSkill)]
[h:setProperty( &quot;skills&quot;, newSkills )]

[h,if(getName()!=&quot;Lib:GURPS&quot;), code:{
  [MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Skills&quot;]
};{
  [MACRO(&quot;prefs@&quot; + getMacroLocation()):&quot;&quot;]
}]</command>
                      <label>editSkill</label>
                      <group>CharSheet</group>
                      <sortby>v3</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>74</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>74</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: indexChosen=macro.args]
[h: setProperty( &quot;skills&quot;,json.remove(skills,indexChosen) )]

[h,if(getName()!=&quot;Lib:GURPS&quot;), code:{
  [MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Skills&quot;]
};{
  [MACRO(&quot;prefs@&quot; + getMacroLocation()):&quot;&quot;]
}]</command>
                      <label>deleteSkill</label>
                      <group>CharSheet</group>
                      <sortby>v4</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>75</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>75</index>
                      <colorKey>pink</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:stateList=json.merge( getTokenStates(&quot;json&quot;, &quot;Incapacitating&quot;), getTokenStates(&quot;json&quot;, &quot;Crippling&quot;), getTokenStates(&quot;json&quot;, &quot;Hazards&quot;), getTokenStates(&quot;json&quot;, &quot;Irritating&quot;), getTokenStates(&quot;json&quot;, &quot;Mortal&quot;) )]
[foreach(state, stateList,&quot;&quot;), h,code: { [h:setState(state,0)] } ]
[h:setProperty(&quot;conditions&quot;,&quot;[]&quot;)]
[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@this&quot;):&quot;&quot;]
};{}]</command>
                      <label>clearConditions</label>
                      <group>CharSheet</group>
                      <sortby>z</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>84</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>84</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- If dialog is called with an arg of &quot;new&quot; or empty, set up default values for new attributes.
       Else, get the token&apos;s information from the args. --&gt;

[h:args=json.fromStrProp(macro.args)] 
[h:args=json.remove(args,&quot;DRNatural&quot;)]

[r:args]
[h:setProperty(&quot;DRNatural&quot;, args)]

[macro(&quot;calcDR@&quot;+ getMacroLocation()):&quot;&quot;]
[MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Ad/Disad&quot;]</command>
                      <label>editDRNatural</label>
                      <group>CharSheet</group>
                      <sortby>t2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>87</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>87</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:removeFromInitiative()]
[h: sortInitiative()]
[macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]
&lt;!-- passes  --&gt;</command>
                      <label>initRemove</label>
                      <group>GM Functions</group>
                      <sortby>init2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>81</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>81</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up list of dialog box width and form action--&gt;
[h:dialogSpecs=&quot;width=300; height=200; temporary=1; input=1; noframe=0&quot;]
[h:formAction=macroLinkText(&quot;setUpToken@&quot;+getMacroLocation(),&quot;none&quot;,&quot;&quot;,currentToken())] 

[dialog(&quot;setUp&quot;, dialogSpecs): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Set Up New Token&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;setUpToken&quot;  action=&quot;[r:formAction]&quot;&gt;

&lt;h1&gt;Set up new token&lt;/h1&gt;

&lt;table cellspacing=&quot;1&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
&lt;td colspan=&quot;1&quot;&gt;Name&lt;/td&gt;
&lt;td colspan=&quot;1&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;tokenName&quot; value=&quot;[r:token.name]&quot;&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr class=&quot;oddRow&quot;&gt;
&lt;td colspan=&quot;1&quot;&gt;Type of Token&lt;/td&gt;
&lt;td colspan=&quot;1&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;pcNPC&quot; value=&quot;PC&quot;&gt;PC &amp;nbsp;
                             &lt;input type=&quot;radio&quot; name=&quot;pcNPC&quot; value=&quot;NPC&quot; checked&gt;NPC&lt;/td&gt;&lt;/tr&gt;

&lt;tr class=&quot;oddRow&quot;&gt;
&lt;td colspan=&quot;1&quot;&gt;Vision&lt;/td&gt;
&lt;td colspan=&quot;1&quot;&gt;
[h:sightTypes=&quot;Normal,sharp(+20%),sharp(+40%),sharp(+60%),sharp(+80%),sharp(+100%),night(+20%),night(+40%),night(+60%),night(+80%),night(+100%),sharpNight(+20%),sharpNight(+40%),sharpNight(+60%),sharpNight(+80%),sharpNight(+100%)&quot;]
&lt;select name=&quot;sightType&quot;&gt;
[r, foreach (sightType, sightTypes, &quot;&quot;), code:{
   &lt;option value=&quot;[r:sightType]&quot;&gt;[r:sightType]&lt;/option&gt;
} ]
&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

All skills defined in the preferences will also be added to the token.

&lt;p align=&quot;center&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;set up token&quot;&gt; &amp;nbsp; &lt;input type=&quot;reset&quot; value=&quot;reset to defaults&quot;&gt;&lt;/p&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;
}]</command>
                      <label>setUpTokenDialog</label>
                      <group>GM functions</group>
                      <sortby>a</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>80</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>80</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:args=json.fromStrProp(macro.args)]

&lt;!-- Set tokenName. --&gt;
[h:setName(json.get(args, &quot;tokenName&quot;), currentToken())]

&lt;!-- Set token as PC or NPC, and assign the correct token property type. --&gt;
[h, if ( json.get(args, &quot;pcNPC&quot;) == &quot;PC&quot;), code : {
   [h:setPC(currentToken())]
   [h:setPropertyType(&quot;PC&quot;)]
};{
   [h:setNPC(currentToken())]
   [h:setPropertyType(&quot;NPC&quot;)]
}]

&lt;!-- Turn on sight, and set chosen sight type. --&gt;
[h:setHasSight(1)]
[h:setSightType(json.get(args, &quot;sightType&quot;))]

&lt;!-- Set token to standing. --&gt;
[h:setState(&quot;standing&quot;,1)]

&lt;!-- Add in a single inventory item, to prevent an apparently Windows-only bug. --&gt;
[h:oldInventory=getProperty(&quot;inventory&quot;)]

[h:fists=json.set(&quot;&quot;,&quot;m1numHands&quot;,1,&quot;r2maxRange&quot;,&quot;&quot;,&quot;r1descr&quot;,&quot;&quot;,&quot;r1RoF&quot;,&quot;&quot;,&quot;m2parryType&quot;,&quot;normal&quot;,&quot;m1descr&quot;,&quot;fist&quot;,&quot;m2damageType&quot;,&quot;&quot;,&quot;m2maxReach&quot;,1,&quot;r1shots&quot;,&quot;&quot;,&quot;r1halfRange&quot;,&quot;&quot;,&quot;r2AD&quot;,1,&quot;m1damageType&quot;,&quot;cr&quot;,&quot;ID&quot;,1,&quot;r1AD&quot;,1,&quot;quantity&quot;,1,&quot;r2shots&quot;,&quot;&quot;,&quot;r2descr&quot;,&quot;&quot;,&quot;r1skill&quot;,&quot;&quot;,&quot;r1malf&quot;,&quot;&quot;,&quot;r1maxRange&quot;,&quot;&quot;,&quot;r2ST&quot;,&quot;&quot;,&quot;r2damage&quot;,&quot;&quot;,&quot;r1damageType&quot;,&quot;&quot;,&quot;parryBonus&quot;,0,&quot;r1acc&quot;,&quot;&quot;,&quot;r1ST&quot;,&quot;&quot;,&quot;r1bulk&quot;,&quot;&quot;,&quot;m2descr&quot;,&quot;&quot;,&quot;r1damage&quot;,&quot;&quot;,&quot;weight&quot;,0,&quot;m1AD&quot;,1,&quot;r2RoF&quot;,&quot;&quot;,&quot;m1maxReach&quot;,0,&quot;r2halfRange&quot;,&quot;&quot;,&quot;m1skill&quot;,10,&quot;m1damage&quot;,&quot;1d6-3&quot;,&quot;m1parryType&quot;,&quot;normal&quot;,&quot;r2damageType&quot;,&quot;&quot;,&quot;name&quot;,&quot;punch&quot;,&quot;m2damage&quot;,&quot;&quot;,&quot;r2skill&quot;,&quot;&quot;,&quot;m2skill&quot;,&quot;&quot;,&quot;r2acc&quot;,&quot;&quot;,&quot;m2minReach&quot;,1,&quot;m1minReach&quot;,0,&quot;weapon&quot;,&quot;save&quot;,&quot;r2bulk&quot;,&quot;&quot;,&quot;notes&quot;,&quot;&quot;,&quot;m2AD&quot;,1,&quot;r2malf&quot;,&quot;&quot;)]
[h:feet=json.set(&quot;&quot;,&quot;m1numHands&quot;,1,&quot;r2maxRange&quot;,&quot;&quot;,&quot;r1descr&quot;,&quot;&quot;,&quot;r1RoF&quot;,&quot;&quot;,&quot;m2parryType&quot;,&quot;normal&quot;,&quot;m1descr&quot;,&quot;boot&quot;,&quot;m2damageType&quot;,&quot;&quot;,&quot;m2maxReach&quot;,1,&quot;r1shots&quot;,&quot;&quot;,&quot;r1halfRange&quot;,&quot;&quot;,&quot;r2AD&quot;,1,&quot;m1damageType&quot;,&quot;cr&quot;,&quot;ID&quot;,2,&quot;r1AD&quot;,1,&quot;quantity&quot;,1,&quot;r2shots&quot;,&quot;&quot;,&quot;r2descr&quot;,&quot;&quot;,&quot;r1skill&quot;,&quot;&quot;,&quot;r1malf&quot;,&quot;&quot;,&quot;r1maxRange&quot;,&quot;&quot;,&quot;r2ST&quot;,&quot;&quot;,&quot;r2damage&quot;,&quot;&quot;,&quot;r1damageType&quot;,&quot;&quot;,&quot;parryBonus&quot;,0,&quot;r1acc&quot;,&quot;&quot;,&quot;r1ST&quot;,&quot;&quot;,&quot;r1bulk&quot;,&quot;&quot;,&quot;m2descr&quot;,&quot;&quot;,&quot;r1damage&quot;,&quot;&quot;,&quot;weight&quot;,0,&quot;m1AD&quot;,1,&quot;r2RoF&quot;,&quot;&quot;,&quot;m1maxReach&quot;,1,&quot;r2halfRange&quot;,&quot;&quot;,&quot;m1skill&quot;,8,&quot;m1damage&quot;,&quot;1d6+1&quot;,&quot;m1parryType&quot;,&quot;none&quot;,&quot;r2damageType&quot;,&quot;&quot;,&quot;name&quot;,&quot;kick&quot;,&quot;m2damage&quot;,&quot;&quot;,&quot;r2skill&quot;,&quot;&quot;,&quot;m2skill&quot;,&quot;&quot;,&quot;r2acc&quot;,&quot;&quot;,&quot;m2minReach&quot;,1,&quot;m1minReach&quot;,0,&quot;weapon&quot;,&quot;save&quot;,&quot;r2bulk&quot;,&quot;&quot;,&quot;notes&quot;,&quot;&quot;,&quot;m2AD&quot;,1,&quot;r2malf&quot;,&quot;&quot;)]
[h:oldInventory=json.append(oldInventory, fists)]
[h:oldInventory=json.append(oldInventory, feet)]
[h:setProperty(&quot;inventory&quot;,oldInventory)]

&lt;!-- Set default skills  --&gt;
[h:defaultSkills=getLibProperty(&quot;skills&quot;,&quot;Lib:GURPS&quot;)]
[h:setProperty(&quot;skills&quot;,defaultSkills)]
</command>
                      <label>setUpToken</label>
                      <group>GM functions</group>
                      <sortby>b</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>83</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>83</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Set form to change the attributes.
       If dialog is called with an arg of &quot;new&quot;, set up default values for new attributes.
       Else, get the item&apos;s information from the token. --&gt;
[h:formAction=macroLinkText(&apos;editDRNatural@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 

[if( macro.args==&quot;new&quot;),code,h:{
[h:bodyType=&quot;humanoid&quot;]

};{
[h:bodyType=getProperty(&quot;bodyType&quot;)]
} ]

&lt;!-- Create dialog box. --&gt;
[dialog(&quot;DRNaturalDialog&quot;, &quot;width=300; height=300; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Add/Edit Natural DR for [r:getName()]&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;DRNatural&quot;  action=&quot;[r:formAction]&quot;&gt;

&lt;h1&gt;Natural Damage Resistance for [r:getName()]&lt;/h1&gt;

&lt;table width=&quot;99%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;eye&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-9&lt;/td&gt;
     &lt;td width=&quot;50&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;eye&quot; value=&quot;[r:json.get(DRNatural,&quot;eye&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;torso, front&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp;0&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;torso&quot; value=&quot;[r:json.get(DRNatural,&quot;torso&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;skull&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-7&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;skull&quot; value=&quot;[r:json.get(DRNatural,&quot;skull&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;torso, back&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;&amp;nbsp;0&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;back&quot; value=&quot;[r:json.get(DRNatural,&quot;back&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;face&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;face&quot; value=&quot;[r:json.get(DRNatural,&quot;face&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;td&gt;vitals&lt;/td&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;vitals&quot; value=&quot;[r:json.get(DRNatural,&quot;vitals&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;neck&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-5&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;neck&quot; value=&quot;[r:json.get(DRNatural,&quot;neck&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;groin&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-3&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;groin&quot; value=&quot;[r:json.get(DRNatural,&quot;groin&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;arm, right&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;right arm&quot; value=&quot;[r:json.get(DRNatural,&quot;right arm&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;leg, right&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;right leg&quot; value=&quot;[r:json.get(DRNatural,&quot;right leg&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;evenRow&quot;&gt;
     &lt;th&gt;arm, left&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;left arm&quot; value=&quot;[r:json.get(DRNatural,&quot;left arm&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;leg, left&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-2&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;left leg&quot; value=&quot;[r:json.get(DRNatural,&quot;left leg&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
     &lt;th&gt;hand&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;hand&quot; value=&quot;[r:json.get(DRNatural,&quot;hand&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;
     &lt;th&gt;foot&lt;/th&gt;
     &lt;td class=&quot;light&quot;&gt;-4&lt;/td&gt;
     &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;foot&quot; value=&quot;[r:json.get(DRNatural,&quot;foot&quot;)]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>DRNaturalDialog</label>
                      <group>CharSheet</group>
                      <sortby>t</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>82</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>82</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[frame(&quot;Preferences&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;csGrayCSS@[r: getMacroLocation()]&quot;&gt;
&lt;!--   &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;csBrownCSS@[r: getMacroLocation()]&quot;&gt; --&gt;
&lt;/head&gt;
&lt;body&gt;
   [macro(&quot;prefsSkills@this&quot;):&quot;&quot;]
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>prefs</label>
                      <group>GM functions</group>
                      <sortby></sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>93</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>93</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Set form to change the spell.
       If dialog is called with an arg of &quot;new&quot;, set up default values for new spell.
       Else, get the spell&apos;s information from the token. --&gt;

[if( macro.args==&quot;new&quot; || macro.args==&quot;&quot;),code,h:{
[h:spellIndexChosen=&quot;&quot;]
[h:name=&quot;&quot;]
[h:class=&quot;&quot;]
[h:college=&quot;&quot;]
[h:level=0]
[h:costCast=&quot;1&quot;]
[h:costMaintain=&quot;1&quot;]
[h:castingTime=&quot;1&quot;]
[h:resistedBy=&quot;-&quot;]
[h:effects=&quot;&quot;]
[h:duration=&quot;&quot;]
[h:notes=&quot;&quot;]
[h:formAction=macroLinkText(&apos;addSkill@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
};{
[h:spellIndexChosen=macro.args]
[h:spellChosen=json.get(spells,spellIndexChosen)]
[h:name=json.get(spellChosen,&quot;name&quot;)]
[h:class=json.get(spellChosen,&quot;class&quot;)]
[h:college=json.get(spellChosen,&quot;college&quot;)]
[h:level=json.get(spellChosen,&quot;level&quot;)]
[h:costCast=json.get(spellChosen,&quot;costCast&quot;)]
[h:costMaintain=json.get(spellChosen,&quot;costMaintain&quot;)]
[h:castingTime=json.get(spellChosen,&quot;castingTime&quot;)]
[h:resistedBy=json.get(spellChosen,&quot;resistedBy&quot;)]
[h:effects=json.get(spellChosen,&quot;effects&quot;)]
[h:duration=json.get(spellChosen,&quot;duration&quot;)]
[h:notes=json.get(spellChosen,&quot;notes&quot;)]
[h:formAction=macroLinkText(&apos;editSpell@&apos;+getMacroLocation(),&apos;none&apos;,&apos;&apos;,currentToken())] 
} ]
[h:resistedList=&quot;-,ST,DX,IQ,HT+2,HT,Will+1,Will,Will-1,Will-2,Will+Magery,Per,ST or Will,HT or DX,HT or IQ,(ST+Will)/2,Special,Spell Level&quot;]

&lt;!-- Create dialog box. --&gt;
[dialog(&quot;editAttributes&quot;, &quot;width=700; height=250; temporary=1; input=1; noframe=0&quot;): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;Add/Edit Spell for [r:getName()]&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form name=&quot;properties&quot;  action=&quot;[r:formAction]&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;spellIndexChosen&quot; value=&quot;[r:spellIndexChosen]&quot;&gt;

&lt;h1&gt;Spell Details for [r:getName()]&lt;/h1&gt;
&lt;table width=&quot;99%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th valign=&quot;bottom&quot;&gt;name&lt;/th&gt;
   &lt;th valign=&quot;bottom&quot;&gt;class&lt;/th&gt;
   &lt;th valign=&quot;bottom&quot;&gt;college&lt;/th&gt;
   &lt;th valign=&quot;bottom&quot;&gt;level&lt;/th&gt;
   &lt;th valign=&quot;bottom&quot;&gt;cost to cast/maintain&lt;/th&gt;
   &lt;th valign=&quot;bottom&quot;&gt;casting time&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;[r:name]&quot; size=&quot;10&quot; maxlength=&quot;40&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;class&quot; value=&quot;[r:class]&quot; size=&quot;10&quot; maxlength=&quot;40&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;college&quot; value=&quot;[r:college]&quot; size=&quot;10&quot; maxlength=&quot;40&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;level&quot; value=&quot;[r:level]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
   &lt;td align=&quot;left&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;costCast&quot; value=&quot;[r:costCast]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt; &amp;nbsp;
           &lt;input type=&quot;text&quot; name=&quot;costMaintain&quot; value=&quot;[r:costMaintain]&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;castingTime&quot; value=&quot;[r:castingTime]&quot; size=&quot;4&quot; maxlength=&quot;5&quot;&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;
   &lt;th valign=&quot;bottom&quot;&gt;resisted by&lt;/th&gt;
   &lt;th valign=&quot;bottom&quot;&gt;effects&lt;/th&gt;
   &lt;th valign=&quot;bottom&quot;&gt;duration&lt;/th&gt;
   &lt;th colspan=&quot;3&quot; valign=&quot;bottom&quot;&gt;notes&lt;/th&gt;&lt;/tr&gt;
&lt;tr class=&quot;oddRow&quot;&gt;
   &lt;td&gt;&lt;select name=&quot;resistedBy&quot;&gt;
     [r, foreach (type, resistedList, &quot;&quot;), code:{
        [h, if (type==resistedBy): isSelected=&quot;selected&quot;; isSelected=&quot;&quot;]
        &lt;option value=&apos;[r:type]&apos; [r:isSelected]&gt;[r:type]&lt;/option&gt;
     } ]&lt;/select&gt;&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;effects&quot; value=&quot;[r:effects]&quot; size=&quot;10&quot; maxlength=&quot;40&quot;&gt;&lt;/td&gt;
   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;duration&quot; value=&quot;[r:duration]&quot; size=&quot;4&quot; maxlength=&quot;5&quot;&gt;&lt;/td&gt;
   &lt;td colspan=&quot;3&quot; &gt;&lt;input type=&quot;text&quot; name=&quot;notes&quot; value=&quot;[r:notes]&quot; size=&quot;30&quot; maxlength=&quot;50&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&amp;nbsp;
&lt;input type=&quot;reset&quot; value=&quot;reset&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
}]</command>
                      <label>spellDialog</label>
                      <group>CharSheet</group>
                      <sortby>w</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>92</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>92</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:arg=macro.args]
[h:args=json.fromStrProp(macro.args)]

[h:propName=json.get(args,&quot;property&quot;)] 
[h:propArrayModified=getProperty(propName)]
[h:indexObjMoved=json.get(args,&quot;indexObjMoved&quot;)]
[h:indexObjDisplaced=json.get(args,&quot;indexObjMoved&quot;)-1]

[h:objMoved=json.get(propArrayModified, indexObjMoved)]
[h:objDisplaced=json.get(propArrayModified, indexObjMoved-1)]
[h:propArrayModified=json.set(propArrayModified, indexObjMoved-1, objMoved, indexObjMoved, objDisplaced)]
[h:setProperty(propName,propArrayModified)]


[h,if(getName()!=&quot;Lib:GURPS&quot;), code:{
  [h:origin=propName]
};{
  [h:origin=&quot;prefs&quot;]
}]

[switch(origin), h, code :
  case &quot;inventory&quot; : {
    [MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Inventory&quot;]
  };
  case &quot;skills&quot; : {
    [MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Skills&quot;]
  };
  case &quot;spells&quot; : {
    [MACRO(&quot;CharSheet@&quot; + getMacroLocation()): &quot;tab=Spells&quot;]
  };
  case &quot;prefs&quot; : {
    [MACRO(&quot;prefs@&quot; + getMacroLocation()): &quot;&quot;]
  };
  default : {
    &quot;&quot;
  }]</command>
                      <label>moveUpInArray</label>
                      <group>CharSheet</group>
                      <sortby>zArrayProcessing</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>95</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>95</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up list of dialog box width and form action--&gt;
[h:dialogSpecs=&quot;width=300; height=260; temporary=1; input=1; noframe=0&quot;]

[dialog(&quot;setUp&quot;, dialogSpecs): {
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;DialogCSS@Lib:GURPS&quot;&gt;
&lt;title&gt;GURPS Framework for MapTool, Limited Version&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;The GURPS Framework for MapTool, Limited Version&lt;/h1&gt;

&lt;p&gt;The material presented here is my original creation, intended for use with the &lt;A HREF=&quot;http://www.sjgames.com/gurps&quot;&gt;GURPS&lt;/A&gt; system from &lt;A HREF=&quot;http://www.sjgames.com&quot;&gt;Steve Jackson Games&lt;/A&gt;. This material is not official and is not endorsed by Steve Jackson Games.&lt;/p&gt;

&lt;p&gt;GURPS is a trademark of Steve Jackson Games, and its rules and art are copyrighted by Steve Jackson Games.  All rights are reserved by Steve Jackson Games. This game aid is the original creation of Winter and is released for free distribution, and not for resale, under the permissions granted in the &lt;a href=&quot;http://www.sjgames.com/general/online_policy.html&quot;&gt;Steve Jackson Games Online Policy&lt;/a&gt;.&lt;/p&gt;

&lt;form name=&quot;disclaimers&quot; action=&quot;none&quot;&gt;
&lt;p align=&quot;center&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;close&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
}]</command>
                      <label>onCampaignLoad</label>
                      <group>GM Functions</group>
                      <sortby></sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey></fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>false</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>94</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>94</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:indexToUnready=macro.args]

[h:itemToUnready=json.get(getProperty(&quot;inventory&quot;),indexToUnready)]
[h:IDToUnready=json.get(itemToUnready,&quot;ID&quot;)]
[if(json.contains(itemToUnready,&quot;shieldDB&quot;)),h:
   readiedShieldDB=json.get(itemReadied,&quot;shieldDB&quot;);
   readiedShieldDB=0]

 &lt;!-- If the item is readied, remove it from the items readied and add it to the items carried. 
         In the symbolism of the inventory list: R to c.    --&gt;

[if(json.contains(itemsReadied, IDToUnready)),r,code:{
  [h:itemsReadied=json.remove(itemsReadied,json.indexOf(itemsReadied,IDToUnready))]
  [h:itemsCarried=json.append(itemsCarried,IDToUnready)]
  [h: setProperty(&quot;shieldDB&quot;,getProperty(&quot;shieldDB&quot;)-readiedShieldDB)]
};{}]

[if(json.contains(itemToUnready,&quot;armor&quot;)),h, code: {[macro(&quot;calcDR@&quot;+ getMacroLocation()):&quot;&quot;]};{&quot;&quot;}]</command>
                      <label>unreadyItemSilent</label>
                      <group>Equipment</group>
                      <sortby>all</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>89</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>89</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: nextInitiative()]

[if( isGM() ),h,code:{
  [macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]
};{}]
[h:selectTokens(getInitiativeToken())]

[if(1==0), h, code : {
  [h:switchToken (getInitiativeToken())]
  [macro(&quot;CharSheet@this&quot;):&quot;tab=Main&quot;]
};{}]

&lt;!-- passes  --&gt;</command>
                      <label>initNext</label>
                      <group>GM Functions</group>
                      <sortby>init2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>88</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>88</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[if( isGM() ),h,code:{
  [h: addToInitiative()]
  [h: setInitiative(basicSpeed+(DX/10000))]
  [h: sortInitiative()]
  [macro(&quot;initFrame@this&quot;):&quot;&quot;]
};{}]</command>
                      <label>initAdd</label>
                      <group>GM Functions</group>
                      <sortby>init2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>91</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>91</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>[if (currentToken()==getInitiativeToken() ), h, code : {
  [MACRO(&quot;initNext@Lib:GURPS&quot;): &quot;&quot;]
  [macro(&quot;CharSheet@this&quot;):&quot;tab=Main&quot;]
};{}]
</command>
                      <label>endTurn</label>
                      <group>Actions</group>
                      <sortby>l</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>false</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>90</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>90</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up conditions to select either PCs or NPCs as requested. --&gt;

  [h:arg=macro.args]
  [if( arg == &quot;NPC&quot; ), h, code : {
    [h:tokenSpecs=json.set(&quot;{}&quot;,&quot;npc&quot;,1)]
  };{
    [h:tokenSpecs=json.set(&quot;{}&quot;,&quot;pc&quot;,1)]
  }]
  [h:initList=getTokens(&quot;,&quot;,tokenSpecs)]

&lt;!-- Setting up conditions to select either PCs or NPCs as requested. --&gt;
  [foreach(initToken, initList,&quot;&quot;),code:{
    [h:switchToken(initToken)]
    [h: addToInitiative(initToken)]
    [h: setInitiative(basicSpeed+(DX/10000))]
  }]

  [h: sortInitiative()]
  [macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]</command>
                      <label>initAddGroup</label>
                      <group>GM Functions</group>
                      <sortby>init2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>96</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>96</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h:skillList=getProperty(&quot;skills&quot;)]
[h: editMacro=&quot;skillDialog@this&quot;]

The following skills will be added to all new tokens introduced into the campaign. 
&lt;table id=&quot;equipment&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;
&lt;tr&gt;
   &lt;th class=&quot;hdr&quot;&gt;Skills&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;center&quot;&gt;base&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;center&quot;&gt;lvl&lt;/th&gt;
   &lt;th class=&quot;hdr&quot; align=&quot;right&quot; colspan=&quot;3&quot;&gt;&amp;nbsp;&lt;/th&gt;&lt;/tr&gt;

[h:class=&quot;oddRow&quot;]
[foreach(skill, skillList,&quot;&quot;), code: {
  [h:count=roll.count]
  [h:moveUpArgs=&quot;property=skills;indexObjMoved=&quot;+count]
 &lt;tr class=[r:class]&gt;
   &lt;td width=&quot;*&quot; valign=&quot;top&quot;&gt;[r:json.get(skill,&quot;name&quot;)]&lt;/td&gt;
   &lt;td width=&quot;15&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(skill,&quot;attribute&quot;)]&lt;/td&gt;
   &lt;td width=&quot;15&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(skill,&quot;level&quot;)]&lt;/td&gt;
   &lt;td width=&quot;10&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(&quot;e&quot;, editMacro, &quot;none&quot;,count,currentToken())]&lt;/td&gt;
   &lt;td width=&quot;10&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;
   [if (count==0), r, code : { 
      &lt;br&gt; 
   } ; {
      &lt;a href=&quot;[r:macroLinkText(&quot;moveUpInArray@this&quot;,&quot;none&quot;,moveUpArgs,currentToken())]&quot; style=&quot;color:gray&quot;&gt;^&lt;/a&gt;
   }]
   &lt;/td&gt;
   &lt;td width=&quot;10&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:macroLinkText(&quot;deleteSkill@this&quot;, &quot;none&quot;,count,currentToken())]&quot; class=&quot;del&quot;&gt;x&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
   [if(class==&quot;evenRow&quot;), h : class=&quot;oddRow&quot;; class=&quot;evenRow&quot;]
}]
&lt;/table&gt;
[r:macroLink(&quot;+skill&quot;, &quot;skillDialog@this&quot;, &quot;self&quot;, &quot;&quot;, currentToken())]



  
</command>
                      <label>prefsSkills</label>
                      <group>GM Functions</group>
                      <sortby>4</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>true</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>false</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>106</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>106</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up list of tokens in initiative order--&gt;
[h: initListObj=getInitiativeList()]
[h: initList=json.get(initListObj,&quot;tokens&quot;)]
[h:lib=getMacroLocation()]

[frame(&quot;initiative&quot;): {
  &lt;html&gt;
  &lt;head&gt;
 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;csGrayCSS@[r: lib]&quot;&gt;
 &lt;!--   &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;csBrownCSS@[r: lib]&quot;&gt; --&gt;
   &lt;/head&gt;
   &lt;body&gt;

  &lt;table width=&quot;750&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
  &lt;tr&gt;
   &lt;td class=&quot;button&quot; width=&quot;100&quot; align=&quot;left&quot;&gt;
      [r:macroLink(&quot;&amp;nbsp; next &amp;nbsp;&quot;,&quot;initNext@&quot;+lib,&quot;none&quot;, &quot;&quot;)] &amp;nbsp;
      [r:macroLink(&quot;&amp;nbsp; refresh &amp;nbsp;&quot;,&quot;initFrame@&quot;+lib,&quot;none&quot;, &quot;&quot;)]&lt;/td&gt;
    &lt;td width=&quot;*&quot;&gt;&amp;nbsp;&lt;/td&gt;
   &lt;td class=&quot;button&quot; width=&quot;55&quot; align=&quot;right&quot;&gt;[r:macroLink(&quot;&amp;nbsp; round &quot; + getInitiativeRound() + &quot; &amp;nbsp;&quot;,&quot;initSetRound@&quot;+lib,&quot;none&quot;, &quot;&quot;)]&lt;/td&gt;&lt;/tr&gt;
   &lt;/table&gt;

   &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;1&quot; width=&quot;750&quot;&gt;
   &lt;tr&gt;
   &lt;th width=&quot;30&quot; class=&quot;hdr&quot;&gt;&amp;nbsp;&lt;/th&gt;
   &lt;th width=&quot;80&quot; class=&quot;hdr&quot;&gt;name&lt;/th&gt;
   &lt;th width=&quot;16&quot; class=&quot;hdr&quot;&gt;ST&lt;/th&gt;
   &lt;th width=&quot;16&quot; class=&quot;hdr&quot;&gt;DX&lt;/th&gt;
   &lt;th width=&quot;16&quot; class=&quot;hdr&quot;&gt;IQ&lt;/th&gt;
   &lt;th width=&quot;16&quot; class=&quot;hdr&quot;&gt;HT&lt;/th&gt;
   &lt;th width=&quot;18&quot; class=&quot;hdr&quot;&gt;Will&lt;/th&gt;
   &lt;th width=&quot;18&quot; class=&quot;hdr&quot;&gt;Fright&lt;/th&gt;
   &lt;th width=&quot;20&quot; class=&quot;hdr&quot;&gt;Per&lt;/th&gt;
   &lt;th width=&quot;35&quot; class=&quot;hdr&quot; align=&quot;left&quot;&gt;&amp;nbsp;HP&lt;/th&gt;
   &lt;th width=&quot;35&quot; class=&quot;hdr&quot; align=&quot;left&quot;&gt;&amp;nbsp;FP&lt;/th&gt;
   &lt;th width=&quot;15&quot; class=&quot;hdr&quot;&gt;speed&lt;/th&gt;
   &lt;th width=&quot;20&quot; class=&quot;hdr&quot; align=&quot;center&quot;&gt;move&lt;/th&gt;
   &lt;th width=&quot;15&quot; class=&quot;hdr&quot;&gt;enc&lt;/th&gt;
   &lt;th width=&quot;15&quot; class=&quot;hdr&quot;&gt;dodge&lt;/th&gt;
   &lt;th width=&quot;15&quot; class=&quot;hdr&quot;&gt;DR&lt;/th&gt;
   &lt;th width=&quot;130&quot; class=&quot;hdr&quot;&gt;maneuver&lt;/th&gt;
   &lt;th width=&quot;45&quot; class=&quot;hdr&quot;&gt;posture&lt;/th&gt;
   &lt;th class=&quot;hdr&quot;&gt;conditions&lt;/th&gt;
   &lt;th width=&quot;20&quot; class=&quot;hdr&quot;&gt;shock&lt;/th&gt;
   &lt;th width=&quot;5&quot; class=&quot;hdr&quot;&gt;&amp;nbsp;&lt;/th&gt;&lt;/tr&gt;

   [foreach(initEntry, initList,&quot;&quot;,&quot;&quot;), code: {
      [h:currID=json.get(initEntry, &quot;tokenId&quot;)]
      [h:currMan=json.get(getProperty(&quot;currManeuver&quot;,currID),&quot;name&quot;)]
      [h, if (currID==getInitiativeToken()): nameDisplay=&quot;&lt;b&gt;&quot;+getName(currID)+&quot;&lt;/b&gt;&quot; ; nameDisplay=getName(currID)]
      [h, if (currID==getInitiativeToken()): currManDisplay=&quot;&lt;b&gt;&quot;+currMan+&quot;&lt;/b&gt;&quot; ; currManDisplay=currMan]

      [h, if(floor(roll.count/2)==roll.count/2):rowClass=&quot;oddRow&quot;;rowClass=&quot;evenRow&quot;]
      [h, if (currID==getInitiativeToken()): rowClass=&quot;darkRow&quot; ; rowClass=rowClass]

      [h:findTokenURL=macroLinkText(&quot;findToken@&quot;+lib,&quot;none&quot;,currID)]
      [h:charSheetURL=macroLinkText(&quot;CharSheet@&quot;+lib,&quot;none&quot;,&quot;tab = Main&quot;,currID)]
      [h:maneuverURL=macroLinkText(&quot;maneuverDialog@&quot;+lib,&quot;none&quot;,&quot;&quot;,currID)]
      [h:shockURL=macroLinkText(&quot;shock@&quot;+lib,&quot;none&quot;,&quot;&quot;,currID)]

      &lt;tr class=&quot;[r:rowClass]&quot;&gt;
      &lt;td&gt;&lt;a href=&quot;[r:findTokenURL]&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;[r, token(currID):getTokenImage(25)]&quot;&gt;&lt;/img&gt;&lt;/a&gt;&lt;/td&gt;
      &lt;td valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:CharSheetURL]&quot;&gt;[r:nameDisplay]&lt;/a&gt;&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;ST&quot;,currID), &quot;SkillRoll@&quot;+lib, &quot;all&quot;, &quot;name=ST;level=&quot; + getProperty(&quot;ST&quot;,currID) + &quot;;modifier=ask&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;DX&quot;,currID), &quot;SkillRoll@&quot;+lib, &quot;all&quot;, &quot;name=DX;level=&quot; + getProperty(&quot;DX&quot;,currID) + &quot;;modifier=ask&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;IQ&quot;,currID), &quot;SkillRoll@&quot;+lib, &quot;all&quot;, &quot;name=IQ;level=&quot; + getProperty(&quot;IQ&quot;,currID) + &quot;;modifier=ask&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;HT&quot;,currID), &quot;SkillRoll@&quot;+lib, &quot;all&quot;, &quot;name=HT;level=&quot; + getProperty(&quot;HT&quot;,currID) + &quot;;modifier=ask&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;Will&quot;,currID), &quot;SkillRoll@&quot;+lib, &quot;all&quot;, &quot;name=Will;level=&quot; + getProperty(&quot;Will&quot;,currID) + &quot;;modifier=ask&quot;,currID)]&lt;/td&gt;
      &lt;td  align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;Fright&quot;,currID), &quot;SkillRoll@&quot;+lib, &quot;all&quot;, &quot;name=Fright;level=&quot; + getProperty(&quot;Fright&quot;,currID) + &quot;;modifier=ask&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;Per&quot;,currID), &quot;SkillRoll@&quot;+lib, &quot;all&quot;, &quot;name=Per;level=&quot; + getProperty(&quot;Per&quot;,currID) + &quot;;modifier=ask&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;&lt;a class=&quot;[r:getProperty(&quot;colorHP&quot;,currID)]&quot; href=&quot;[r:macroLinkText(&quot;HP@&quot;+lib, &quot;all&quot;, &quot;&quot;,currID)]&quot;&gt;[r:getProperty(&quot;HP&quot;,currID)]&lt;/a&gt;&lt;/b&gt;&lt;span class=&quot;gray&quot;&gt;/[r:getProperty(&quot;maxHP&quot;,currID)]&lt;/span&gt;&lt;/td&gt;
      &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;&lt;a class=&quot;[r:getProperty(&quot;colorFP&quot;,currID)]&quot; href=&quot;[r:macroLinkText(&quot;FP@&quot;+lib, &quot;all&quot;, &quot;&quot;,currID)]&quot;&gt;[r:getProperty(&quot;FP&quot;,currID)]&lt;/a&gt;&lt;/b&gt;&lt;span class=&quot;gray&quot;&gt;/[r:getProperty(&quot;maxFP&quot;,currID)]&lt;/span&gt;&lt;/td&gt;
      &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;[r:getProperty(&quot;basicSpeed&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;[r:getProperty(&quot;currMove&quot;,currID)]&lt;span class=&quot;gray&quot;&gt;/[r:getProperty(&quot;basicMove&quot;,currID)]&lt;/span&gt;&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:getProperty(&quot;encumbrance&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;dodge&quot;,currID),&quot;defDialog@&quot; + lib, &quot;none&quot;, &quot;type=Dodge;level=&quot; +getProperty(&quot;dodge&quot;,currID),currID)]&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;[r:json.get(getProperty(&quot;DR&quot;,currID), &quot;torso&quot;)]&lt;/td&gt;
      &lt;td valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:maneuverURL]&quot;&gt;[r:currManDisplay]&lt;/a&gt;&lt;/td&gt;
      &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;[r:macroLink(getProperty(&quot;posture&quot;,currID), &quot;posture@&quot;+lib, &quot;all&quot;, &quot;&quot;,currID)]&lt;/td&gt;
      &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;[r:json.toList(getProperty(&quot;conditions&quot;,currID),&quot;, &quot;)]&lt;/td&gt;
      &lt;td align=&quot;center&quot; valign=&quot;top&quot;&gt;&lt;a href=&quot;[r:shockURL]&quot;&gt;[r,if(getProperty(&quot;shock&quot;, currID)!=0):&quot;&lt;span style=color:red&gt;&quot;+getProperty(&quot;shock&quot;, currID)+&quot;&lt;/span&gt;&quot;;&quot;-&quot;]&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;[r:macroLinkText(&quot;initRemove@&quot;+ lib, &quot;none&quot;,&quot;&quot;,currID)]&quot; class=&quot;del&quot;&gt;&lt;b&gt;x&lt;/b&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
   }]
   &lt;/table&gt;

  &lt;table width=&quot;750&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
  &lt;tr&gt;
   &lt;td class=&quot;button&quot; width=&quot;100&quot; align=&quot;left&quot;&gt;
      [r:macroLink(&quot;&amp;nbsp; next &amp;nbsp;&quot;,&quot;initNext@&quot;+lib,&quot;none&quot;, &quot;&quot;)] &amp;nbsp;
      [r:macroLink(&quot;&amp;nbsp; refresh &amp;nbsp;&quot;,&quot;initFrame@&quot;+lib,&quot;none&quot;, &quot;&quot;)]&lt;/td&gt;
    &lt;td width=&quot;*&quot;&gt;&amp;nbsp;&lt;/td&gt;
   &lt;td class=&quot;button&quot; width=&quot;55&quot; align=&quot;right&quot;&gt;[r:macroLink(&quot;&amp;nbsp; round &quot; + getInitiativeRound() + &quot; &amp;nbsp;&quot;,&quot;initSetRound@&quot;+lib,&quot;none&quot;, &quot;&quot;)]&lt;/td&gt;&lt;/tr&gt;
   &lt;/table&gt;

&lt;/body&gt;
&lt;/html&gt; 
}]

&lt;!-- passes  --&gt;</command>
                      <label>initFrame</label>
                      <group>GM Functions</group>
                      <sortby>init1</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>107</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>107</index>
                      <colorKey>lightgray</colorKey>
                      <hotKey>None</hotKey>
                      <command>&lt;!-- Setting up incoming properties weaponUsedName, damageDice, damageType --&gt;
[h:args=json.fromStrProp(macro.args)]

[h:weaponUsedName=json.get(args,&quot;weaponUsedName&quot;))]
[h:damageDice=json.get(args,&quot;damageDice&quot;)]
[h:damageType=json.get(args,&quot;damageType&quot;)]

&lt;!--Output results --&gt;
The [r:weaponUsedName] inflicts [r,t:eval(damageDice)] [r:damageType] raw damage.</command>
                      <label>rollDamage</label>
                      <group>Actions</group>
                      <sortby>5attack3</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>true</applyToTokens>
                      <fontColorKey>black</fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>true</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                  <entry>
                    <int>105</int>
                    <net.rptools.maptool.model.MacroButtonProperties>
                      <saveLocation>Token</saveLocation>
                      <index>105</index>
                      <colorKey>default</colorKey>
                      <hotKey>None</hotKey>
                      <command>[h: setInitiativeRound(new_current_round)]
[macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]</command>
                      <label>initSetRound</label>
                      <group>GM Functions</group>
                      <sortby>init2</sortby>
                      <autoExecute>true</autoExecute>
                      <includeLabel>false</includeLabel>
                      <applyToTokens>false</applyToTokens>
                      <fontColorKey></fontColorKey>
                      <fontSize>1.00em</fontSize>
                      <minWidth></minWidth>
                      <maxWidth></maxWidth>
                      <allowPlayerEdits>false</allowPlayerEdits>
                      <toolTip></toolTip>
                      <commonMacro>false</commonMacro>
                      <compareGroup>true</compareGroup>
                      <compareSortPrefix>true</compareSortPrefix>
                      <compareCommand>true</compareCommand>
                      <compareIncludeLabel>true</compareIncludeLabel>
                      <compareAutoExecute>true</compareAutoExecute>
                      <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
                    </net.rptools.maptool.model.MacroButtonProperties>
                  </entry>
                </macroPropertiesMap>
                <speechMap/>
              </net.rptools.maptool.model.Token>
            </entry>
          </tokenMap>
          <exposedAreaMeta/>
          <tokenOrderedList class="linked-list">
            <net.rptools.maptool.model.Token reference="../../tokenMap/entry[3]/net.rptools.maptool.model.Token"/>
            <net.rptools.maptool.model.Token reference="../../tokenMap/entry/net.rptools.maptool.model.Token"/>
            <net.rptools.maptool.model.Token reference="../../tokenMap/entry[2]/net.rptools.maptool.model.Token"/>
          </tokenOrderedList>
          <initiativeList>
            <tokens>
              <net.rptools.maptool.model.InitiativeList_-TokenInitiative>
                <id>
                  <baGUID>wKgAvy5on5HEKQAAgIgALg==</baGUID>
                </id>
                <holding>false</holding>
                <state>6.5012</state>
                <outer-class reference="../../.."/>
              </net.rptools.maptool.model.InitiativeList_-TokenInitiative>
              <net.rptools.maptool.model.InitiativeList_-TokenInitiative>
                <id>
                  <baGUID>wKgAvz0fyJB7IwAAgIgAPQ==</baGUID>
                </id>
                <holding>false</holding>
                <state>6.2513</state>
                <outer-class reference="../../.."/>
              </net.rptools.maptool.model.InitiativeList_-TokenInitiative>
            </tokens>
            <current>-1</current>
            <round>0</round>
            <zoneId>
              <baGUID>wKgAxJLCgpz3JAAAgIAAgA==</baGUID>
            </zoneId>
            <fullUpdate>false</fullUpdate>
            <hideNPC>false</hideNPC>
          </initiativeList>
          <exposedArea>
            <curves>
              <sun.awt.geom.Order0>
                <direction>1</direction>
                <x>159.0</x>
                <y>-23850.0</y>
              </sun.awt.geom.Order0>
              <sun.awt.geom.Order3>
                <direction>1</direction>
                <x0>159.0</x0>
                <y0>-23850.0</y0>
                <cx0>-13095.83399593904</cx0>
                <cy0>-23850.0</cy0>
                <cx1>-23841.0</cx1>
                <cy1>-13104.83399593904</cy1>
                <x1>-23841.0</x1>
                <y1>150.0</y1>
                <xmin>-23841.0</xmin>
                <xmax>159.0</xmax>
                <xcoeff0>159.0</xcoeff0>
                <xcoeff1>-39764.501987817115</xcoeff1>
                <xcoeff2>7529.003975634238</xcoeff2>
                <xcoeff3>8235.498012182881</xcoeff3>
                <ycoeff0>-23850.0</ycoeff0>
                <ycoeff1>0.0</ycoeff1>
                <ycoeff2>32235.49801218287</ycoeff2>
                <ycoeff3>-8235.498012182881</ycoeff3>
                <TforY1>0.9964013660803815</TforY1>
                <YforT1>7.0</YforT1>
                <TforY2>0.9957717255345495</TforY2>
                <YforT2>-18.0</YforT2>
                <TforY3>0.9929994898351806</TforY3>
                <YforT3>-128.0</YforT3>
              </sun.awt.geom.Order3>
              <sun.awt.geom.Order3>
                <direction>1</direction>
                <x0>-23841.0</x0>
                <y0>150.0</y0>
                <cx0>-23841.0</cx0>
                <cy0>10686.520239185507</cy0>
                <cx1>-17051.169155104788</cx1>
                <cy1>19637.19051241796</cy1>
                <x1>-7608.251076898454</x1>
                <y1>22865.267208113273</y1>
                <xmin>-23841.0</xmin>
                <xmax>-7608.251076898454</xmax>
                <xcoeff0>-23841.0</xcoeff0>
                <xcoeff1>0.0</xcoeff1>
                <xcoeff2>20369.492534685636</xcoeff2>
                <xcoeff3>-4136.74361158409</xcoeff3>
                <ycoeff0>150.0</ycoeff0>
                <ycoeff1>31609.560717556524</ycoeff1>
                <ycoeff2>-4757.54989785916</ycoeff2>
                <ycoeff3>-4136.7436115840865</ycoeff3>
                <TforY1>6.960649233620814E-4</TforY1>
                <YforT1>172.0</YforT1>
                <TforY2>0.004178589279221904</TforY2>
                <YforT2>282.0</YforT2>
                <TforY3>0.001487225240549709</TforY3>
                <YforT3>197.0</YforT3>
              </sun.awt.geom.Order3>
              <sun.awt.geom.Order3>
                <direction>1</direction>
                <x0>-7608.251077659287</x0>
                <y0>22865.267208113273</y0>
                <cx0>-5110.754250174001</cx0>
                <cy0>23745.910927726538</cy0>
                <cx1>-2423.825749309689</cx1>
                <cy1>24225.0</cy1>
                <x1>375.0</x1>
                <y1>24225.0</y1>
                <xmin>-7608.251077659287</xmin>
                <xmax>375.0</xmax>
                <xcoeff0>-7608.251077659287</xcoeff0>
                <xcoeff1>7492.490482455859</xcoeff1>
                <xcoeff2>568.2950201370768</xcoeff2>
                <xcoeff3>-77.53442493364855</xcoeff3>
                <ycoeff0>22865.267208113273</ycoeff0>
                <ycoeff1>2641.931158839794</ycoeff1>
                <ycoeff2>-1204.6639420194078</ycoeff2>
                <ycoeff3>-77.53442493365947</ycoeff3>
                <TforY1>0.2858058977799679</TforY1>
                <YforT1>23520.13360405664</YforT1>
                <TforY2>0.812533602224268</TforY2>
                <YforT2>24175.0</YforT2>
                <TforY3>0.770135781051087</TforY3>
                <YforT3>24150.0</YforT3>
              </sun.awt.geom.Order3>
              <sun.awt.geom.Order3>
                <direction>-1</direction>
                <x0>24375.0</x0>
                <y0>225.0</y0>
                <cx0>24375.0</cx0>
                <cy0>13479.833995939036</cy0>
                <cx1>13629.833995939036</cx1>
                <cy1>24225.0</cy1>
                <x1>375.0</x1>
                <y1>24225.0</y1>
                <xmin>375.0</xmin>
                <xmax>24375.0</xmax>
                <xcoeff0>24375.0</xcoeff0>
                <xcoeff1>0.0</xcoeff1>
                <xcoeff2>-32235.498012182892</xcoeff2>
                <xcoeff3>8235.498012182892</xcoeff3>
                <ycoeff0>225.0</ycoeff0>
                <ycoeff1>39764.50198781711</ycoeff1>
                <ycoeff2>-7529.003975634216</ycoeff2>
                <ycoeff3>-8235.498012182892</ycoeff3>
                <TforY1>0.0014338291704926248</TforY1>
                <YforT1>282.0</YforT1>
                <TforY2>0.7888449036655469</TforY2>
                <YforT2>22865.267208113273</YforT2>
                <TforY3>0.0012199629824963408</TforY3>
                <YforT3>273.5</YforT3>
              </sun.awt.geom.Order3>
              <sun.awt.geom.Order3>
                <direction>-1</direction>
                <x0>12377.473233540584</x0>
                <y0>-20562.79642867526</y0>
                <cx0>19549.72574333201</cx0>
                <cy0>-16412.731477247227</cy0>
                <cx1>24375.0</cx1>
                <cy1>-8657.367333173954</cy1>
                <x1>24375.0</x1>
                <y1>225.0</y1>
                <xmin>12377.473233540584</xmin>
                <xmax>24375.0</xmax>
                <xcoeff0>12377.473233540584</xcoeff0>
                <xcoeff1>21516.75752937427</xcoeff1>
                <xcoeff2>-7040.934759370297</xcoeff2>
                <xcoeff3>-2478.2960035445594</xcoeff3>
                <ycoeff0>-20562.79642867526</ycoeff0>
                <ycoeff1>12450.194854284102</ycoeff1>
                <ycoeff2>10815.897577935713</ycoeff2>
                <ycoeff3>-2478.2960035445576</ycoeff3>
                <TforY1>0.9971844271056406</TforY1>
                <YforT1>150.0</YforT1>
                <TforY2>0.9933144001023632</TforY2>
                <YforT2>47.0</YforT2>
                <TforY3>0.9841172053621648</TforY3>
                <YforT3>-197.3676149258567</YforT3>
              </sun.awt.geom.Order3>
              <sun.awt.geom.Order3>
                <direction>-1</direction>
                <x0>4783.166859245494</x0>
                <y0>-23404.918422052913</y0>
                <cx0>7505.155904822559</cx0>
                <cy0>-22889.276226895934</cy0>
                <cx1>10064.516035944169</cx1>
                <cy1>-21913.977315949953</cy1>
                <x1>12377.472513150038</x1>
                <y1>-20562.79642867526</y1>
                <xmin>4783.166859245494</xmin>
                <xmax>12377.472513150038</xmax>
                <xcoeff0>4783.166859245494</xcoeff0>
                <xcoeff1>8165.967136731194</xcoeff1>
                <xcoeff2>-487.8867433663645</xcoeff2>
                <xcoeff3>-83.77473946028567</xcoeff3>
                <ycoeff0>-23404.918422052913</ycoeff0>
                <ycoeff1>1546.9265854709374</ycoeff1>
                <ycoeff2>1378.9701473670066</ycoeff2>
                <ycoeff3>-83.77473946029204</ycoeff3>
                <TforY1>0.0</TforY1>
                <YforT1>-23404.918422052913</YforT1>
                <TforY2>0.0</TforY2>
                <YforT2>-23404.918422052913</YforT2>
                <TforY3>0.0</TforY3>
                <YforT3>-23404.918422052913</YforT3>
              </sun.awt.geom.Order3>
              <sun.awt.geom.Order3>
                <direction>-1</direction>
                <x0>159.0</x0>
                <y0>-23850.0</y0>
                <cx0>1740.7955779399567</cx0>
                <cy0>-23850.0</cy0>
                <cx1>3286.850015935974</cx1>
                <cy1>-23696.97398894401</cy1>
                <x1>4783.166858767179</x1>
                <y1>-23404.918422052913</y1>
                <xmin>159.0</xmin>
                <xmax>4783.166858767179</xmax>
                <xcoeff0>159.0</xcoeff0>
                <xcoeff1>4745.386733819871</xcoeff1>
                <xcoeff2>-107.22341983181786</xcoeff2>
                <xcoeff3>-13.996455220873031</xcoeff3>
                <ycoeff0>-23850.0</ycoeff0>
                <ycoeff1>0.0</ycoeff1>
                <ycoeff2>459.0780331679707</ycoeff2>
                <ycoeff3>-13.996455220883945</ycoeff3>
                <TforY1>0.9999999968659358</TforY1>
                <YforT1>-23404.918424798874</YforT1>
                <TforY2>0.999999999919984</TforY2>
                <YforT2>-23404.91842212302</YforT2>
                <TforY3>0.9999999996065796</TforY3>
                <YforT3>-23404.918422397615</YforT3>
              </sun.awt.geom.Order3>
            </curves>
            <cachedBounds class="java.awt.geom.Rectangle2D$Double">
              <x>-23841.0</x>
              <y>-23850.0</y>
              <width>48216.0</width>
              <height>48075.0</height>
            </cachedBounds>
          </exposedArea>
          <hasFog>true</hasFog>
          <topology>
            <curves/>
          </topology>
          <backgroundPaint class="net.rptools.maptool.model.drawing.DrawableTexturePaint">
            <assetId>
              <id>c93660c09e3d3f9aff04df49a6c594b4</id>
            </assetId>
            <scale>1.0</scale>
          </backgroundPaint>
          <boardPosition>
            <x>0</x>
            <y>0</y>
          </boardPosition>
          <drawBoard>true</drawBoard>
          <boardChanged>false</boardChanged>
          <name>Basic Setup</name>
          <isVisible>true</isVisible>
          <visionType>DAY</visionType>
          <height>0</height>
          <width>0</width>
        </net.rptools.maptool.model.Zone>
      </entry>
    </zones>
    <campaignProperties>
      <tokenTypeMap>
        <entry>
          <string></string>
          <list/>
        </entry>
        <entry>
          <string>Basic</string>
          <list>
            <net.rptools.maptool.model.TokenProperty>
              <name>HP</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>DR</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
          </list>
        </entry>
        <entry>
          <string>NPC</string>
          <list>
            <net.rptools.maptool.model.TokenProperty>
              <name>ST</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>DX</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>IQ</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HT</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>maxHP</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>maxFP</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HP</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>FP</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>colorHP</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>green</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>colorFP</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>green</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>basicSpeed</name>
              <shortName>Speed</shortName>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>{(DX+HT)/4}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>basicMove</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>{floor(basicSpeed)}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>currMove</name>
              <shortName>Move</shortName>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>{floor(basicMove*(1-0.2*encumbrance))}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>basicLift</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{floor(getProperty(&quot;ST&quot;)*getProperty(&quot;ST&quot;)/5)}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>Per</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>Will</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>Fright</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>sizeMod</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- basic ads, disads, skills, spells ----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>bodyType</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;humanoid&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>injuryTolerance</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;normal&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>painThreshold</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;normal&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HTBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HTUncBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HTDeathBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>gunslinger</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;n&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>heroicArcher</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;n&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>skills</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[{&quot;level&quot;:5,&quot;name&quot;:&quot;stealth&quot;,&quot;attribute&quot;:&quot;DX&quot;,&quot;notes&quot;:&quot;&quot;}]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>inventory</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>itemsCarried</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>itemsReadied</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>spells</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- conditions ----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>encumbrance</name>
              <shortName>enc</shortName>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>posture</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>standing</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>conditions</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>shock</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- attack ----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>currManeuver</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{&quot;ID&quot;:&quot;&quot;,&quot;name&quot;:&quot;Do Nothing&quot;,&quot;descr&quot;:&quot;take no action&quot;,&quot;movement&quot;:&quot;none&quot;,&quot;offSkillBonus&quot;:0,&quot;offSkillLimit&quot;:0,&quot;damageBonus&quot;:0,&quot;defAllowed&quot;:&quot;dpb&quot;,&quot;defBonus&quot;:0}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>lastSuccessfulAttack</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- defense ----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>shieldDB</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>miscDBPerm</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>miscDBTemp</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>postureDB</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>dodgeBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>blockBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>parryBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>dodgeMax</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{floor(basicSpeed)+3+shieldDB+miscDBPerm+dodgeBonus}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>dodge</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>{floor(basicSpeed)+3+shieldDB+miscDBPerm+dodgeBonus-encumbrance}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>DR</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{&quot;eye&quot;:0,&quot;skull&quot;:2,&quot;face&quot;:0,&quot;neck&quot;:0,&quot;right arm&quot;:0,&quot;left arm&quot;:0,&quot;hand&quot;:0,&quot;torso&quot;:0,&quot;back&quot;:0,&quot;vitals&quot;:0,&quot;groin&quot;:0,&quot;right leg&quot;:0,&quot;left leg&quot;:0,&quot;foot&quot;:0}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>DRNatural</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{&quot;eye&quot;:0,&quot;skull&quot;:2,&quot;face&quot;:0,&quot;neck&quot;:0,&quot;right arm&quot;:0,&quot;left arm&quot;:0,&quot;hand&quot;:0,&quot;torso&quot;:0,&quot;back&quot;:0,&quot;vitals&quot;:0,&quot;groin&quot;:0,&quot;right leg&quot;:0,&quot;left leg&quot;:0,&quot;foot&quot;:0}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- misc -----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>pronounPossessive</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>elevation</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
          </list>
        </entry>
        <entry>
          <string>PC</string>
          <list>
            <net.rptools.maptool.model.TokenProperty>
              <name>ST</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>DX</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>IQ</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HT</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>maxHP</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>maxFP</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HP</name>
              <highPriority>true</highPriority>
              <ownerOnly>true</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>FP</name>
              <highPriority>true</highPriority>
              <ownerOnly>true</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>colorHP</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>green</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>colorFP</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>green</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>basicSpeed</name>
              <shortName>Speed</shortName>
              <highPriority>true</highPriority>
              <ownerOnly>true</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{(DX+HT)/4}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>basicMove</name>
              <highPriority>false</highPriority>
              <ownerOnly>true</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{floor(basicSpeed)}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>currMove</name>
              <shortName>Move</shortName>
              <highPriority>true</highPriority>
              <ownerOnly>true</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{floor(basicMove*(1-0.2*encumbrance))}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>Per</name>
              <highPriority>true</highPriority>
              <ownerOnly>true</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>Will</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>Fright</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>8</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>basicLift</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{floor(getProperty(&quot;ST&quot;)*getProperty(&quot;ST&quot;)/5)}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>sizeMod</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- basic ads, disads, skills, spells ----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>bodyType</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;humanoid&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>injuryTolerance</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;normal&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>painThreshold</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;normal&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HTBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HTUncBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>HTDeathBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>gunslinger</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;n&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>heroicArcher</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>&quot;n&quot;</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>skills</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[{&quot;level&quot;:5,&quot;name&quot;:&quot;stealth&quot;,&quot;attribute&quot;:&quot;DX&quot;,&quot;notes&quot;:&quot;&quot;}]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>inventory</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>itemsCarried</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>itemsReadied</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>spells</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- conditions ----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>encumbrance</name>
              <shortName>enc</shortName>
              <highPriority>true</highPriority>
              <ownerOnly>true</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>posture</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>standing</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>conditions</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>shock</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- attack ----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>currManeuver</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{&quot;ID&quot;:&quot;&quot;,&quot;name&quot;:&quot;Do Nothing&quot;,&quot;descr&quot;:&quot;take no action&quot;,&quot;movement&quot;:&quot;none&quot;,&quot;offSkillBonus&quot;:0,&quot;offSkillLimit&quot;:0,&quot;damageBonus&quot;:0,&quot;defAllowed&quot;:&quot;dpb&quot;,&quot;defBonus&quot;:0}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>lastSuccessfulAttack</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- defense ----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>shieldDB</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>miscDBPerm</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>miscDBTemp</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>postureDB</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>dodgeBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>blockBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>parryBonus</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>dodgeMax</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{floor(basicSpeed)+3+shieldDB+miscDBPerm+dodgeBonus}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>dodge</name>
              <highPriority>true</highPriority>
              <ownerOnly>true</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{floor(basicSpeed)+3+shieldDB+miscDBPerm+dodgeBonus-encumbrance}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>DR</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{&quot;eye&quot;:0,&quot;skull&quot;:2,&quot;face&quot;:0,&quot;neck&quot;:0,&quot;right arm&quot;:0,&quot;left arm&quot;:0,&quot;hand&quot;:0,&quot;torso&quot;:0,&quot;back&quot;:0,&quot;vitals&quot;:0,&quot;groin&quot;:0,&quot;right leg&quot;:0,&quot;left leg&quot;:0,&quot;foot&quot;:0}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>DRNatural</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>{&quot;eye&quot;:0,&quot;skull&quot;:2,&quot;face&quot;:0,&quot;neck&quot;:0,&quot;right arm&quot;:0,&quot;left arm&quot;:0,&quot;hand&quot;:0,&quot;torso&quot;:0,&quot;back&quot;:0,&quot;vitals&quot;:0,&quot;groin&quot;:0,&quot;right leg&quot;:0,&quot;left leg&quot;:0,&quot;foot&quot;:0}</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>---------- misc -----------</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>pronounPossessive</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>elevation</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>0</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
          </list>
        </entry>
        <entry>
          <string>libGurps</string>
          <list>
            <net.rptools.maptool.model.TokenProperty>
              <name>nextItemID</name>
              <highPriority>true</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>true</gmOnly>
              <defaultValue>1</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
            <net.rptools.maptool.model.TokenProperty>
              <name>skills</name>
              <highPriority>false</highPriority>
              <ownerOnly>false</ownerOnly>
              <gmOnly>false</gmOnly>
              <defaultValue>[]</defaultValue>
            </net.rptools.maptool.model.TokenProperty>
          </list>
        </entry>
      </tokenTypeMap>
      <remoteRepositoryList>
        <string>http://rptools.net/image-indexes/gallery.rpax.gz</string>
        <string>http://www.rptools.net/image-indexes/gallery.rpax.gz</string>
      </remoteRepositoryList>
      <lightSourcesMap>
        <entry>
          <string>small lights</string>
          <map>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAwA56R4ZbAAAAgAAAAA==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>2.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16711423</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>6.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>lantern</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAwA56R4ZaAAAAgAAAAA==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>2.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16711423</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>6.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>torch</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAsbbq+5cBPgAAgKgAsA==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>2.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16711423</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>6.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>glow vial</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAsffwAJiRPgAAgAAAsQ==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>5.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16711423</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>15.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>helmet lamp</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAwA56R4ZZAAAAgAAAAA==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>1.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16711423</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>3.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>candle</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAsffwAJiSPgAAgAAAsQ==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>10.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16711423</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>30.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>bullseye lantern</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
          </map>
        </entry>
        <entry>
          <string>large lights</string>
          <map>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAwA56R4ZcAAAAgAAAAA==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>20.0</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16711423</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>30.0</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>spotlight</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAwA96R4ZdAAAAgAAAAA==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>5.0</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16711423</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>10.0</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>bonfire</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
          </map>
        </entry>
        <entry>
          <string>spells</string>
          <map>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAsbfq+5cHPgAAgKgAsQ==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>2.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16777216</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>6.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>Continual Light spell level 2</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAsbfq+5cGPgAAgKgAsQ==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>1.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16777216</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>3.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>Continual Light spell level 1</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAsbfq+5cFPgAAgKgAsQ==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>1.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16777216</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>3.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>Light</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAsbfq+5cJPgAAgKgAsQ==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>10.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16777216</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>30.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>Light Jet spell</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
            <entry>
              <net.rptools.maptool.model.GUID>
                <baGUID>wKgAsbfq+5cIPgAAgKgAsQ==</baGUID>
              </net.rptools.maptool.model.GUID>
              <net.rptools.maptool.model.LightSource>
                <lightList class="linked-list">
                  <net.rptools.maptool.model.Light>
                    <facingOffset>0.0</facingOffset>
                    <radius>4.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                  <net.rptools.maptool.model.Light>
                    <paint class="net.rptools.maptool.model.drawing.DrawableColorPaint">
                      <color>-16777216</color>
                    </paint>
                    <facingOffset>0.0</facingOffset>
                    <radius>12.5</radius>
                    <arcAngle>90.0</arcAngle>
                    <shape>CIRCLE</shape>
                    <isGM>false</isGM>
                    <ownerOnly>false</ownerOnly>
                  </net.rptools.maptool.model.Light>
                </lightList>
                <name>Continual Light spell level 3</name>
                <id reference="../../net.rptools.maptool.model.GUID"/>
              </net.rptools.maptool.model.LightSource>
            </entry>
          </map>
        </entry>
      </lightSourcesMap>
      <lookupTableMap/>
      <sightTypeMap>
        <entry>
          <string>night(+10)acute(+9)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+9)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>760.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+5)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+5)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>600.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+4)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+4)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>560.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+7)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+7)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>680.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+5)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+5)</name>
            <multiplier>1.5</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+2)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+2)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>480.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+1)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+1)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>440.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+6)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+6)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>640.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+7)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+7)</name>
            <multiplier>1.7</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+9)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+9)</name>
            <multiplier>1.9</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+3)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+3)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>520.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>Normal</string>
          <net.rptools.maptool.model.SightType>
            <name>Normal</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+3)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+3)</name>
            <multiplier>1.3</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+10)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+10)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>800.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+8)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+8)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>720.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+1)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+1)</name>
            <multiplier>1.1</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+8)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+8)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>720.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+3)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+3)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>520.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+6)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+6)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>640.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+1)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+1)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>440.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+4)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+4)</name>
            <multiplier>1.4</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+6)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+6)</name>
            <multiplier>1.6</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+5)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+5)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>600.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+10)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+10)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>800.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+2)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+2)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>480.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)acute(+4)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)acute(+4)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>560.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+7)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+7)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>680.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+2)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+2)</name>
            <multiplier>1.2</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+8)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+8)</name>
            <multiplier>1.8</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>acute(+9)</string>
          <net.rptools.maptool.model.SightType>
            <name>acute(+9)</name>
            <multiplier>1.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>760.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
        <entry>
          <string>night(+10)</string>
          <net.rptools.maptool.model.SightType>
            <name>night(+10)</name>
            <multiplier>2.0</multiplier>
            <personalLightSource>
              <lightList class="linked-list">
                <net.rptools.maptool.model.Light>
                  <facingOffset>0.0</facingOffset>
                  <radius>0.5</radius>
                  <arcAngle>90.0</arcAngle>
                  <shape>CIRCLE</shape>
                  <isGM>false</isGM>
                  <ownerOnly>false</ownerOnly>
                </net.rptools.maptool.model.Light>
              </lightList>
            </personalLightSource>
            <shape>CIRCLE</shape>
            <arc>90</arc>
            <distance>400.0</distance>
            <offset>0</offset>
          </net.rptools.maptool.model.SightType>
        </entry>
      </sightTypeMap>
      <tokenStates class="linked-hash-map">
        <entry>
          <string>dead</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>dead</name>
            <order>0</order>
            <group>Mortal</group>
            <mouseover>false</mouseover>
            <opacity>20</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>bcf077eb24d3c70f6326ba961c21c043</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>hidden</string>
          <net.rptools.maptool.client.ui.token.ShadedTokenOverlay>
            <name>hidden</name>
            <order>1</order>
            <group></group>
            <mouseover>false</mouseover>
            <opacity>25</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>false</showOthers>
            <color>
              <red>0</red>
              <green>0</green>
              <blue>0</blue>
              <alpha>255</alpha>
            </color>
          </net.rptools.maptool.client.ui.token.ShadedTokenOverlay>
        </entry>
        <entry>
          <string>healthy</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>healthy</name>
            <order>2</order>
            <group>Health</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>49d1c4e928a2bdc570ab1499ef1ed379</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>injured</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>injured</name>
            <order>3</order>
            <group>Health</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>cd9f119910235a62e6924230f31a5c8f</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>maimed</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>maimed</name>
            <order>4</order>
            <group>Health</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>48baf9b3cdcef7021c549d7600eacbeb</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>dying</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>dying</name>
            <order>5</order>
            <group>Health</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>a3d973fcc74cfaf6884f29b8d87776bc</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>fresh</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>fresh</name>
            <order>6</order>
            <group>Stamina</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>801860fbe01944629e2dd11f196e18c1</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>tiring</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>tiring</name>
            <order>7</order>
            <group>Stamina</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>5f6d92897d241e94970e60269496b6a9</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>exhausted</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>exhausted</name>
            <order>8</order>
            <group>Stamina</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>8be6bc189d07794bafa84a5198d9603c</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>collapsing</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>collapsing</name>
            <order>9</order>
            <group>Stamina</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>0916756cba48a2b08e57d62552711f29</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>halfmove</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>halfmove</name>
            <order>10</order>
            <group></group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>b45e82d01ac28ee4bcefbf5bf64d6be4</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>shock1</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>shock1</name>
            <order>11</order>
            <group>Shock</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>7c10a676f7aa7b7e6c4a3cdb8197009e</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>shock2</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>shock2</name>
            <order>12</order>
            <group>Shock</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>3055cd2d2b5f3eb90d837454db47d958</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>shock3</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>shock3</name>
            <order>13</order>
            <group>Shock</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>404f38a7aeb322d6be15ec577ac833e5</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>shock4</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>shock4</name>
            <order>14</order>
            <group>Shock</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>9805cf1c620bb4a3c6122006d60d9cc4</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>shock6</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>shock6</name>
            <order>15</order>
            <group>Shock</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>5f596538fa8fdaf2044a05e93234947a</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>shock8</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>shock8</name>
            <order>16</order>
            <group>Shock</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>6d138ff1a21cc568e09ffe63622d9cbd</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>mentally_stunned</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>mentally_stunned</name>
            <order>17</order>
            <group>Shock</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>95ccf79cddb04016c811c09bbbb75198</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>physically_stunned</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>physically_stunned</name>
            <order>18</order>
            <group>Shock</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>ca2e6409d2975e91bf0f4cc2e385f46d</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>standing</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>standing</name>
            <order>19</order>
            <group>Postures</group>
            <mouseover>false</mouseover>
            <opacity>100</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>4c16592fa6f9ae554d86126d73a503e4</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>face_up</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>face_up</name>
            <order>20</order>
            <group>Postures</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>b31ad3f787ea05c933065564daa46ec4</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>prone</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>prone</name>
            <order>21</order>
            <group>Postures</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>73c6cde217b25288d3a30c9c6caf4f28</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>crouching</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>crouching</name>
            <order>22</order>
            <group>Postures</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>b933b484594933a7f589c60ba4155e73</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>kneeling</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>kneeling</name>
            <order>23</order>
            <group>Postures</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>96243ca7366fa8bcb6e28f01c861820c</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>sitting</string>
          <net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
            <name>sitting</name>
            <order>24</order>
            <group>Postures</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>6ca4ea7d2ca190b721ac09c645f3bf1b</id>
            </assetId>
            <grid>5</grid>
          </net.rptools.maptool.client.ui.token.FlowImageTokenOverlay>
        </entry>
        <entry>
          <string>Aim</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>Aim</name>
            <order>25</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>a22cdbe00998889d98bc170d1e65a8f7</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>AoADetermined</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>AoADetermined</name>
            <order>26</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>6d4a666be90375dc88fd7d09d48f02a3</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>AoADouble</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>AoADouble</name>
            <order>27</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>fd9bfcc055b8e02ce1d2ddbbee533fb1</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>AoAFeint</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>AoAFeint</name>
            <order>28</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>2859a44ab697bf1bd9400d41b76bb9d7</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>AoALong</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>AoALong</name>
            <order>29</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>52ff4e9956abc6593ee4e0e0be74c29f</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>AoAStrong</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>AoAStrong</name>
            <order>30</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>23d05d41cb4d331b3cd466c5f1fdfe7e</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>Attack</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>Attack</name>
            <order>31</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>d3bdc204f11813aa3a3609acb32b0092</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>ChangePosture</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>ChangePosture</name>
            <order>32</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>bc7d0021efbff0984cf632975e77d3b1</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>CommittedAttack</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>CommittedAttack</name>
            <order>33</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>aaee0b8fa521f237e678842b745048c0</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>Concentrate</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>Concentrate</name>
            <order>34</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>98c037f9d934321f7639d084a7fd7be6</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>DefensiveAttack</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>DefensiveAttack</name>
            <order>35</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>ea3eda6ab03d2d20961c868f9b6f7aa2</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>DoNothing</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>DoNothing</name>
            <order>36</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>20ef2582f03d0408107424da9f2d29dc</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>Evaluate</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>Evaluate</name>
            <order>37</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>21d97503d567162fb6904b019025da17</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>Feint</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>Feint</name>
            <order>38</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>80e1c11967636f2d79459a481fe25891</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>Move</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>Move</name>
            <order>39</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>dcc75d7252fff6237562c150a493c37b</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>MoveAndAttack</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>MoveAndAttack</name>
            <order>40</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>eca1d123d3290d867e7e30ed2b346557</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>Ready</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>Ready</name>
            <order>41</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>5484730930374408ce54136c286cdb1b</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>Wait</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>Wait</name>
            <order>42</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>f9026f6f9719c1d2933ae7087a6ced61</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>AoDDouble</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>AoDDouble</name>
            <order>43</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>ca7535cd07d1991532e3b7c809e4ce2b</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>AoDIncreased</string>
          <net.rptools.maptool.client.ui.token.ImageTokenOverlay>
            <name>AoDIncreased</name>
            <order>44</order>
            <group>Maneuvers</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>b390dfe41951d462e4570357f58f9d59</id>
            </assetId>
          </net.rptools.maptool.client.ui.token.ImageTokenOverlay>
        </entry>
        <entry>
          <string>in_agony</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>in_agony</name>
            <order>45</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>85728bb3df93123b5f3a8592c79599bb</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>choking</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>choking</name>
            <order>46</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>fa1868e2d963ec43278ad93cef8c3828</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>dazed</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>dazed</name>
            <order>47</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>a19733f60e57e43a8ad6fbdbdd3f837c</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>in_ecstasy</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>in_ecstasy</name>
            <order>48</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>6cf63360190cbb7e9b9b64dd55d3bce4</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>hallucinating</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>hallucinating</name>
            <order>49</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>ba7f0d26637cb2a77323726795eca199</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>paralyzed</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>paralyzed</name>
            <order>50</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>866864f4c85c7f7a91928400b9095b20</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>retching</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>retching</name>
            <order>51</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>da11a9af04a1fa290041766f4f65d360</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>seizure</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>seizure</name>
            <order>52</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>1fbeedf62d2a5452d64c7d6b9b882fbf</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>unconscious</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>unconscious</name>
            <order>53</order>
            <group>Incapacitating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>add73562f62cc7b088e5964864d5bbac</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>in_coma</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>in_coma</name>
            <order>54</order>
            <group>Mortal</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>f781e5d23e5d79b7d3afbb527f99e4e3</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>heart_attack</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>heart_attack</name>
            <order>55</order>
            <group>Mortal</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>3b33eaa34922e71576fbc3e173679bf3</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>bleeding</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>bleeding</name>
            <order>56</order>
            <group>Mortal</group>
            <mouseover>true</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>8fd241f6029ff1a56c1b8f2d974c5d84</id>
            </assetId>
            <corner>SOUTH_EAST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>coughing_sneezing</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>coughing_sneezing</name>
            <order>57</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>fb263b4fd78e8ff29de1141c10a99fe2</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>drowsy</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>drowsy</name>
            <order>58</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>906c71f4b54e9812590271169e917061</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>drunk</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>drunk</name>
            <order>59</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>1711636c780ecf42b8efa9a8cc3f63cd</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>euphoric</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>euphoric</name>
            <order>60</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>4521d012a203a26c164426a64cea2ce3</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>nauseated</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>nauseated</name>
            <order>61</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>5e0bd13c878c5a669d64100ae9a072b7</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>moderate_pain</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>moderate_pain</name>
            <order>62</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>3c8ee590ba330d39a31ad117d9aa6f6b</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>severe_pain</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>severe_pain</name>
            <order>63</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>a0adb43b7748ae3ea0b4d1ebccef487e</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>terrible_pain</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>terrible_pain</name>
            <order>64</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>c5cb0a065a86706305386e0f07fb71b9</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>tipsy</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>tipsy</name>
            <order>65</order>
            <group>Irritating</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>53e3f635d58e988d0b811953671be555</id>
            </assetId>
            <corner>NORTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>right_leg_crippled</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>right_leg_crippled</name>
            <order>66</order>
            <group>Crippling</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>4bb1586fb96b650375461ea1192e011f</id>
            </assetId>
            <corner>NORTH_EAST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>left_leg_crippled</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>left_leg_crippled</name>
            <order>67</order>
            <group>Crippling</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>0904ed579863c45f719e252c2296329e</id>
            </assetId>
            <corner>NORTH_EAST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>right_arm_crippled</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>right_arm_crippled</name>
            <order>68</order>
            <group>Crippling</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>b8fc51cccedf6a53e1b17db40e3c28ff</id>
            </assetId>
            <corner>NORTH_EAST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>left_arm_crippled</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>left_arm_crippled</name>
            <order>69</order>
            <group>Crippling</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>5e24baf7374a4c95eda93ac150a2d758</id>
            </assetId>
            <corner>NORTH_EAST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>acid_immersed</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>acid_immersed</name>
            <order>70</order>
            <group>Hazards</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>93d9e0e089a297a5ec16d50e996b74f2</id>
            </assetId>
            <corner>SOUTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>acid_splashed</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>acid_splashed</name>
            <order>71</order>
            <group>Hazards</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>e5d3b0f0900218dcb2b098cb33e95703</id>
            </assetId>
            <corner>SOUTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>swallowed_acid</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>swallowed_acid</name>
            <order>72</order>
            <group>Hazards</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>e1b807ed5ec9d8f28f4716a187016d16</id>
            </assetId>
            <corner>SOUTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>body_part_burning</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>body_part_burning</name>
            <order>73</order>
            <group>Hazards</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>596fbce49ce6aae35a6762b15882bc4c</id>
            </assetId>
            <corner>SOUTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>full_body_burning</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>full_body_burning</name>
            <order>74</order>
            <group>Hazards</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>f9671a06f2de427d3ab24a79239e277f</id>
            </assetId>
            <corner>SOUTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>diseased</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>diseased</name>
            <order>75</order>
            <group>Hazards</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>false</showOthers>
            <assetId>
              <id>b0443511293de14098d0ef87381adfd5</id>
            </assetId>
            <corner>SOUTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>infected</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>infected</name>
            <order>76</order>
            <group>Hazards</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>false</showOthers>
            <assetId>
              <id>37146b4a953a27b74e540e90042aa6d3</id>
            </assetId>
            <corner>SOUTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>poisoned</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>poisoned</name>
            <order>77</order>
            <group>Hazards</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>false</showOthers>
            <assetId>
              <id>ceac009a014e9db28d8ba917382dac2e</id>
            </assetId>
            <corner>SOUTH_WEST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>climbing</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>climbing</name>
            <order>78</order>
            <group>Hindrances</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>003810b9c5c9d2d5cc5d4aeb99bd40bd</id>
            </assetId>
            <corner>SOUTH_EAST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
        <entry>
          <string>grappled</string>
          <net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
            <name>grappled</name>
            <order>79</order>
            <group>Hindrances</group>
            <mouseover>false</mouseover>
            <opacity>50</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <assetId>
              <id>33d88258cfc10c6c3605f20cb9b0e776</id>
            </assetId>
            <corner>SOUTH_EAST</corner>
          </net.rptools.maptool.client.ui.token.CornerImageTokenOverlay>
        </entry>
      </tokenStates>
      <tokenBars class="linked-hash-map">
        <entry>
          <string>Health</string>
          <net.rptools.maptool.client.ui.token.TwoToneBarTokenOverlay>
            <name>Health</name>
            <order>0</order>
            <mouseover>false</mouseover>
            <opacity>100</opacity>
            <showGM>true</showGM>
            <showOwner>true</showOwner>
            <showOthers>true</showOthers>
            <increments>0</increments>
            <side>TOP</side>
            <barColor>
              <red>32</red>
              <green>180</green>
              <blue>32</blue>
              <alpha>255</alpha>
            </barColor>
            <thickness>6</thickness>
            <bgColor>
              <red>0</red>
              <green>0</green>
              <blue>0</blue>
              <alpha>255</alpha>
            </bgColor>
          </net.rptools.maptool.client.ui.token.TwoToneBarTokenOverlay>
        </entry>
      </tokenBars>
      <characterSheets>
        <entry>
          <string>Basic</string>
          <string>net/rptools/maptool/client/ui/forms/BasicCharacterSheet.jfrm</string>
        </entry>
      </characterSheets>
      <initiativeOwnerPermissions>false</initiativeOwnerPermissions>
      <initiativeMovementLock>true</initiativeMovementLock>
    </campaignProperties>
    <macroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>78</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[e: 1d6]</command>
        <label>1d6</label>
        <group></group>
        <sortby></sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>49</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[e: 2d6]</command>
        <label>2d6</label>
        <group></group>
        <sortby></sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>50</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[e:3d6]</command>
        <label>3d6</label>
        <group></group>
        <sortby></sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>37</index>
        <colorKey>default</colorKey>
        <hotKey>F2</hotKey>
        <command>[MACRO(&quot;CharSheet@Lib:GURPS&quot;): &quot;Page = Main&quot;]</command>
        <label>Char Sheet</label>
        <group></group>
        <sortby>b</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>118</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[MACRO(&quot;posture@Lib:GURPS&quot;): &quot;&quot;]</command>
        <label>Posture</label>
        <group></group>
        <sortby>l</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>88</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[MACRO(&quot;FP@Lib:GURPS&quot;): &quot;&quot;]</command>
        <label>FP</label>
        <group></group>
        <sortby>s</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>116</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[MACRO(&quot;HP@Lib:GURPS&quot;): &quot;&quot;]</command>
        <label>HP</label>
        <group></group>
        <sortby>s</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>51</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[r:HP + &quot; HP and &quot; ] [r:FP + &quot; FP&quot;]  
[r,if(state.halfmove==1):&quot; and at half move&quot;;&quot;&quot;]
[r,if(state.unconscious==1):&quot; and unconscious.&quot;;&quot;.&quot;]</command>
        <label>state</label>
        <group></group>
        <sortby>s</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>green</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>136</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[h: HitLocTab = &apos; [
  &quot;skull&quot;,
  &quot;skull&quot;,
  &quot;face&quot;,
  &quot;face&quot;,
  &quot;right leg&quot;,
  &quot;right leg&quot;,
  &quot;right arm&quot;,
  &quot;torso&quot;,
  &quot;torso&quot;,
  &quot;groin&quot;,
  &quot;left arm&quot;,
  &quot;left leg&quot;,
  &quot;left leg&quot;,
  &quot;hand&quot;,
  &quot;foot&quot;,
  &quot;neck&quot;,
  &quot;neck&quot;
  ]&apos;]
[h: HitLoc=3d6-3]
[h: HitLoc=json.get(HitLocTab,HitLoc)]
[h: Side=1d2]
[h: Side=if(Side==1,&quot;right&quot;, &quot;left&quot;)]
[h: HitLoc = if(HitLoc == &quot;hand&quot;, Side+&quot; &quot;+HitLoc, HitLoc)]
[h: HitLoc = if(HitLoc ==&quot;foot&quot;,Side+&quot; &quot;+HitLoc, HitLoc)]
The target is struck in the [r: HitLoc].</command>
        <label>Hit Location</label>
        <group></group>
        <sortby>z</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>false</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>106</index>
        <colorKey>gray</colorKey>
        <hotKey>None</hotKey>
        <command>[H:irrCondList = &quot;coughing_sneezing, drowsy, tipsy, drunk, euphoric, nauseated, moderate_pain, severe_pain, terrible_pain&quot;] 
[H:currIrrCond=-1] 
[H,C(listCount(irrCondList)):CurrentIrrCond = if(eval(&quot;state.&quot; + listGet(irrCondList,roll.count)) == 1, roll.count, currIrrCond)] 
[H: fail = input(&quot;newIrrCond | &quot; + irrCondList + &quot; | Choose the new irritating condition | LIST | SELECT=&quot; + currIrrCond)] 
[H:abort(fail)] 

[h: newCond = listGet(irrCondList, NewIrrCond) ]
[H: eval(&quot;state.&quot; + newCond + &apos;=1&apos;)] 
is now {newCond}.

[h:oldCondArray=getProperty(&quot;conditions&quot;)]
[h:newCondArray=json.append(oldCondArray,newCond)]
[h:setProperty(&quot;conditions&quot;,newCondArray)]

[MACRO(&quot;CharSheet@Lib:GURPS&quot;),h: &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label>Irritating</label>
        <group>Conditions</group>
        <sortby>1</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>yellow</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>103</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[H:IncapList = &quot;in_agony, choking, dazed, in_ecstasy, hallucinating, paralyzed, retching, seizure, unconscious&quot;] 
[H:CurrentIncap=-1] 
[H,C(listCount(IncapList)):CurrentIncap = if(eval(&quot;state.&quot; + listGet(IncapList,roll.count)) == 1, roll.count, CurrentIncap)] 
[H: fail = input(&quot;NewIncap | &quot; + IncapList + &quot; | Choose New Incapacitating Condition | LIST | SELECT=&quot; + CurrentIncap)] 
[H:abort(fail)] 

[h: newCond = listGet(IncapList, NewIncap) ]
[H: eval(&quot;state.&quot; + newCond + &apos;=1&apos;)] 
is now {newCond}.

[h:oldCondArray=getProperty(&quot;conditions&quot;)]
[h:newCondArray=json.append(oldCondArray,newCond)]
[h:setProperty(&quot;conditions&quot;,newCondArray)]

[MACRO(&quot;CharSheet@Lib:GURPS&quot;),h: &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label> Incapacitating</label>
        <group>Conditions</group>
        <sortby>2</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>purple</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>105</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[H:HazardList = &quot;acid_immersed, acid_splashed, swallowed_acid, body_part_burning, full_body_burning, diseased, infected, poisoned&quot;] 
[H:CurrentHazard=-1] 
[H,C(listCount(HazardList)):CurrentHazard = if(eval(&quot;state.&quot; + listGet(HazardList,roll.count)) == 1, roll.count, CurrentHazard)] 
[H: fail = input(&quot;NewHazard | &quot; + HazardList + &quot; | Choose New Hazard | LIST | SELECT=&quot; + CurrentHazard)] 
[H:abort(fail)] 

[h: newCond = listGet(HazardList, NewHazard) ]
[H: eval(&quot;state.&quot; + newCond + &apos;=1&apos;)] 
is now {newCond}.

[h:oldCondArray=getProperty(&quot;conditions&quot;)]
[h:newCondArray=json.append(oldCondArray,newCond)]
[h:setProperty(&quot;conditions&quot;,newCondArray)]

[MACRO(&quot;CharSheet@Lib:GURPS&quot;),h: &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label>Hazards</label>
        <group>Conditions</group>
        <sortby>3</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>green</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>104</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[H:CripList = &quot;right_arm_crippled, left_arm_crippled, right_leg_crippled, left_leg_crippled&quot;] 
[H:CurrentCrip=-1] 
[H,C(listCount(CripList)):CurrentCrip = if(eval(&quot;state.&quot; + listGet(CripList,roll.count)) == 1, roll.count, CurrentCrip)] 
[H: fail = input(&quot;NewCrip | &quot; + CripList + &quot; | Choose New Crip | LIST | SELECT=&quot; + CurrentCrip)] 
[H:abort(fail)] 

[h: newCond = listGet(CripList, NewCrip) ]
[H: eval(&quot;state.&quot; + newCond + &apos;=1&apos;)] 
is now {newCond}.

[h:oldCondArray=getProperty(&quot;conditions&quot;)]
[h:newCondArray=json.append(oldCondArray,newCond)]
[h:setProperty(&quot;conditions&quot;,newCondArray)]

[MACRO(&quot;CharSheet@Lib:GURPS&quot;),h: &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label>Crippling</label>
        <group>Conditions</group>
        <sortby>4</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>red</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>107</index>
        <colorKey>gray</colorKey>
        <hotKey>None</hotKey>
        <command>[H:MortalList = &quot;in_coma, heart_attack, dead&quot;] 
[H:CurrentMortal=-1] 
[H,C(listCount(MortalList)):CurrentMortal = if(eval(&quot;state.&quot; + listGet(MortalList,roll.count)) == 1, roll.count, CurrentMortal)] 
[H: fail = input(&quot;NewMortal | &quot; + MortalList + &quot; | Choose New Mortal | LIST | SELECT=&quot; + CurrentMortal)] 
[H:abort(fail)]

[h: newCond = listGet(MortalList, NewMortal) ]
[H: eval(&quot;state.&quot; + newCond + &apos;=1&apos;)] 
is now {newCond}.

[h:oldCondArray=getProperty(&quot;conditions&quot;)]
[h:newCondArray=json.append(oldCondArray,newCond)]
[h:setProperty(&quot;conditions&quot;,newCondArray)]

[MACRO(&quot;CharSheet@Lib:GURPS&quot;),h: &quot;tab=Main&quot;]
[h, if(isGM()),code: {
  [macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label>Mortal</label>
        <group>Conditions</group>
        <sortby>5</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>white</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>117</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[MACRO(&quot;shock@Lib:GURPS&quot;):&quot;&quot;]</command>
        <label>Shock</label>
        <group>Conditions</group>
        <sortby>6</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>maroon</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>47</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[h: CritHitTbl = &apos;[
  &quot;triple damage.&quot;, 
  &quot;the attack to halve DR (round down) in addition to any other armor divisors.&quot;, 
  &quot;double damage.&quot;, 
  &quot;maximum normal damage.&quot;, 
  &quot;major wound effects on any penetrating injury.&quot;, 
  &quot;double shock, and temporarily cripples a wounded limb (funny-bone, 16-HT sec, minimum of 2 sec).&quot;, 
  &quot;normal damage.&quot;, 
  &quot;normal damage.&quot;, 
  &quot;normal damage.&quot;, 
  &quot;normal damage.  The target drops items it holds.&quot;, 
  &quot;major wound effects on any penetrating injury.&quot;, 
  &quot;major wound effects on any penetrating injury.&quot;, 
  &quot;maximum normal damage.&quot;, 
  &quot;double damage.&quot;,
  &quot;the attack to halve DR (round down) in addition to any other mods.&quot;, 
  &quot;triple damage.&quot;
  ]&apos;]
[h: roll = 3d6-3]
The critical hit causes [r: result = json.get(CritHitTbl, roll)] 
</command>
        <label>Crit Hit</label>
        <group>Criticals</group>
        <sortby>a</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>green</fontColorKey>
        <fontSize>0.95em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>45</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[h: CritHeadBlowTbl = &apos;[
  &quot;causes maximum damage, and bypasses DR.&quot;, 
  &quot;halves DR, rounding up.  If any damage penetrates, treat as a Major Wound.&quot;, 
  &quot;halves DR, rounding up.  If any damage penetrates, treat as a Major Wound.&quot;, 
  &quot;converts a face/skull hit to an eye hit.  If a eye hit is impossible, halve DR and treat any penetrating injury as a Major Wound.&quot;, 
  &quot;converts a face/skull hit to an eye hit.  If a eye hit is impossible, halve DR and treat any penetrating injury as a Major Wound.&quot;, 
  &quot;does normal head-blow damage, and knocks the target off balance.  The target must Do Nothing on next turn.&quot;, 
  &quot;causes normal head-blow damage.&quot;, 
  &quot;causes normal head-blow damage.&quot;, 
  &quot;causes normal head-blow damage.&quot;, 
  &quot;causes normal head-blow damage, and deafens the target (cr) or causes it to lose Appearance levels (other).&quot;, 
  &quot;causes normal head-blow damage, and deafens the target (cr) or causes it to lose Appearance levels (other).&quot;, 
  &quot;causes normal damage.  The target drops one held weapon.&quot;, 
  &quot;causes maximum damage.&quot;, 
  &quot;causes double damage.&quot;, 
  &quot;halves DR, rounding up, in addition to any other armor divisors.&quot;, 
  &quot;causes triple damage.&quot;
  ]&apos;]
[h: roll = 3d6-3]
The critical hit [r: result = json.get(CritHeadBlowTbl,roll)]</command>
        <label>Crit Head Blow</label>
        <group>Criticals</group>
        <sortby>c</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>green</fontColorKey>
        <fontSize>0.95em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>42</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[h: CritMissTbl = &apos;[
  &quot;the weapon to break. (Reroll if the weapon is cr, magic, fine, very fine, or a firearm.  Accept second roll.)&quot;,
  &quot;the weapon to break. (Reroll if the weapon is cr, magic, fine, very fine, or a firearm.  Accept second roll.)&quot;,
  &quot;a hit to own arm or leg for full damage. (Reroll if imp, pi or ranged, and use second roll.)&quot;,
  &quot;a hit to own arm or leg for half damage. (Reroll if imp, pi or ranged, and use second roll.)&quot;,
  &quot;loss of balance.  No action and -2 defences until next turn.&quot;,
  &quot;the weapon to become unready.&quot;,
  &quot;you to drop the weapon.  A cheap weapon breaks.&quot;,
  &quot;you to drop the weapon.  A cheap weapon breaks.&quot;,
  &quot;you to drop the weapon.  A cheap weapon breaks.&quot;,
  &quot;the weapon to become unready.&quot;,
  &quot;loss of balance.  No action and -2 defences until next turn.&quot;,
  &quot;a swinging weapon to fly 1d yds to the front/back (50%).  Anyone in that hex rolls DX or takes half damage.  Any other attack causes you to drop the weapon.&quot;,
  &quot;a strained shoulder.  The weapon arm is crippled for 30 min.&quot;,
  &quot;a melee attacker to fall down.  A ranged attacker loses balance, and can take no action and is at-2 defences until next turn.&quot;,
  &quot;the weapon to break. (Reroll if the weapon is cr, magic, fine, very fine, or a firearm.  Accept second roll.)&quot;,
  &quot;the weapon to break. (Reroll if the weapon is cr, magic, fine, very fine, or a firearm.  Accept second roll.)&quot;,
   ]&apos;]
[h: roll=3d6-3]
The critical failure causes [r: json.get(CritMissTbl, roll)]</command>
        <label>Crit Miss</label>
        <group>Criticals</group>
        <sortby>k</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>maroon</fontColorKey>
        <fontSize>0.95em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>44</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>&lt;!-- B557 --&gt;
[h: CritMissUnTbl = &apos;[
  &quot;The attacking or parrying creature knocks himself out!  Recover with a roll vs. HT every 30 minutes.&quot;, 
  &quot;The attack or parry strains a limb.  The limb takes 1 HP injury and is crippled for 30 minutes.  If a limb was not used, a muscle is pulled, causing moderate pain for 20-HT minutes, minimum one minute.&quot;, 
  &quot;The limb used hits a solid object, taking cr thr damage.  If opponent has an imp weapon, the attacking or parrying creature is impaled on it for imp damage based on his ST.&quot;, 
  &quot;The limb used hits a solid object, taking half of cr thr damage.  Natural weapons break, reducing future damage by 1 until healed.&quot;, 
  &quot;On an attack, the attacker stumbles one yard past opponent, and ends his turn facing away from him.  On a parry, the parrying creature falls down.&quot;, 
  &quot;The attacking or parrying creature falls down.&quot;, 
  &quot;The attacking or parrying creature lose balance.  No action and -2 defences until next turn.&quot;, 
  &quot;The attacking or parrying creature lose balance.  No action and -2 defences until next turn.&quot;,
  &quot;The attacking or parrying creature lose balance.  No action and -2 defences until next turn.&quot;,
  &quot;The attacking or parrying creature trips.  Roll DX to avoid falling down, with -4 for a kick or double usual DX penalty for a technique.&quot;, 
  &quot;The attacking or parrying creature drops his guard, and suffers -2 defences.  Opponents double their Evaluate and Feint bonuses.&quot;, 
  &quot;On an attack, the attacker stumbles one yard past opponent, and ends his turn facing away from him.  On a parry, the parrying creature falls down.&quot;, 
  &quot;The attacking or parrying creature tear a muscle in his limb or neck, taking 1d-3 damage.  He has at -1 to attacks and defences until next turn, and suffers a -3 penalty to any action with the hurt limb until healed.  If the neck is injured, he is at -3 to any action.  (-1 penalty with High Pain Threshold.)&quot;, 
  &quot;The limb used hits a solid object, taking cr thr damage.  If opponent has an imp weapon, the attacking or parrying creature is impaled on it for imp damage based on his ST.&quot;, 
  &quot;The attack or parry strains a limb.  The limb takes 1 HP injury and is crippled for 30 minutes.  If a limb was not used, a muscle is pulled, causing moderate pain for 20-HT minutes, minimum one minute.  An IQ 3-5 animal loses it nerve, and flees next turn or yields if trapped.&quot;, 
  &quot;The attacking or parrying creature knocks himself out!  Recover with a roll vs. HT every 30 minutes.&quot;, 
  ]&apos;]
[h: roll = 3d6-3]
[r: result = json.get(CritMissUnTbl,roll)]</command>
        <label>Unarmed Crit Miss</label>
        <group>Criticals</group>
        <sortby>m</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>maroon</fontColorKey>
        <fontSize>0.95em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>27</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>&lt;!-- B236 --&gt;
[h: CritSpellFailTbl = &apos;[
  &quot;The spell fails entirely, and the caster takes 1d injury.&quot;, 
  &quot;If the spell is harmful, it affects the caster.  If beneficial, it affects a nearby foe.&quot;, 
  &quot;If the spell is harmful, it affects a companion of the caster.  If beneficial, it affects a nearby foe.&quot;, 
  &quot;If the spell is harmful, it affects a companion of the caster.  If beneficial, it affects a nearby foe.&quot;, 
  &quot;The spell hits something other than its intended target.  Roll randomly or make an interesting choice.&quot;, 
  &quot;The spell fails entirely, and the caster takes 1 point of injury.&quot;, 
  &quot;The spell fails entirely, and the caster is stunned.  IQ check to recover.&quot;, 
  &quot;The spell produces a loud noise, a flash of light, smoke, an awful odor, or the like.&quot;, 
  &quot;The spell produces a loud noise, a flash of light, smoke, an awful odor, or the like.&quot;, 
  &quot;The spell produces a weak and useless shadow of the intended effect.&quot;, 
  &quot;The failed spell produces the reverse of the intended effect.&quot;, 
  &quot;The spell only seems to work, generating a convincing, but useless, illusion.&quot;, 
  &quot;The spell misfires, producing the reverse effect on a random target.&quot;, 
  &quot;The spell misfires, producing the reverse effect on a random target.&quot;,
  &quot;The spell fails entirely, and the caster temporarily forgets the spell.  Roll IQ weekly to remember.&quot;, 
  &quot;The spell fails entirely, and a demon or other malign entity appears to attack caster.&quot;
  ]&apos;]
[h: roll = 3d6-3]
[r: result = json.get(CritSpellFailTbl, roll)]
</command>
        <label>Crit Spell Failure</label>
        <group>Criticals</group>
        <sortby>z</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>maroon</fontColorKey>
        <fontSize>0.95em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>121</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[e,g: 1d6]</command>
        <label>1d6</label>
        <group>GM</group>
        <sortby></sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>122</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[e,g: 2d6]</command>
        <label>2d6</label>
        <group>GM</group>
        <sortby></sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>123</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[e,g:3d6]</command>
        <label>3d6</label>
        <group>GM</group>
        <sortby></sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>true</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>114</index>
        <colorKey>default</colorKey>
        <hotKey>F3</hotKey>
        <command>[if( isGM() ),h,code:{
  [macro(&quot;initFrame@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label>Init Frame</label>
        <group>GM</group>
        <sortby>init</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>125</index>
        <colorKey>default</colorKey>
        <hotKey>F4</hotKey>
        <command>[if( isGM() ),h,code:{
  [macro(&quot;initNext@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label>Init Next</label>
        <group>GM</group>
        <sortby>init</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>132</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[if( isGM() ),h,code:{
  [macro(&quot;initSetRound@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label>Set Round</label>
        <group>GM</group>
        <sortby>init</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>124</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[if( isGM() ),r,code:{
  [macro(&quot;initAdd@Lib:GURPS&quot;):&quot;&quot;]
};{}]</command>
        <label>+ to Init</label>
        <group>GM</group>
        <sortby>init2</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>127</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[if( isGM() ),h,code:{
  [macro(&quot;initAddGroup@Lib:GURPS&quot;):&quot;NPC&quot;]
};{}]</command>
        <label>+NPCs to Init</label>
        <group>GM</group>
        <sortby>init2</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>126</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[if( isGM() ),h,code:{
  [macro(&quot;initAddGroup@Lib:GURPS&quot;):&quot;PC&quot;]
};{}]</command>
        <label>+PCs to Init</label>
        <group>GM</group>
        <sortby>init2</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>91</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[if( isGM() ),r,g,code:{
  [h:dude=getSelected()]
  [h,token(dude): switch=getVisible()]
  [h: switch = if(switch==1,0,1)]
  [h,token(dude): setVisible(switch)]
  [if(switch==0,getName()+&quot; is now invisible to players.&quot;,getName()+ &quot; is now visible to players.&quot;)]
};{}]</command>
        <label>Visibility</label>
        <group>GM</group>
        <sortby>t gm</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>113</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[h: mark=getSelected()]
[h, token(mark): target=getName()]
[h: input(
       &quot;numDice|0|# of Explosion dice&quot;,
       &quot;exMult|1|Explosion Multiplier&quot;,
       &quot;exbon|0|Explosion Damage Bouns&quot;,
       &quot;fragDice|0|# of Fragmentation Dice&quot;,
       &quot;tarDist|0|Distance from Explosion&quot;,
       &quot;tarSize|0|Target Size Modifier&quot;) ]
[h: tarDist = if(tarDist == 0, 1/3, tarDist)]
[h: ConDam = (eval(numDice + &quot;d6&quot;) * exMult)/(3*tarDist)]
[r: target] takes [r: floor(ConDam)] points of concussion damage.&lt;br&gt;
[h: distMod = 0]
[h: distMod = if(tarDist&gt;2,-1,distMod)]
[h: distMod = if(tarDist&gt;3,-2,distMod)]
[h: distMod = if(tarDist&gt;5,-3,distMod)]
[h: distMod = if(tarDist&gt;7,-4,distMod)]
[h: distMod = if(tarDist&gt;10,-5,distMod)]
[h: distMod = if(tarDist&gt;15,-6,distMod)]
[h: distMod = if(tarDist&gt;20,-7,distMod)]
[h: distMod = if(tarDist&gt;30,-8,distMod)]
[h: distMod = if(tarDist&gt;50,-9,distMod)]
[h: distMod = if(tarDist&gt;70,-10,distMod)]
[h: distMod = if(tarDist&gt;100,-11,distMod)]
[h: distMod = if(tarDist&gt;150,-12,distMod)]
[h: HitRoll = 0 - 3d6 + 15 + distMod + tarSize]
[h: FragHits = if(HitRoll &gt; -1,(floor(HitRoll/3)+1),0)]
[h: FragHits = if(tarDist&gt;(fragDice*5),0,FragHits)]
[h: FragHits = if(tarDist&gt;200,0,FragHits)]
[WHILE (FragHits&gt;0, &quot;&quot;), CODE: 
    {
    [r: target] takes [r: eval(fragDice+&quot;d6&quot;)] cutting points of damage from a fragmentation hit.&lt;br&gt;
    [h: FragHits=FragHits-1]
    } ]</command>
        <label>explosion</label>
        <group>GM</group>
        <sortby>z</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>false</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>120</index>
        <colorKey>default</colorKey>
        <hotKey>None</hotKey>
        <command>[if( isGM() ),h,code:{
  [MACRO(&quot;prefs@Lib:GURPS&quot;): &quot;&quot;]
};{}]
</command>
        <label>GURPS Prefs</label>
        <group>GM</group>
        <sortby>z</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
      <net.rptools.maptool.model.MacroButtonProperties>
        <saveLocation>CampaignPanel</saveLocation>
        <index>130</index>
        <colorKey>lightgray</colorKey>
        <hotKey>None</hotKey>
        <command>[MACRO(&quot;setUpTokenDialog@Lib:GURPS&quot;): &quot;&quot;]</command>
        <label>Set Up Token</label>
        <group>GM</group>
        <sortby>z</sortby>
        <autoExecute>true</autoExecute>
        <includeLabel>false</includeLabel>
        <applyToTokens>true</applyToTokens>
        <fontColorKey>black</fontColorKey>
        <fontSize>1.00em</fontSize>
        <minWidth></minWidth>
        <maxWidth></maxWidth>
        <allowPlayerEdits>true</allowPlayerEdits>
        <toolTip></toolTip>
        <commonMacro>false</commonMacro>
        <compareGroup>true</compareGroup>
        <compareSortPrefix>true</compareSortPrefix>
        <compareCommand>true</compareCommand>
        <compareIncludeLabel>true</compareIncludeLabel>
        <compareAutoExecute>true</compareAutoExecute>
        <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
      </net.rptools.maptool.model.MacroButtonProperties>
    </macroButtonProperties>
    <macroButtonLastIndex>136</macroButtonLastIndex>
  </campaign>
  <assetMap>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[65]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[36]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/zones/entry/net.rptools.maptool.model.Zone/tokenMap/entry/net.rptools.maptool.model.Token/imageAssetMap/entry/net.rptools.lib.MD5Key"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/zones/entry/net.rptools.maptool.model.Zone/backgroundPaint/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[38]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[47]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[15]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[10]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[77]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[55]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[54]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[39]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[37]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[42]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[29]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[4]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[18]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[62]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[20]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[56]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[19]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[71]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[33]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[43]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[73]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[32]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[58]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/zones/entry/net.rptools.maptool.model.Zone/tokenMap/entry[2]/net.rptools.maptool.model.Token/portraitImage"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[3]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[74]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/zones/entry/net.rptools.maptool.model.Zone/tokenMap/entry[3]/net.rptools.maptool.model.Token/imageAssetMap/entry/net.rptools.lib.MD5Key"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[25]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[34]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/zones/entry/net.rptools.maptool.model.Zone/tokenMap/entry/net.rptools.maptool.model.Token/portraitImage"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[68]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[70]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[78]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[52]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[72]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[26]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[22]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[64]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[69]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[16]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[6]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[23]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[40]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[76]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[53]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[46]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[63]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[44]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[60]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[14]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[7]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[31]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[8]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[57]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[67]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[59]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[79]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[27]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/zones/entry/net.rptools.maptool.model.Zone/tokenMap/entry[2]/net.rptools.maptool.model.Token/imageAssetMap/entry/net.rptools.lib.MD5Key"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[9]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[50]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[28]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[17]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[30]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[75]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[66]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[49]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[12]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[11]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[5]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[24]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[45]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[41]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[35]/net.rptools.maptool.client.ui.token.ImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[80]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[13]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[48]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[21]/net.rptools.maptool.client.ui.token.FlowImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[61]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
    <entry>
      <net.rptools.lib.MD5Key reference="../../../campaign/campaignProperties/tokenStates/entry[51]/net.rptools.maptool.client.ui.token.CornerImageTokenOverlay/assetId"/>
      <null/>
    </entry>
  </assetMap>
  <currentZoneId reference="../campaign/zones/entry/net.rptools.maptool.model.GUID"/>
  <currentView>
    <oneToOneScale>1.0</oneToOneScale>
    <scale>1.0</scale>
    <scaleIncrement>0.075</scaleIncrement>
    <zoomLevel>0</zoomLevel>
    <offsetX>519</offsetX>
    <offsetY>298</offsetY>
    <width>0</width>
    <height>0</height>
    <initialized>false</initialized>
  </currentView>
</net.rptools.maptool.util.PersistenceUtil_-PersistedCampaign>
